{"version":3,"file":"component---src-pages-tsp-jsx-af56759c1c013fffa36d.js","mappings":"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","sources":["webpack://portfolio/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/construct.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/createClass.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/get.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/inherits.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/toArray.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/typeof.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://portfolio/./node_modules/@babel/runtime/regenerator/index.js","webpack://portfolio/./node_modules/@chakra-ui/hooks/dist/esm/use-boolean.js","webpack://portfolio/./node_modules/@chakra-ui/form-control/dist/esm/form-control.js","webpack://portfolio/./node_modules/@chakra-ui/form-control/dist/esm/use-form-control.js","webpack://portfolio/./node_modules/@chakra-ui/select/dist/esm/select.js","webpack://portfolio/./node_modules/@deck.gl/layers/node_modules/@mapbox/tiny-sdf/index.js","webpack://portfolio/./node_modules/earcut/src/earcut.js","webpack://portfolio/./node_modules/hammerjs/hammer.js","webpack://portfolio/./node_modules/probe.gl/dist/es5/env/get-browser.js","webpack://portfolio/./node_modules/probe.gl/dist/es5/env/globals.js","webpack://portfolio/./node_modules/probe.gl/dist/es5/env/index.js","webpack://portfolio/./node_modules/probe.gl/dist/es5/env/is-browser.js","webpack://portfolio/./node_modules/probe.gl/dist/es5/env/is-electron.js","webpack://portfolio/./node_modules/core-js/internals/native-promise-constructor.js","webpack://portfolio/./node_modules/core-js/internals/new-promise-capability.js","webpack://portfolio/./node_modules/core-js/internals/promise-resolve.js","webpack://portfolio/./node_modules/core-js/internals/species-constructor.js","webpack://portfolio/./node_modules/core-js/modules/es.math.hypot.js","webpack://portfolio/./node_modules/core-js/modules/es.promise.finally.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/animation/timeline.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lifecycle/constants.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/env/is-electron.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/env/is-browser.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/globals.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/local-storage.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/formatters.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/color.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/autobind.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/assert.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/env/globals.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/utils/hi-res-timestamp.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/lib/log.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/log.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/debug/index.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/flatten.js","webpack://portfolio/./node_modules/@probe.gl/stats/dist/esm/utils/hi-res-timestamp.js","webpack://portfolio/./node_modules/@probe.gl/stats/dist/esm/lib/stat.js","webpack://portfolio/./node_modules/@probe.gl/stats/dist/esm/lib/stats.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/javascript-utils/is-type.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/assert.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/normalize-loader.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/globals.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/path-utils/file-aliases.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/utils/mime-type-utils.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/utils/resource-utils.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/utils/response-utils.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/loggers.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/option-defaults.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/option-utils.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/version.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/validate-worker-version.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-utils/get-loadable-worker-url.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-utils/get-transfer-list.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-thread.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-job.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-pool.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-farm/worker-farm.js","webpack://portfolio/./node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/get-worker-url.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/worker-loader-utils/parse-with-worker.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/asyncIterator.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/array-buffer-utils.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/buffer-utils.js","webpack://portfolio/./node_modules/@loaders.gl/loader-utils/dist/esm/lib/iterators/async-iteration.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-string-iterator.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-array-buffer-iterator.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/AwaitValue.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/AsyncGenerator.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-blob-iterator.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-stream-iterator.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-iterator.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/get-data.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/loader-context.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/api/register-loaders.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/api/select-loader.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","webpack://portfolio/./node_modules/@loaders.gl/core/dist/esm/lib/api/load.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/resource/resource.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/resource/resource-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/typed-array-manager.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/lib/common.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/lib/assert.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/classes/base/math-array.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/lib/validators.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/classes/base/vector.js","webpack://portfolio/./node_modules/@math.gl/core/node_modules/gl-matrix/esm/common.js","webpack://portfolio/./node_modules/@math.gl/core/node_modules/gl-matrix/esm/vec3.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/lib/gl-matrix-extras.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/classes/vector3.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/math-utils.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/classes/base/matrix.js","webpack://portfolio/./node_modules/@math.gl/core/node_modules/gl-matrix/esm/mat4.js","webpack://portfolio/./node_modules/@math.gl/core/node_modules/gl-matrix/esm/vec2.js","webpack://portfolio/./node_modules/@math.gl/core/node_modules/gl-matrix/esm/vec4.js","webpack://portfolio/./node_modules/@math.gl/core/dist/esm/classes/matrix4.js","webpack://portfolio/./node_modules/gl-matrix/esm/mat4.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/common.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/vec4.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/mat4.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/vec2.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/node_modules/gl-matrix/esm/vec3.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/assert.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js","webpack://portfolio/./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/constants.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/viewports/viewport.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/constants.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/utils/assert.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/filters/prop-types.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/shader-module.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/resolve-modules.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/utils/is-old-ie.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/utils/webgl-info.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/module-injectors.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/inject-shader.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/transpile-shader.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/assemble-shaders.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/lib/platform-defines.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/get.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/utils/log.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/utils/assert.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/utils/webgl-checks.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/polyfill/polyfill-vertex-array-object.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/polyfill/get-parameter-polyfill.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/polyfill/polyfill-table.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/state-tracker/webgl-parameter-tables.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/polyfill/polyfill-context.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/utils/utils.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/state-tracker/track-context-state.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/utils/device-pixels.js","webpack://portfolio/./node_modules/@luma.gl/gltools/dist/esm/context/context.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/init.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/assert.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/constants-to-keys.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/stub-methods.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/resource.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/typed-array-utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/check-props.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/accessor.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/texture-formats.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/texture.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/load-file.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/texture-2d.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/renderbuffer-formats.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/renderbuffer.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/clear.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/texture-cube.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/texture-utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/copy-and-blit.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/format-utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/features/features.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/framebuffer.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/uniforms.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/get-shader-name.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/format-glsl-error.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/get-shader-type-name.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/shader.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/attribute-utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/program-configuration.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/program.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/lib/program-manager.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/fp32/fp32.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/misc/geometry.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project.glsl.js","webpack://portfolio/./node_modules/gl-matrix/esm/common.js","webpack://portfolio/./node_modules/gl-matrix/esm/vec4.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/memoize.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/project/viewport-uniforms.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/index.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/deep-equal.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/view-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/positions.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/assert.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/views/view.js","webpack://portfolio/./node_modules/gl-matrix/esm/vec2.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/viewports/web-mercator-viewport.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/transition.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/controllers/transition-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/transition-interpolator.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/linear-interpolator.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/controllers/controller.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/controllers/map-controller.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/controllers/view-state.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/views/map-view.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/effects/lighting/ambient-light.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/effects/lighting/directional-light.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/effect.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/passes/pass.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/passes/layers-pass.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/passes/shadow-pass.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/shadow/shadow.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/effects/lighting/lighting-effect.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/effect-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/passes/draw-layers-pass.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/passes/pick-layers-pass.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/deck-renderer.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/picking/query-object.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/picking/pick-info.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/deck-picker.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/tooltip.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/utils/assert.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/utils/globals.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/category-api/image-type.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/category-api/parsed-image-api.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/parsers/svg-utils.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-image.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-image-bitmap.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/category-api/binary-image-api.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-node-image.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-image.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/image-loader.js","webpack://portfolio/./node_modules/@loaders.gl/images/dist/esm/lib/utils/version.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/json-loader.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/init.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/query.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/lib/animation-loop.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/request-animation-frame.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/constants.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/utils/globals.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/inputs/move-input.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/inputs/key-input.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/utils/event-utils.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","webpack://portfolio/./node_modules/mjolnir.js/dist/esm/event-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/deck.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/utils/use-isomorphic-layout-effect.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/utils/inherits-from.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/shader-attribute.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/data-column.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/gl-utils.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/range.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/array-utils.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-transition-utils.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/utils/shader-utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/transform-feedback.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/transform/buffer-transform.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/get-shader-version.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/transform/transform.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/transform/texture-transform.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/transform/transform-shader-utils.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/array-utils-flat.js","webpack://portfolio/./node_modules/probe.gl/dist/esm/env/get-browser.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/vertex-array-object.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/classes/vertex-array.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/utils/format-value.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/debug/debug-vertex-array.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/debug/debug-uniforms.js","webpack://portfolio/./node_modules/@luma.gl/webgl/dist/esm/debug/debug-program-configuration.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/lib/model-utils.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/lib/model.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/transform/transform.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/gpu-interpolation-transition.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/gpu-spring-transition.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-transition-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/cpu-interpolation-transition.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/transitions/cpu-spring-transition.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lifecycle/props.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/count.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/shader.js","webpack://portfolio/./node_modules/gl-matrix/esm/vec3.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/texture.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project-functions.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lifecycle/prop-types.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lifecycle/create-props.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lifecycle/component-state.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lifecycle/component.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/layer-state.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/layer.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/utils/extract-jsx-layers.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/utils/evaluate-children.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/utils/position-children-under-views.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/utils/extract-styles.js","webpack://portfolio/./node_modules/@deck.gl/react/dist/esm/deckgl.js","webpack://portfolio/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/globals.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/style-utils.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/math-utils.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/assert.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/map-state.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/map-constraints.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/map-context.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/terrain.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/static-map.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/transition-manager.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/map-controller.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/interactive-map.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://portfolio/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/deep-equal.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/layer.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/use-map-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/base-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/draggable-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/marker.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/popup.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/attribution-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/geolocate-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/navigation-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/version.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/components/scale-control.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js","webpack://portfolio/./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/picking/picking.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js","webpack://portfolio/./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/utils/tesselator.js","webpack://portfolio/./node_modules/@math.gl/polygon/dist/esm/polygon-utils.js","webpack://portfolio/./node_modules/@math.gl/polygon/dist/esm/lineclip.js","webpack://portfolio/./node_modules/@math.gl/polygon/dist/esm/utils.js","webpack://portfolio/./node_modules/@math.gl/polygon/dist/esm/cut-by-grid.js","webpack://portfolio/./node_modules/@math.gl/polygon/dist/esm/cut-by-mercator-bounds.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/path-layer/path.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/path-layer/path-tesselator.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer-vertex.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer-fragment.glsl.js","webpack://portfolio/./src/hooks/useInterval.js","webpack://portfolio/./src/algorithms/tsp/constants.js","webpack://portfolio/./node_modules/@deck.gl/core/dist/esm/lib/composite-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/utils.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-binary.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/icon-layer/icon-layer-vertex.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/icon-layer/icon-manager.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/icon-layer/icon-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/icon-layer/icon-layer-fragment.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer-vertex.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer-fragment.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/multi-icon-layer/multi-icon-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/multi-icon-layer/multi-icon-layer-fragment.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/utils.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/lru-cache.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/font-atlas-manager.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/text-background-layer/text-background-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/text-background-layer/text-background-layer-vertex.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/text-background-layer/text-background-layer-fragment.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/text-layer/text-layer.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/lights/lights.glsl.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/lights/lights.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.glsl.js","webpack://portfolio/./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/polygon.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/polygon-tesselator.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer-vertex-main.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer-vertex-top.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer-vertex-side.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer-fragment.glsl.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/geojson-layer/sub-layer-map.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-layer-props.js","webpack://portfolio/./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-layer.js","webpack://portfolio/./src/components/TspVisualizer/constants.js","webpack://portfolio/./src/components/TspVisualizer/TspVisualizer.jsx","webpack://portfolio/./src/pages/tsp.jsx","webpack://portfolio/./node_modules/regenerator-runtime/runtime.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useState } from \"react\";\n/**\n * React hook to manage boolean (on - off) states\n *\n * @param initialState the initial boolean state value\n */\n\nexport function useBoolean(initialState) {\n  if (initialState === void 0) {\n    initialState = false;\n  }\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var on = useCallback(function () {\n    setValue(true);\n  }, []);\n  var off = useCallback(function () {\n    setValue(false);\n  }, []);\n  var toggle = useCallback(function () {\n    setValue(function (prev) {\n      return !prev;\n    });\n  }, []);\n  return [value, {\n    on: on,\n    off: off,\n    toggle: toggle\n  }];\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { useBoolean, useId } from \"@chakra-ui/hooks\";\nimport { chakra, forwardRef, omitThemingProps, StylesProvider, useMultiStyleConfig, useStyles } from \"@chakra-ui/system\";\nimport { cx, dataAttr, __DEV__ } from \"@chakra-ui/utils\";\nimport { createContext, mergeRefs } from \"@chakra-ui/react-utils\";\nimport * as React from \"react\";\n\nvar _createContext = createContext({\n  strict: false,\n  name: \"FormControlContext\"\n}),\n    _createContext2 = _slicedToArray(_createContext, 2),\n    FormControlProvider = _createContext2[0],\n    useFormControlContext = _createContext2[1];\n\nexport { useFormControlContext };\n\nfunction useFormControlProvider(props) {\n  var idProp = props.id,\n      isRequired = props.isRequired,\n      isInvalid = props.isInvalid,\n      isDisabled = props.isDisabled,\n      isReadOnly = props.isReadOnly,\n      htmlProps = _objectWithoutPropertiesLoose(props, [\"id\", \"isRequired\", \"isInvalid\", \"isDisabled\", \"isReadOnly\"]); // Generate all the required ids\n\n\n  var uuid = useId();\n  var id = idProp || \"field-\" + uuid;\n  var labelId = id + \"-label\";\n  var feedbackId = id + \"-feedback\";\n  var helpTextId = id + \"-helptext\";\n  /**\n   * Track whether the `FormErrorMessage` has been rendered.\n   * We use this to append its id the the `aria-describedby` of the `input`.\n   */\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      hasFeedbackText = _React$useState2[0],\n      setHasFeedbackText = _React$useState2[1];\n  /**\n   * Track whether the `FormHelperText` has been rendered.\n   * We use this to append its id the the `aria-describedby` of the `input`.\n   */\n\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      hasHelpText = _React$useState4[0],\n      setHasHelpText = _React$useState4[1]; // Track whether the form element (e.g, `input`) has focus.\n\n\n  var _useBoolean = useBoolean(),\n      _useBoolean2 = _slicedToArray(_useBoolean, 2),\n      isFocused = _useBoolean2[0],\n      setFocus = _useBoolean2[1];\n\n  var getHelpTextProps = React.useCallback(function (props, forwardedRef) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (forwardedRef === void 0) {\n      forwardedRef = null;\n    }\n\n    return _extends({\n      id: helpTextId\n    }, props, {\n      /**\n       * Notify the field context when the help text is rendered on screen,\n       * so we can apply the correct `aria-describedby` to the field (e.g. input, textarea).\n       */\n      ref: mergeRefs(forwardedRef, function (node) {\n        if (!node) return;\n        setHasHelpText(true);\n      })\n    });\n  }, [helpTextId]);\n  var getLabelProps = React.useCallback(function (props, forwardedRef) {\n    var _props$id, _props$htmlFor;\n\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (forwardedRef === void 0) {\n      forwardedRef = null;\n    }\n\n    return _extends({}, props, {\n      ref: forwardedRef,\n      \"data-focus\": dataAttr(isFocused),\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-invalid\": dataAttr(isInvalid),\n      \"data-readonly\": dataAttr(isReadOnly),\n      id: (_props$id = props.id) != null ? _props$id : labelId,\n      htmlFor: (_props$htmlFor = props.htmlFor) != null ? _props$htmlFor : id\n    });\n  }, [id, isDisabled, isFocused, isInvalid, isReadOnly, labelId]);\n  var getErrorMessageProps = React.useCallback(function (props, forwardedRef) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (forwardedRef === void 0) {\n      forwardedRef = null;\n    }\n\n    return _extends({\n      id: feedbackId\n    }, props, {\n      /**\n       * Notify the field context when the error message is rendered on screen,\n       * so we can apply the correct `aria-describedby` to the field (e.g. input, textarea).\n       */\n      ref: mergeRefs(forwardedRef, function (node) {\n        if (!node) return;\n        setHasFeedbackText(true);\n      }),\n      \"aria-live\": \"polite\"\n    });\n  }, [feedbackId]);\n  var getRootProps = React.useCallback(function (props, forwardedRef) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (forwardedRef === void 0) {\n      forwardedRef = null;\n    }\n\n    return _extends({}, props, htmlProps, {\n      ref: forwardedRef,\n      role: \"group\"\n    });\n  }, [htmlProps]);\n  var getRequiredIndicatorProps = React.useCallback(function (props, forwardedRef) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (forwardedRef === void 0) {\n      forwardedRef = null;\n    }\n\n    return _extends({}, props, {\n      ref: forwardedRef,\n      role: \"presentation\",\n      \"aria-hidden\": true,\n      children: props.children || \"*\"\n    });\n  }, []);\n  return {\n    isRequired: !!isRequired,\n    isInvalid: !!isInvalid,\n    isReadOnly: !!isReadOnly,\n    isDisabled: !!isDisabled,\n    isFocused: !!isFocused,\n    onFocus: setFocus.on,\n    onBlur: setFocus.off,\n    hasFeedbackText: hasFeedbackText,\n    setHasFeedbackText: setHasFeedbackText,\n    hasHelpText: hasHelpText,\n    setHasHelpText: setHasHelpText,\n    id: id,\n    labelId: labelId,\n    feedbackId: feedbackId,\n    helpTextId: helpTextId,\n    htmlProps: htmlProps,\n    getHelpTextProps: getHelpTextProps,\n    getErrorMessageProps: getErrorMessageProps,\n    getRootProps: getRootProps,\n    getLabelProps: getLabelProps,\n    getRequiredIndicatorProps: getRequiredIndicatorProps\n  };\n}\n/**\n * FormControl provides context such as\n * `isInvalid`, `isDisabled`, and `isRequired` to form elements.\n *\n * This is commonly used in form elements such as `input`,\n * `select`, `textarea`, etc.\n */\n\n\nexport var FormControl = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Form\", props);\n  var ownProps = omitThemingProps(props);\n\n  var _useFormControlProvid = useFormControlProvider(ownProps),\n      getRootProps = _useFormControlProvid.getRootProps,\n      context = _objectWithoutPropertiesLoose(_useFormControlProvid, [\"getRootProps\", \"htmlProps\"]);\n\n  var className = cx(\"chakra-form-control\", props.className);\n  var contextValue = React.useMemo(function () {\n    return context;\n  }, [context]);\n  return /*#__PURE__*/React.createElement(FormControlProvider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, /*#__PURE__*/React.createElement(chakra.div, _extends({}, getRootProps({}, ref), {\n    className: className,\n    __css: styles[\"container\"]\n  }))));\n});\n\nif (__DEV__) {\n  FormControl.displayName = \"FormControl\";\n}\n/**\n * FormHelperText\n *\n * Assistive component that conveys additional guidance\n * about the field, such as how it will be used and what\n * types in values should be provided.\n */\n\n\nexport var FormHelperText = /*#__PURE__*/forwardRef(function (props, ref) {\n  var field = useFormControlContext();\n  var styles = useStyles();\n  var className = cx(\"chakra-form__helper-text\", props.className);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({}, field == null ? void 0 : field.getHelpTextProps(props, ref), {\n    __css: styles.helperText,\n    className: className\n  }));\n});\n\nif (__DEV__) {\n  FormHelperText.displayName = \"FormHelperText\";\n}","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { ariaAttr, callAllHandlers } from \"@chakra-ui/utils\";\nimport { useFormControlContext } from \"./form-control\";\n/**\n * React hook that provides the props that should be spread on to\n * input fields (`input`, `select`, `textarea`, etc.).\n *\n * It provides a convenient way to control a form fields, validation\n * and helper text.\n */\n\nexport function useFormControl(props) {\n  var _useFormControlProps = useFormControlProps(props),\n      isDisabled = _useFormControlProps.isDisabled,\n      isInvalid = _useFormControlProps.isInvalid,\n      isReadOnly = _useFormControlProps.isReadOnly,\n      isRequired = _useFormControlProps.isRequired,\n      rest = _objectWithoutPropertiesLoose(_useFormControlProps, [\"isDisabled\", \"isInvalid\", \"isReadOnly\", \"isRequired\"]);\n\n  return _extends({}, rest, {\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    required: isRequired,\n    \"aria-invalid\": ariaAttr(isInvalid),\n    \"aria-required\": ariaAttr(isRequired),\n    \"aria-readonly\": ariaAttr(isReadOnly)\n  });\n}\nexport function useFormControlProps(props) {\n  var _ref, _ref2, _ref3;\n\n  var field = useFormControlContext();\n\n  var id = props.id,\n      disabled = props.disabled,\n      readOnly = props.readOnly,\n      required = props.required,\n      isRequired = props.isRequired,\n      isInvalid = props.isInvalid,\n      isReadOnly = props.isReadOnly,\n      isDisabled = props.isDisabled,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      rest = _objectWithoutPropertiesLoose(props, [\"id\", \"disabled\", \"readOnly\", \"required\", \"isRequired\", \"isInvalid\", \"isReadOnly\", \"isDisabled\", \"onFocus\", \"onBlur\"]);\n\n  var labelIds = props[\"aria-describedby\"] ? [props[\"aria-describedby\"]] : []; // Error message must be described first in all scenarios.\n\n  if (field != null && field.hasFeedbackText && field != null && field.isInvalid) {\n    labelIds.push(field.feedbackId);\n  }\n\n  if (field != null && field.hasHelpText) {\n    labelIds.push(field.helpTextId);\n  }\n\n  return _extends({}, rest, {\n    \"aria-describedby\": labelIds.join(\" \") || undefined,\n    id: id != null ? id : field == null ? void 0 : field.id,\n    isDisabled: (_ref = disabled != null ? disabled : isDisabled) != null ? _ref : field == null ? void 0 : field.isDisabled,\n    isReadOnly: (_ref2 = readOnly != null ? readOnly : isReadOnly) != null ? _ref2 : field == null ? void 0 : field.isReadOnly,\n    isRequired: (_ref3 = required != null ? required : isRequired) != null ? _ref3 : field == null ? void 0 : field.isRequired,\n    isInvalid: isInvalid != null ? isInvalid : field == null ? void 0 : field.isInvalid,\n    onFocus: callAllHandlers(field == null ? void 0 : field.onFocus, onFocus),\n    onBlur: callAllHandlers(field == null ? void 0 : field.onBlur, onBlur)\n  });\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { useFormControl } from \"@chakra-ui/form-control\";\nimport { chakra, forwardRef, layoutPropNames, omitThemingProps, useMultiStyleConfig } from \"@chakra-ui/system\";\nimport { cx, mergeWith, split, __DEV__ } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nexport var SelectField = /*#__PURE__*/forwardRef(function (props, ref) {\n  var children = props.children,\n      placeholder = props.placeholder,\n      className = props.className,\n      rest = _objectWithoutPropertiesLoose(props, [\"children\", \"placeholder\", \"className\"]);\n\n  var ownProps = useFormControl(rest);\n  return /*#__PURE__*/React.createElement(chakra.select, _extends({}, ownProps, {\n    ref: ref,\n    className: cx(\"chakra-select\", className)\n  }), placeholder && /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }, placeholder), children);\n});\n\nif (__DEV__) {\n  SelectField.displayName = \"SelectField\";\n}\n/**\n * React component used to select one item from a list of options.\n */\n\n\nexport var Select = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Select\", props);\n\n  var _omitThemingProps = omitThemingProps(props),\n      rootProps = _omitThemingProps.rootProps,\n      placeholder = _omitThemingProps.placeholder,\n      icon = _omitThemingProps.icon,\n      color = _omitThemingProps.color,\n      height = _omitThemingProps.height,\n      h = _omitThemingProps.h,\n      minH = _omitThemingProps.minH,\n      minHeight = _omitThemingProps.minHeight,\n      iconColor = _omitThemingProps.iconColor,\n      iconSize = _omitThemingProps.iconSize,\n      rest = _objectWithoutPropertiesLoose(_omitThemingProps, [\"rootProps\", \"placeholder\", \"icon\", \"color\", \"height\", \"h\", \"minH\", \"minHeight\", \"iconColor\", \"iconSize\", \"isFullWidth\"]);\n\n  var _split = split(rest, layoutPropNames),\n      _split2 = _slicedToArray(_split, 2),\n      layoutProps = _split2[0],\n      otherProps = _split2[1];\n\n  var rootStyles = {\n    width: \"100%\",\n    height: \"fit-content\",\n    position: \"relative\",\n    color: color\n  };\n  var fieldStyles = mergeWith({}, styles.field, {\n    paddingEnd: \"2rem\",\n    _focus: {\n      zIndex: \"unset\"\n    }\n  });\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: \"chakra-select__wrapper\",\n    __css: rootStyles\n  }, layoutProps, rootProps), /*#__PURE__*/React.createElement(SelectField, _extends({\n    ref: ref,\n    height: h != null ? h : height,\n    minH: minH != null ? minH : minHeight,\n    placeholder: placeholder\n  }, otherProps, {\n    __css: fieldStyles\n  }), props.children), /*#__PURE__*/React.createElement(SelectIcon, _extends({\n    \"data-disabled\": props.isDisabled\n  }, (iconColor || color) && {\n    color: iconColor || color\n  }, {\n    __css: styles.icon\n  }, iconSize && {\n    fontSize: iconSize\n  }), icon));\n});\n\nif (__DEV__) {\n  Select.displayName = \"Select\";\n}\n\nexport var DefaultIcon = function DefaultIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n  }));\n};\nvar IconWrapper = chakra(\"div\", {\n  baseStyle: {\n    position: \"absolute\",\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    pointerEvents: \"none\",\n    top: \"50%\",\n    transform: \"translateY(-50%)\"\n  }\n});\n\nvar SelectIcon = function SelectIcon(props) {\n  var _props$children = props.children,\n      children = _props$children === void 0 ? /*#__PURE__*/React.createElement(DefaultIcon, null) : _props$children,\n      rest = _objectWithoutPropertiesLoose(props, [\"children\"]);\n\n  var clone = /*#__PURE__*/React.cloneElement(children, {\n    role: \"presentation\",\n    className: \"chakra-select__icon\",\n    focusable: false,\n    \"aria-hidden\": true,\n    // force icon to adhere to `IconWrapper` styles\n    style: {\n      width: \"1em\",\n      height: \"1em\",\n      color: \"currentColor\"\n    }\n  });\n  return /*#__PURE__*/React.createElement(IconWrapper, _extends({}, rest, {\n    className: \"chakra-select__icon-wrapper\"\n  }), /*#__PURE__*/React.isValidElement(children) ? clone : null);\n};\n\nif (__DEV__) {\n  SelectIcon.displayName = \"SelectIcon\";\n}","'use strict';\n\nmodule.exports = TinySDF;\nmodule.exports.default = TinySDF;\nvar INF = 1e20;\n\nfunction TinySDF(fontSize, buffer, radius, cutoff, fontFamily, fontWeight) {\n  this.fontSize = fontSize || 24;\n  this.buffer = buffer === undefined ? 3 : buffer;\n  this.cutoff = cutoff || 0.25;\n  this.fontFamily = fontFamily || 'sans-serif';\n  this.fontWeight = fontWeight || 'normal';\n  this.radius = radius || 8; // For backwards compatibility, we honor the implicit contract that the\n  // size of the returned bitmap will be fontSize + buffer * 2\n\n  var size = this.size = this.fontSize + this.buffer * 2; // Glyphs may be slightly larger than their fontSize. The canvas already\n  // has buffer space, but create extra buffer space in the output grid for the\n  // \"halo\" to extend into (if metric extraction is enabled)\n\n  var gridSize = size + this.buffer * 2;\n  this.canvas = document.createElement('canvas');\n  this.canvas.width = this.canvas.height = size;\n  this.ctx = this.canvas.getContext('2d');\n  this.ctx.font = this.fontWeight + ' ' + this.fontSize + 'px ' + this.fontFamily;\n  this.ctx.textAlign = 'left'; // Necessary so that RTL text doesn't have different alignment\n\n  this.ctx.fillStyle = 'black'; // temporary arrays for the distance transform\n\n  this.gridOuter = new Float64Array(gridSize * gridSize);\n  this.gridInner = new Float64Array(gridSize * gridSize);\n  this.f = new Float64Array(gridSize);\n  this.z = new Float64Array(gridSize + 1);\n  this.v = new Uint16Array(gridSize);\n  this.useMetrics = this.ctx.measureText('A').actualBoundingBoxLeft !== undefined; // hack around https://bugzilla.mozilla.org/show_bug.cgi?id=737852\n\n  this.middle = Math.round(size / 2 * (navigator.userAgent.indexOf('Gecko/') >= 0 ? 1.2 : 1));\n}\n\nfunction prepareGrids(imgData, width, height, glyphWidth, glyphHeight, gridOuter, gridInner) {\n  // Initialize grids outside the glyph range to alpha 0\n  gridOuter.fill(INF, 0, width * height);\n  gridInner.fill(0, 0, width * height);\n  var offset = (width - glyphWidth) / 2; // This is zero if we're not extracting metrics\n\n  for (var y = 0; y < glyphHeight; y++) {\n    for (var x = 0; x < glyphWidth; x++) {\n      var j = (y + offset) * width + x + offset;\n      var a = imgData.data[4 * (y * glyphWidth + x) + 3] / 255; // alpha value\n\n      if (a === 1) {\n        gridOuter[j] = 0;\n        gridInner[j] = INF;\n      } else if (a === 0) {\n        gridOuter[j] = INF;\n        gridInner[j] = 0;\n      } else {\n        var b = Math.max(0, 0.5 - a);\n        var c = Math.max(0, a - 0.5);\n        gridOuter[j] = b * b;\n        gridInner[j] = c * c;\n      }\n    }\n  }\n}\n\nfunction extractAlpha(alphaChannel, width, height, gridOuter, gridInner, radius, cutoff) {\n  for (var i = 0; i < width * height; i++) {\n    var d = Math.sqrt(gridOuter[i]) - Math.sqrt(gridInner[i]);\n    alphaChannel[i] = Math.round(255 - 255 * (d / radius + cutoff));\n  }\n}\n\nTinySDF.prototype._draw = function (char, getMetrics) {\n  var textMetrics = this.ctx.measureText(char); // Older browsers only expose the glyph width\n  // This is enough for basic layout with all glyphs using the same fixed size\n\n  var advance = textMetrics.width;\n  var doubleBuffer = 2 * this.buffer;\n  var width, glyphWidth, height, glyphHeight, top;\n  var imgTop, imgLeft, baselinePosition; // If the browser supports bounding box metrics, we can generate a smaller\n  // SDF. This is a significant performance win.\n\n  if (getMetrics && this.useMetrics) {\n    // The integer/pixel part of the top alignment is encoded in metrics.top\n    // The remainder is implicitly encoded in the rasterization\n    top = Math.floor(textMetrics.actualBoundingBoxAscent);\n    baselinePosition = this.buffer + Math.ceil(textMetrics.actualBoundingBoxAscent);\n    imgTop = this.buffer;\n    imgLeft = this.buffer; // If the glyph overflows the canvas size, it will be clipped at the\n    // bottom/right\n\n    glyphWidth = Math.min(this.size, Math.ceil(textMetrics.actualBoundingBoxRight - textMetrics.actualBoundingBoxLeft));\n    glyphHeight = Math.min(this.size - imgTop, Math.ceil(textMetrics.actualBoundingBoxAscent + textMetrics.actualBoundingBoxDescent));\n    width = glyphWidth + doubleBuffer;\n    height = glyphHeight + doubleBuffer;\n    this.ctx.textBaseline = 'alphabetic';\n  } else {\n    width = glyphWidth = this.size;\n    height = glyphHeight = this.size; // 19 points is an approximation of the \"cap height\" ascent from alphabetic\n    // baseline (even though actual drawing is from middle baseline, we can\n    // use the approximation because every glyph fills the em box)\n\n    top = 19 * this.fontSize / 24;\n    imgTop = imgLeft = 0;\n    baselinePosition = this.middle;\n    this.ctx.textBaseline = 'middle';\n  }\n\n  var imgData;\n\n  if (glyphWidth && glyphHeight) {\n    this.ctx.clearRect(imgLeft, imgTop, glyphWidth, glyphHeight);\n    this.ctx.fillText(char, this.buffer, baselinePosition);\n    imgData = this.ctx.getImageData(imgLeft, imgTop, glyphWidth, glyphHeight);\n  }\n\n  var alphaChannel = new Uint8ClampedArray(width * height);\n  prepareGrids(imgData, width, height, glyphWidth, glyphHeight, this.gridOuter, this.gridInner);\n  edt(this.gridOuter, width, height, this.f, this.v, this.z);\n  edt(this.gridInner, width, height, this.f, this.v, this.z);\n  extractAlpha(alphaChannel, width, height, this.gridOuter, this.gridInner, this.radius, this.cutoff);\n  return {\n    data: alphaChannel,\n    metrics: {\n      width: glyphWidth,\n      height: glyphHeight,\n      sdfWidth: width,\n      sdfHeight: height,\n      top: top,\n      left: 0,\n      advance: advance\n    }\n  };\n};\n\nTinySDF.prototype.draw = function (char) {\n  return this._draw(char, false).data;\n};\n\nTinySDF.prototype.drawWithMetrics = function (char) {\n  return this._draw(char, true);\n}; // 2D Euclidean squared distance transform by Felzenszwalb & Huttenlocher https://cs.brown.edu/~pff/papers/dt-final.pdf\n\n\nfunction edt(data, width, height, f, v, z) {\n  for (var x = 0; x < width; x++) {\n    edt1d(data, x, width, height, f, v, z);\n  }\n\n  for (var y = 0; y < height; y++) {\n    edt1d(data, y * width, 1, width, f, v, z);\n  }\n} // 1D squared distance transform\n\n\nfunction edt1d(grid, offset, stride, length, f, v, z) {\n  var q, k, s, r;\n  v[0] = 0;\n  z[0] = -INF;\n  z[1] = INF;\n\n  for (q = 0; q < length; q++) {\n    f[q] = grid[offset + q * stride];\n  }\n\n  for (q = 1, k = 0, s = 0; q < length; q++) {\n    do {\n      r = v[k];\n      s = (f[q] - f[r] + q * q - r * r) / (q - r) / 2;\n    } while (s <= z[k] && --k > -1);\n\n    k++;\n    v[k] = q;\n    z[k] = s;\n    z[k + 1] = INF;\n  }\n\n  for (q = 0, k = 0; q < length; q++) {\n    while (z[k + 1] < q) {\n      k++;\n    }\n\n    r = v[k];\n    grid[offset + q * stride] = f[r] + (q - r) * (q - r);\n  }\n}","'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n  dim = dim || 2;\n  var hasHoles = holeIndices && holeIndices.length,\n      outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n      outerNode = linkedList(data, 0, outerLen, dim, true),\n      triangles = [];\n  if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n  var minX, minY, maxX, maxY, x, y, invSize;\n  if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim); // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n  if (data.length > 80 * dim) {\n    minX = maxX = data[0];\n    minY = maxY = data[1];\n\n    for (var i = dim; i < outerLen; i += dim) {\n      x = data[i];\n      y = data[i + 1];\n      if (x < minX) minX = x;\n      if (y < minY) minY = y;\n      if (x > maxX) maxX = x;\n      if (y > maxY) maxY = y;\n    } // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\n    invSize = Math.max(maxX - minX, maxY - minY);\n    invSize = invSize !== 0 ? 1 / invSize : 0;\n  }\n\n  earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n  return triangles;\n} // create a circular doubly linked list from polygon points in the specified winding order\n\n\nfunction linkedList(data, start, end, dim, clockwise) {\n  var i, last;\n\n  if (clockwise === signedArea(data, start, end, dim) > 0) {\n    for (i = start; i < end; i += dim) {\n      last = insertNode(i, data[i], data[i + 1], last);\n    }\n  } else {\n    for (i = end - dim; i >= start; i -= dim) {\n      last = insertNode(i, data[i], data[i + 1], last);\n    }\n  }\n\n  if (last && equals(last, last.next)) {\n    removeNode(last);\n    last = last.next;\n  }\n\n  return last;\n} // eliminate colinear or duplicate points\n\n\nfunction filterPoints(start, end) {\n  if (!start) return start;\n  if (!end) end = start;\n  var p = start,\n      again;\n\n  do {\n    again = false;\n\n    if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n      removeNode(p);\n      p = end = p.prev;\n      if (p === p.next) break;\n      again = true;\n    } else {\n      p = p.next;\n    }\n  } while (again || p !== end);\n\n  return end;\n} // main ear slicing loop which triangulates a polygon (given as a linked list)\n\n\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n  if (!ear) return; // interlink polygon nodes in z-order\n\n  if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n  var stop = ear,\n      prev,\n      next; // iterate through ears, slicing them one by one\n\n  while (ear.prev !== ear.next) {\n    prev = ear.prev;\n    next = ear.next;\n\n    if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n      // cut off the triangle\n      triangles.push(prev.i / dim);\n      triangles.push(ear.i / dim);\n      triangles.push(next.i / dim);\n      removeNode(ear); // skipping the next vertex leads to less sliver triangles\n\n      ear = next.next;\n      stop = next.next;\n      continue;\n    }\n\n    ear = next; // if we looped through the whole remaining polygon and can't find any more ears\n\n    if (ear === stop) {\n      // try filtering points and slicing again\n      if (!pass) {\n        earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1); // if this didn't work, try curing all small self-intersections locally\n      } else if (pass === 1) {\n        ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n        earcutLinked(ear, triangles, dim, minX, minY, invSize, 2); // as a last resort, try splitting the remaining polygon into two\n      } else if (pass === 2) {\n        splitEarcut(ear, triangles, dim, minX, minY, invSize);\n      }\n\n      break;\n    }\n  }\n} // check whether a polygon node forms a valid ear with adjacent nodes\n\n\nfunction isEar(ear) {\n  var a = ear.prev,\n      b = ear,\n      c = ear.next;\n  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n  // now make sure we don't have other points inside the potential ear\n\n  var p = ear.next.next;\n\n  while (p !== ear.prev) {\n    if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.next;\n  }\n\n  return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n  var a = ear.prev,\n      b = ear,\n      c = ear.next;\n  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n  // triangle bbox; min & max are calculated like this for speed\n\n  var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,\n      minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,\n      maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,\n      maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y; // z-order range for the current triangle bbox;\n\n  var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n      maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n  var p = ear.prevZ,\n      n = ear.nextZ; // look for points inside the triangle in both directions\n\n  while (p && p.z >= minZ && n && n.z <= maxZ) {\n    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.prevZ;\n    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n    n = n.nextZ;\n  } // look for remaining points in decreasing z-order\n\n\n  while (p && p.z >= minZ) {\n    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.prevZ;\n  } // look for remaining points in increasing z-order\n\n\n  while (n && n.z <= maxZ) {\n    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n    n = n.nextZ;\n  }\n\n  return true;\n} // go through all polygon nodes and cure small local self-intersections\n\n\nfunction cureLocalIntersections(start, triangles, dim) {\n  var p = start;\n\n  do {\n    var a = p.prev,\n        b = p.next.next;\n\n    if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n      triangles.push(a.i / dim);\n      triangles.push(p.i / dim);\n      triangles.push(b.i / dim); // remove two nodes involved\n\n      removeNode(p);\n      removeNode(p.next);\n      p = start = b;\n    }\n\n    p = p.next;\n  } while (p !== start);\n\n  return filterPoints(p);\n} // try splitting polygon into two and triangulate them independently\n\n\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n  // look for a valid diagonal that divides the polygon into two\n  var a = start;\n\n  do {\n    var b = a.next.next;\n\n    while (b !== a.prev) {\n      if (a.i !== b.i && isValidDiagonal(a, b)) {\n        // split the polygon in two by the diagonal\n        var c = splitPolygon(a, b); // filter colinear points around the cuts\n\n        a = filterPoints(a, a.next);\n        c = filterPoints(c, c.next); // run earcut on each half\n\n        earcutLinked(a, triangles, dim, minX, minY, invSize);\n        earcutLinked(c, triangles, dim, minX, minY, invSize);\n        return;\n      }\n\n      b = b.next;\n    }\n\n    a = a.next;\n  } while (a !== start);\n} // link every hole into the outer loop, producing a single-ring polygon without holes\n\n\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n  var queue = [],\n      i,\n      len,\n      start,\n      end,\n      list;\n\n  for (i = 0, len = holeIndices.length; i < len; i++) {\n    start = holeIndices[i] * dim;\n    end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n    list = linkedList(data, start, end, dim, false);\n    if (list === list.next) list.steiner = true;\n    queue.push(getLeftmost(list));\n  }\n\n  queue.sort(compareX); // process holes from left to right\n\n  for (i = 0; i < queue.length; i++) {\n    outerNode = eliminateHole(queue[i], outerNode);\n    outerNode = filterPoints(outerNode, outerNode.next);\n  }\n\n  return outerNode;\n}\n\nfunction compareX(a, b) {\n  return a.x - b.x;\n} // find a bridge between vertices that connects hole with an outer ring and and link it\n\n\nfunction eliminateHole(hole, outerNode) {\n  var bridge = findHoleBridge(hole, outerNode);\n\n  if (!bridge) {\n    return outerNode;\n  }\n\n  var bridgeReverse = splitPolygon(bridge, hole); // filter collinear points around the cuts\n\n  var filteredBridge = filterPoints(bridge, bridge.next);\n  filterPoints(bridgeReverse, bridgeReverse.next); // Check if input node was removed by the filtering\n\n  return outerNode === bridge ? filteredBridge : outerNode;\n} // David Eberly's algorithm for finding a bridge between hole and outer polygon\n\n\nfunction findHoleBridge(hole, outerNode) {\n  var p = outerNode,\n      hx = hole.x,\n      hy = hole.y,\n      qx = -Infinity,\n      m; // find a segment intersected by a ray from the hole's leftmost point to the left;\n  // segment's endpoint with lesser x will be potential connection point\n\n  do {\n    if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n      var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\n      if (x <= hx && x > qx) {\n        qx = x;\n\n        if (x === hx) {\n          if (hy === p.y) return p;\n          if (hy === p.next.y) return p.next;\n        }\n\n        m = p.x < p.next.x ? p : p.next;\n      }\n    }\n\n    p = p.next;\n  } while (p !== outerNode);\n\n  if (!m) return null;\n  if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n  // look for points inside the triangle of hole point, segment intersection and endpoint;\n  // if there are no points found, we have a valid connection;\n  // otherwise choose the point of the minimum angle with the ray as connection point\n\n  var stop = m,\n      mx = m.x,\n      my = m.y,\n      tanMin = Infinity,\n      tan;\n  p = m;\n\n  do {\n    if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n      tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n      if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n        m = p;\n        tanMin = tan;\n      }\n    }\n\n    p = p.next;\n  } while (p !== stop);\n\n  return m;\n} // whether sector in vertex m contains sector in vertex p in the same coordinates\n\n\nfunction sectorContainsSector(m, p) {\n  return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n} // interlink polygon nodes in z-order\n\n\nfunction indexCurve(start, minX, minY, invSize) {\n  var p = start;\n\n  do {\n    if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n    p.prevZ = p.prev;\n    p.nextZ = p.next;\n    p = p.next;\n  } while (p !== start);\n\n  p.prevZ.nextZ = null;\n  p.prevZ = null;\n  sortLinked(p);\n} // Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\n\nfunction sortLinked(list) {\n  var i,\n      p,\n      q,\n      e,\n      tail,\n      numMerges,\n      pSize,\n      qSize,\n      inSize = 1;\n\n  do {\n    p = list;\n    list = null;\n    tail = null;\n    numMerges = 0;\n\n    while (p) {\n      numMerges++;\n      q = p;\n      pSize = 0;\n\n      for (i = 0; i < inSize; i++) {\n        pSize++;\n        q = q.nextZ;\n        if (!q) break;\n      }\n\n      qSize = inSize;\n\n      while (pSize > 0 || qSize > 0 && q) {\n        if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n          e = p;\n          p = p.nextZ;\n          pSize--;\n        } else {\n          e = q;\n          q = q.nextZ;\n          qSize--;\n        }\n\n        if (tail) tail.nextZ = e;else list = e;\n        e.prevZ = tail;\n        tail = e;\n      }\n\n      p = q;\n    }\n\n    tail.nextZ = null;\n    inSize *= 2;\n  } while (numMerges > 1);\n\n  return list;\n} // z-order of a point given coords and inverse of the longer side of data bbox\n\n\nfunction zOrder(x, y, minX, minY, invSize) {\n  // coords are transformed into non-negative 15-bit integer range\n  x = 32767 * (x - minX) * invSize;\n  y = 32767 * (y - minY) * invSize;\n  x = (x | x << 8) & 0x00FF00FF;\n  x = (x | x << 4) & 0x0F0F0F0F;\n  x = (x | x << 2) & 0x33333333;\n  x = (x | x << 1) & 0x55555555;\n  y = (y | y << 8) & 0x00FF00FF;\n  y = (y | y << 4) & 0x0F0F0F0F;\n  y = (y | y << 2) & 0x33333333;\n  y = (y | y << 1) & 0x55555555;\n  return x | y << 1;\n} // find the leftmost node of a polygon ring\n\n\nfunction getLeftmost(start) {\n  var p = start,\n      leftmost = start;\n\n  do {\n    if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n    p = p.next;\n  } while (p !== start);\n\n  return leftmost;\n} // check if a point lies within a convex triangle\n\n\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n  return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n} // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\n\nfunction isValidDiagonal(a, b) {\n  return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n  equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n} // signed area of a triangle\n\n\nfunction area(p, q, r) {\n  return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n} // check if two points are equal\n\n\nfunction equals(p1, p2) {\n  return p1.x === p2.x && p1.y === p2.y;\n} // check if two segments intersect\n\n\nfunction intersects(p1, q1, p2, q2) {\n  var o1 = sign(area(p1, q1, p2));\n  var o2 = sign(area(p1, q1, q2));\n  var o3 = sign(area(p2, q2, p1));\n  var o4 = sign(area(p2, q2, q1));\n  if (o1 !== o2 && o3 !== o4) return true; // general case\n\n  if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\n  if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\n  if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\n  if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n  return false;\n} // for collinear points p, q, r, check if point q lies on segment pr\n\n\nfunction onSegment(p, q, r) {\n  return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n  return num > 0 ? 1 : num < 0 ? -1 : 0;\n} // check if a polygon diagonal intersects any polygon segments\n\n\nfunction intersectsPolygon(a, b) {\n  var p = a;\n\n  do {\n    if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n    p = p.next;\n  } while (p !== a);\n\n  return false;\n} // check if a polygon diagonal is locally inside the polygon\n\n\nfunction locallyInside(a, b) {\n  return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n} // check if the middle point of a polygon diagonal is inside the polygon\n\n\nfunction middleInside(a, b) {\n  var p = a,\n      inside = false,\n      px = (a.x + b.x) / 2,\n      py = (a.y + b.y) / 2;\n\n  do {\n    if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n    p = p.next;\n  } while (p !== a);\n\n  return inside;\n} // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\n\nfunction splitPolygon(a, b) {\n  var a2 = new Node(a.i, a.x, a.y),\n      b2 = new Node(b.i, b.x, b.y),\n      an = a.next,\n      bp = b.prev;\n  a.next = b;\n  b.prev = a;\n  a2.next = an;\n  an.prev = a2;\n  b2.next = a2;\n  a2.prev = b2;\n  bp.next = b2;\n  b2.prev = bp;\n  return b2;\n} // create a node and optionally link it with previous one (in a circular doubly linked list)\n\n\nfunction insertNode(i, x, y, last) {\n  var p = new Node(i, x, y);\n\n  if (!last) {\n    p.prev = p;\n    p.next = p;\n  } else {\n    p.next = last.next;\n    p.prev = last;\n    last.next.prev = p;\n    last.next = p;\n  }\n\n  return p;\n}\n\nfunction removeNode(p) {\n  p.next.prev = p.prev;\n  p.prev.next = p.next;\n  if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n  if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n  // vertex index in coordinates array\n  this.i = i; // vertex coordinates\n\n  this.x = x;\n  this.y = y; // previous and next vertex nodes in a polygon ring\n\n  this.prev = null;\n  this.next = null; // z-order curve value\n\n  this.z = null; // previous and next nodes in z-order\n\n  this.prevZ = null;\n  this.nextZ = null; // indicates whether this is a steiner point\n\n  this.steiner = false;\n} // return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\n\n\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n  var hasHoles = holeIndices && holeIndices.length;\n  var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n  var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n\n  if (hasHoles) {\n    for (var i = 0, len = holeIndices.length; i < len; i++) {\n      var start = holeIndices[i] * dim;\n      var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n      polygonArea -= Math.abs(signedArea(data, start, end, dim));\n    }\n  }\n\n  var trianglesArea = 0;\n\n  for (i = 0; i < triangles.length; i += 3) {\n    var a = triangles[i] * dim;\n    var b = triangles[i + 1] * dim;\n    var c = triangles[i + 2] * dim;\n    trianglesArea += Math.abs((data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n  }\n\n  return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n  var sum = 0;\n\n  for (var i = start, j = end - dim; i < end; i += dim) {\n    sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n    j = i;\n  }\n\n  return sum;\n} // turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\n\n\nearcut.flatten = function (data) {\n  var dim = data[0][0].length,\n      result = {\n    vertices: [],\n    holes: [],\n    dimensions: dim\n  },\n      holeIndex = 0;\n\n  for (var i = 0; i < data.length; i++) {\n    for (var j = 0; j < data[i].length; j++) {\n      for (var d = 0; d < dim; d++) {\n        result.vertices.push(data[i][j][d]);\n      }\n    }\n\n    if (i > 0) {\n      holeIndex += data[i - 1].length;\n      result.holes.push(holeIndex);\n    }\n  }\n\n  return result;\n};","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = ('ontouchstart' in window);\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined; // magical touchAction value\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  }); // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n\n  freeGlobal.Hammer = Hammer;\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return Hammer;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n  } else {\n    window[exportName] = Hammer;\n  }\n})(window, document, 'Hammer');","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isMobile = isMobile;\nexports.default = getBrowser;\n\nvar _globals = require(\"./globals\");\n\nvar _isBrowser = _interopRequireDefault(require(\"./is-browser\"));\n\nvar _isElectron = _interopRequireDefault(require(\"./is-electron\"));\n\nfunction isMobile() {\n  return typeof _globals.window.orientation !== 'undefined';\n}\n\nfunction getBrowser(mockUserAgent) {\n  if (!mockUserAgent && !(0, _isBrowser.default)()) {\n    return 'Node';\n  }\n\n  if ((0, _isElectron.default)(mockUserAgent)) {\n    return 'Electron';\n  }\n\n  var navigator_ = typeof navigator !== 'undefined' ? navigator : {};\n  var userAgent = mockUserAgent || navigator_.userAgent || '';\n\n  if (userAgent.indexOf('Edge') > -1) {\n    return 'Edge';\n  }\n\n  var isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  var isTrident = userAgent.indexOf('Trident/') !== -1;\n\n  if (isMSIE || isTrident) {\n    return 'IE';\n  }\n\n  if (_globals.window.chrome) {\n    return 'Chrome';\n  }\n\n  if (_globals.window.safari) {\n    return 'Safari';\n  }\n\n  if (_globals.window.mozInnerScreenX) {\n    return 'Firefox';\n  }\n\n  return 'Unknown';\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.console = exports.process = exports.document = exports.global = exports.window = exports.self = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: (typeof process === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(process)) === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nexports.self = self_;\nvar window_ = globals.window || globals.self || globals.global;\nexports.window = window_;\nvar global_ = globals.global || globals.self || globals.window;\nexports.global = global_;\nvar document_ = globals.document || {};\nexports.document = document_;\nvar process_ = globals.process || {};\nexports.process = process_;\nvar console_ = console;\nexports.console = console_;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"self\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.self;\n  }\n});\nObject.defineProperty(exports, \"window\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.window;\n  }\n});\nObject.defineProperty(exports, \"global\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.global;\n  }\n});\nObject.defineProperty(exports, \"document\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.document;\n  }\n});\nObject.defineProperty(exports, \"process\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.process;\n  }\n});\nObject.defineProperty(exports, \"console\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.console;\n  }\n});\nObject.defineProperty(exports, \"isBrowser\", {\n  enumerable: true,\n  get: function get() {\n    return _isBrowser.default;\n  }\n});\nObject.defineProperty(exports, \"isBrowserMainThread\", {\n  enumerable: true,\n  get: function get() {\n    return _isBrowser.isBrowserMainThread;\n  }\n});\nObject.defineProperty(exports, \"getBrowser\", {\n  enumerable: true,\n  get: function get() {\n    return _getBrowser.default;\n  }\n});\nObject.defineProperty(exports, \"isMobile\", {\n  enumerable: true,\n  get: function get() {\n    return _getBrowser.isMobile;\n  }\n});\nObject.defineProperty(exports, \"isElectron\", {\n  enumerable: true,\n  get: function get() {\n    return _isElectron.default;\n  }\n});\n\nvar _globals = require(\"./globals\");\n\nvar _isBrowser = _interopRequireWildcard(require(\"./is-browser\"));\n\nvar _getBrowser = _interopRequireWildcard(require(\"./get-browser\"));\n\nvar _isElectron = _interopRequireDefault(require(\"./is-electron\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBrowser;\nexports.isBrowserMainThread = isBrowserMainThread;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _isElectron = _interopRequireDefault(require(\"./is-electron\"));\n\nfunction isBrowser() {\n  var isNode = (typeof process === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(process)) === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || (0, _isElectron.default)();\n}\n\nfunction isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isElectron;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nfunction isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && (0, _typeof2.default)(window.process) === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && (0, _typeof2.default)(process.versions) === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = (typeof navigator === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(navigator)) === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && typeof NativePromise == 'function') {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromise.prototype['finally'] !== method) {\n    redefine(NativePromise.prototype, 'finally', method, { unsafe: true });\n  }\n}\n","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar channelHandles = 1;\nvar animationHandles = 1;\nexport var Timeline = /*#__PURE__*/function () {\n  function Timeline() {\n    _classCallCheck(this, Timeline);\n\n    this.time = 0;\n    this.channels = new Map();\n    this.animations = new Map();\n    this.playing = false;\n    this.lastEngineTime = -1;\n  }\n\n  _createClass(Timeline, [{\n    key: \"addChannel\",\n    value: function addChannel(props) {\n      var _props$delay = props.delay,\n          delay = _props$delay === void 0 ? 0 : _props$delay,\n          _props$duration = props.duration,\n          duration = _props$duration === void 0 ? Number.POSITIVE_INFINITY : _props$duration,\n          _props$rate = props.rate,\n          rate = _props$rate === void 0 ? 1 : _props$rate,\n          _props$repeat = props.repeat,\n          repeat = _props$repeat === void 0 ? 1 : _props$repeat;\n      var handle = channelHandles++;\n      var channel = {\n        time: 0,\n        delay: delay,\n        duration: duration,\n        rate: rate,\n        repeat: repeat\n      };\n\n      this._setChannelTime(channel, this.time);\n\n      this.channels.set(handle, channel);\n      return handle;\n    }\n  }, {\n    key: \"removeChannel\",\n    value: function removeChannel(handle) {\n      this.channels.delete(handle);\n\n      var _iterator = _createForOfIteratorHelper(this.animations),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              animationHandle = _step$value[0],\n              animation = _step$value[1];\n\n          if (animation.channel === handle) {\n            this.detachAnimation(animationHandle);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"isFinished\",\n    value: function isFinished(handle) {\n      var channel = this.channels.get(handle);\n\n      if (channel === undefined) {\n        return false;\n      }\n\n      return this.time >= channel.delay + channel.duration * channel.repeat;\n    }\n  }, {\n    key: \"getTime\",\n    value: function getTime(handle) {\n      if (handle === undefined) {\n        return this.time;\n      }\n\n      var channel = this.channels.get(handle);\n\n      if (channel === undefined) {\n        return -1;\n      }\n\n      return channel.time;\n    }\n  }, {\n    key: \"setTime\",\n    value: function setTime(time) {\n      this.time = Math.max(0, time);\n      var channels = this.channels.values();\n\n      var _iterator2 = _createForOfIteratorHelper(channels),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var channel = _step2.value;\n\n          this._setChannelTime(channel, this.time);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var animations = this.animations.values();\n\n      var _iterator3 = _createForOfIteratorHelper(animations),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var animationData = _step3.value;\n          var animation = animationData.animation,\n              _channel = animationData.channel;\n          animation.setTime(this.getTime(_channel));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.playing = true;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.playing = false;\n      this.lastEngineTime = -1;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setTime(0);\n    }\n  }, {\n    key: \"attachAnimation\",\n    value: function attachAnimation(animation, channelHandle) {\n      var animationHandle = animationHandles++;\n      this.animations.set(animationHandle, {\n        animation: animation,\n        channel: channelHandle\n      });\n      animation.setTime(this.getTime(channelHandle));\n      return animationHandle;\n    }\n  }, {\n    key: \"detachAnimation\",\n    value: function detachAnimation(handle) {\n      this.animations.delete(handle);\n    }\n  }, {\n    key: \"update\",\n    value: function update(engineTime) {\n      if (this.playing) {\n        if (this.lastEngineTime === -1) {\n          this.lastEngineTime = engineTime;\n        }\n\n        this.setTime(this.time + (engineTime - this.lastEngineTime));\n        this.lastEngineTime = engineTime;\n      }\n    }\n  }, {\n    key: \"_setChannelTime\",\n    value: function _setChannelTime(channel, time) {\n      var offsetTime = time - channel.delay;\n      var totalDuration = channel.duration * channel.repeat;\n\n      if (offsetTime >= totalDuration) {\n        channel.time = channel.duration * channel.rate;\n      } else {\n        channel.time = Math.max(0, offsetTime) % channel.duration;\n        channel.time *= channel.rate;\n      }\n    }\n  }]);\n\n  return Timeline;\n}();","export var LIFECYCLE = {\n  NO_STATE: 'Awaiting state',\n  MATCHED: 'Matched. State transferred from previous layer',\n  INITIALIZED: 'Initialized',\n  AWAITING_GC: 'Discarded. Awaiting garbage collection',\n  AWAITING_FINALIZATION: 'No longer matched. Awaiting garbage collection',\n  FINALIZED: 'Finalized! Awaiting garbage collection'\n};\nexport var PROP_SYMBOLS = {\n  COMPONENT: Symbol.for('component'),\n  ASYNC_DEFAULTS: Symbol.for('asyncPropDefaults'),\n  ASYNC_ORIGINAL: Symbol.for('asyncPropOriginal'),\n  ASYNC_RESOLVED: Symbol.for('asyncPropResolved')\n};","export default function isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && typeof process.versions === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","import isElectron from './is-electron';\nexport default function isBrowser() {\n  var isNode = typeof process === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || isElectron();\n}\nexport function isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","import checkIfBrowser from '../env/is-browser';\nexport { self, window, global, document, process, console } from '../env/globals';\nexport var VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\nexport var isBrowser = checkIfBrowser();","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction getStorage(type) {\n  try {\n    var storage = window[type];\n    var x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\nvar LocalStorage = /*#__PURE__*/function () {\n  function LocalStorage(id, defaultSettings) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n    _classCallCheck(this, LocalStorage);\n\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n\n    this._loadConfiguration();\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"getConfiguration\",\n    value: function getConfiguration() {\n      return this.config;\n    }\n  }, {\n    key: \"setConfiguration\",\n    value: function setConfiguration(configuration) {\n      this.config = {};\n      return this.updateConfiguration(configuration);\n    }\n  }, {\n    key: \"updateConfiguration\",\n    value: function updateConfiguration(configuration) {\n      Object.assign(this.config, configuration);\n\n      if (this.storage) {\n        var serialized = JSON.stringify(this.config);\n        this.storage.setItem(this.id, serialized);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_loadConfiguration\",\n    value: function _loadConfiguration() {\n      var configuration = {};\n\n      if (this.storage) {\n        var serializedConfiguration = this.storage.getItem(this.id);\n        configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n      }\n\n      Object.assign(this.config, configuration);\n      return this;\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexport { LocalStorage as default };","export function formatTime(ms) {\n  var formatted;\n\n  if (ms < 10) {\n    formatted = \"\".concat(ms.toFixed(2), \"ms\");\n  } else if (ms < 100) {\n    formatted = \"\".concat(ms.toFixed(1), \"ms\");\n  } else if (ms < 1000) {\n    formatted = \"\".concat(ms.toFixed(0), \"ms\");\n  } else {\n    formatted = \"\".concat((ms / 1000).toFixed(2), \"s\");\n  }\n\n  return formatted;\n}\nexport function leftPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(' '.repeat(padLength)).concat(string);\n}\nexport function rightPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(string).concat(' '.repeat(padLength));\n}\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\nfunction formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatImage(image, message, scale) {\n  var maxWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 600;\n  var imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  var width = image.width * scale;\n  var height = image.height * scale;\n  var style = ['font-size:1px;', \"padding:\".concat(Math.floor(height / 2), \"px \").concat(Math.floor(width / 2), \"px;\"), \"line-height:\".concat(height, \"px;\"), \"background:url(\".concat(imageUrl, \");\"), \"background-size:\".concat(width, \"px \").concat(height, \"px;\"), 'color:transparent;'].join('');\n  return [\"\".concat(message, \" %c+\"), style];\n}","import { isBrowser } from './globals';\nexport var COLOR = {\n  BLACK: 30,\n  RED: 31,\n  GREEN: 32,\n  YELLOW: 33,\n  BLUE: 34,\n  MAGENTA: 35,\n  CYAN: 36,\n  WHITE: 37,\n  BRIGHT_BLACK: 90,\n  BRIGHT_RED: 91,\n  BRIGHT_GREEN: 92,\n  BRIGHT_YELLOW: 93,\n  BRIGHT_BLUE: 94,\n  BRIGHT_MAGENTA: 95,\n  BRIGHT_CYAN: 96,\n  BRIGHT_WHITE: 97\n};\n\nfunction getColor(color) {\n  return typeof color === 'string' ? COLOR[color.toUpperCase()] || COLOR.WHITE : color;\n}\n\nexport function addColor(string, color, background) {\n  if (!isBrowser && typeof string === 'string') {\n    if (color) {\n      color = getColor(color);\n      string = \"\\x1B[\".concat(color, \"m\").concat(string, \"\\x1B[39m\");\n    }\n\n    if (background) {\n      color = getColor(background);\n      string = \"\\x1B[\".concat(background + 10, \"m\").concat(string, \"\\x1B[49m\");\n    }\n  }\n\n  return string;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport function autobind(obj) {\n  var predefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['constructor'];\n  var proto = Object.getPrototypeOf(obj);\n  var propNames = Object.getOwnPropertyNames(proto);\n\n  var _iterator = _createForOfIteratorHelper(propNames),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var key = _step.value;\n\n      if (typeof obj[key] === 'function') {\n        if (!predefined.find(function (name) {\n          return key === name;\n        })) {\n          obj[key] = obj[key].bind(obj);\n        }\n      }\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}","var globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: typeof process === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nvar process_ = globals.process || {};\nvar console_ = console;\nexport { self_ as self, window_ as window, global_ as global, document_ as document, process_ as process, console_ as console };","import { window, process, isBrowser } from './globals';\nexport default function getHiResTimestamp() {\n  var timestamp;\n\n  if (isBrowser && window.performance) {\n    timestamp = window.performance.now();\n  } else if (process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","import _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { VERSION, isBrowser } from '../utils/globals';\nimport LocalStorage from '../utils/local-storage';\nimport { formatImage, formatTime, leftPad } from '../utils/formatters';\nimport { addColor } from '../utils/color';\nimport { autobind } from '../utils/autobind';\nimport _assert from '../utils/assert';\nimport getHiResTimestamp from '../utils/hi-res-timestamp';\nvar originalConsole = {\n  debug: isBrowser ? console.debug || console.log : console.log,\n  log: console.log,\n  info: console.info,\n  warn: console.warn,\n  error: console.error\n};\nvar DEFAULT_SETTINGS = {\n  enabled: true,\n  level: 0\n};\n\nfunction noop() {}\n\nvar cache = {};\nvar ONCE = {\n  once: true\n};\n\nfunction getTableHeader(table) {\n  for (var key in table) {\n    for (var title in table[key]) {\n      return title || 'untitled';\n    }\n  }\n\n  return 'empty';\n}\n\nvar Log = /*#__PURE__*/function () {\n  function Log() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      id: ''\n    },\n        id = _ref.id;\n\n    _classCallCheck(this, Log);\n\n    this.id = id;\n    this.VERSION = VERSION;\n    this._startTs = getHiResTimestamp();\n    this._deltaTs = getHiResTimestamp();\n    this.LOG_THROTTLE_TIMEOUT = 0;\n    this._storage = new LocalStorage(\"__probe-\".concat(this.id, \"__\"), DEFAULT_SETTINGS);\n    this.userData = {};\n    this.timeStamp(\"\".concat(this.id, \" started\"));\n    autobind(this);\n    Object.seal(this);\n  }\n\n  _createClass(Log, [{\n    key: \"level\",\n    get: function get() {\n      return this.getLevel();\n    },\n    set: function set(newLevel) {\n      this.setLevel(newLevel);\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this._storage.config.enabled;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      return this._storage.config.level;\n    }\n  }, {\n    key: \"getTotal\",\n    value: function getTotal() {\n      return Number((getHiResTimestamp() - this._startTs).toPrecision(10));\n    }\n  }, {\n    key: \"getDelta\",\n    value: function getDelta() {\n      return Number((getHiResTimestamp() - this._deltaTs).toPrecision(10));\n    }\n  }, {\n    key: \"priority\",\n    get: function get() {\n      return this.level;\n    },\n    set: function set(newPriority) {\n      this.level = newPriority;\n    }\n  }, {\n    key: \"getPriority\",\n    value: function getPriority() {\n      return this.level;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._storage.updateConfiguration({\n        enabled: enabled\n      });\n\n      return this;\n    }\n  }, {\n    key: \"setLevel\",\n    value: function setLevel(level) {\n      this._storage.updateConfiguration({\n        level: level\n      });\n\n      return this;\n    }\n  }, {\n    key: \"assert\",\n    value: function assert(condition, message) {\n      _assert(condition, message);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(message) {\n      return this._getLogFunction(0, message, originalConsole.warn, arguments, ONCE);\n    }\n  }, {\n    key: \"error\",\n    value: function error(message) {\n      return this._getLogFunction(0, message, originalConsole.error, arguments);\n    }\n  }, {\n    key: \"deprecated\",\n    value: function deprecated(oldUsage, newUsage) {\n      return this.warn(\"`\".concat(oldUsage, \"` is deprecated and will be removed in a later version. Use `\").concat(newUsage, \"` instead\"));\n    }\n  }, {\n    key: \"removed\",\n    value: function removed(oldUsage, newUsage) {\n      return this.error(\"`\".concat(oldUsage, \"` has been removed. Use `\").concat(newUsage, \"` instead\"));\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.log, arguments, {\n        time: true,\n        once: true\n      });\n    }\n  }, {\n    key: \"log\",\n    value: function log(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.debug, arguments);\n    }\n  }, {\n    key: \"info\",\n    value: function info(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.info, arguments);\n    }\n  }, {\n    key: \"once\",\n    value: function once(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.debug || originalConsole.info, arguments, ONCE);\n    }\n  }, {\n    key: \"table\",\n    value: function table(logLevel, _table, columns) {\n      if (_table) {\n        return this._getLogFunction(logLevel, _table, console.table || noop, columns && [columns], {\n          tag: getTableHeader(_table)\n        });\n      }\n\n      return noop;\n    }\n  }, {\n    key: \"image\",\n    value: function image(_ref2) {\n      var logLevel = _ref2.logLevel,\n          priority = _ref2.priority,\n          _image = _ref2.image,\n          _ref2$message = _ref2.message,\n          message = _ref2$message === void 0 ? '' : _ref2$message,\n          _ref2$scale = _ref2.scale,\n          scale = _ref2$scale === void 0 ? 1 : _ref2$scale;\n\n      if (!this._shouldLog(logLevel || priority)) {\n        return noop;\n      }\n\n      return isBrowser ? logImageInBrowser({\n        image: _image,\n        message: message,\n        scale: scale\n      }) : logImageInNode({\n        image: _image,\n        message: message,\n        scale: scale\n      });\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      if (console.table) {\n        console.table(this._storage.config);\n      } else {\n        console.log(this._storage.config);\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(setting) {\n      return this._storage.config[setting];\n    }\n  }, {\n    key: \"set\",\n    value: function set(setting, value) {\n      this._storage.updateConfiguration(_defineProperty({}, setting, value));\n    }\n  }, {\n    key: \"time\",\n    value: function time(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.time ? console.time : console.info);\n    }\n  }, {\n    key: \"timeEnd\",\n    value: function timeEnd(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.timeEnd ? console.timeEnd : console.info);\n    }\n  }, {\n    key: \"timeStamp\",\n    value: function timeStamp(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.timeStamp || noop);\n    }\n  }, {\n    key: \"group\",\n    value: function group(logLevel, message) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        collapsed: false\n      };\n      opts = normalizeArguments({\n        logLevel: logLevel,\n        message: message,\n        opts: opts\n      });\n      var _opts = opts,\n          collapsed = _opts.collapsed;\n      opts.method = (collapsed ? console.groupCollapsed : console.group) || console.info;\n      return this._getLogFunction(opts);\n    }\n  }, {\n    key: \"groupCollapsed\",\n    value: function groupCollapsed(logLevel, message) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.group(logLevel, message, Object.assign({}, opts, {\n        collapsed: true\n      }));\n    }\n  }, {\n    key: \"groupEnd\",\n    value: function groupEnd(logLevel) {\n      return this._getLogFunction(logLevel, '', console.groupEnd || noop);\n    }\n  }, {\n    key: \"withGroup\",\n    value: function withGroup(logLevel, message, func) {\n      this.group(logLevel, message)();\n\n      try {\n        func();\n      } finally {\n        this.groupEnd(logLevel)();\n      }\n    }\n  }, {\n    key: \"trace\",\n    value: function trace() {\n      if (console.trace) {\n        console.trace();\n      }\n    }\n  }, {\n    key: \"_shouldLog\",\n    value: function _shouldLog(logLevel) {\n      return this.isEnabled() && this.getLevel() >= normalizeLogLevel(logLevel);\n    }\n  }, {\n    key: \"_getLogFunction\",\n    value: function _getLogFunction(logLevel, message, method) {\n      var args = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      var opts = arguments.length > 4 ? arguments[4] : undefined;\n\n      if (this._shouldLog(logLevel)) {\n        var _method;\n\n        opts = normalizeArguments({\n          logLevel: logLevel,\n          message: message,\n          args: args,\n          opts: opts\n        });\n        method = method || opts.method;\n\n        _assert(method);\n\n        opts.total = this.getTotal();\n        opts.delta = this.getDelta();\n        this._deltaTs = getHiResTimestamp();\n        var tag = opts.tag || opts.message;\n\n        if (opts.once) {\n          if (!cache[tag]) {\n            cache[tag] = getHiResTimestamp();\n          } else {\n            return noop;\n          }\n        }\n\n        message = decorateMessage(this.id, opts.message, opts);\n        return (_method = method).bind.apply(_method, [console, message].concat(_toConsumableArray(opts.args)));\n      }\n\n      return noop;\n    }\n  }]);\n\n  return Log;\n}();\n\nexport { Log as default };\nLog.VERSION = VERSION;\n\nfunction normalizeLogLevel(logLevel) {\n  if (!logLevel) {\n    return 0;\n  }\n\n  var resolvedLevel;\n\n  switch (typeof logLevel) {\n    case 'number':\n      resolvedLevel = logLevel;\n      break;\n\n    case 'object':\n      resolvedLevel = logLevel.logLevel || logLevel.priority || 0;\n      break;\n\n    default:\n      return 0;\n  }\n\n  _assert(Number.isFinite(resolvedLevel) && resolvedLevel >= 0);\n\n  return resolvedLevel;\n}\n\nexport function normalizeArguments(opts) {\n  var logLevel = opts.logLevel,\n      message = opts.message;\n  opts.logLevel = normalizeLogLevel(logLevel);\n  var args = opts.args ? Array.from(opts.args) : [];\n\n  while (args.length && args.shift() !== message) {}\n\n  opts.args = args;\n\n  switch (typeof logLevel) {\n    case 'string':\n    case 'function':\n      if (message !== undefined) {\n        args.unshift(message);\n      }\n\n      opts.message = logLevel;\n      break;\n\n    case 'object':\n      Object.assign(opts, logLevel);\n      break;\n\n    default:\n  }\n\n  if (typeof opts.message === 'function') {\n    opts.message = opts.message();\n  }\n\n  var messageType = typeof opts.message;\n\n  _assert(messageType === 'string' || messageType === 'object');\n\n  return Object.assign(opts, opts.opts);\n}\n\nfunction decorateMessage(id, message, opts) {\n  if (typeof message === 'string') {\n    var time = opts.time ? leftPad(formatTime(opts.total)) : '';\n    message = opts.time ? \"\".concat(id, \": \").concat(time, \"  \").concat(message) : \"\".concat(id, \": \").concat(message);\n    message = addColor(message, opts.color, opts.background);\n  }\n\n  return message;\n}\n\nfunction logImageInNode(_ref3) {\n  var image = _ref3.image,\n      _ref3$message = _ref3.message,\n      message = _ref3$message === void 0 ? '' : _ref3$message,\n      _ref3$scale = _ref3.scale,\n      scale = _ref3$scale === void 0 ? 1 : _ref3$scale;\n  var asciify = null;\n\n  try {\n    asciify = module.require('asciify-image');\n  } catch (error) {}\n\n  if (asciify) {\n    return function () {\n      return asciify(image, {\n        fit: 'box',\n        width: \"\".concat(Math.round(80 * scale), \"%\")\n      }).then(function (data) {\n        return console.log(data);\n      });\n    };\n  }\n\n  return noop;\n}\n\nfunction logImageInBrowser(_ref4) {\n  var image = _ref4.image,\n      _ref4$message = _ref4.message,\n      message = _ref4$message === void 0 ? '' : _ref4$message,\n      _ref4$scale = _ref4.scale,\n      scale = _ref4$scale === void 0 ? 1 : _ref4$scale;\n\n  if (typeof image === 'string') {\n    var img = new Image();\n\n    img.onload = function () {\n      var _console;\n\n      var args = formatImage(img, message, scale);\n\n      (_console = console).log.apply(_console, _toConsumableArray(args));\n    };\n\n    img.src = image;\n    return noop;\n  }\n\n  var element = image.nodeName || '';\n\n  if (element.toLowerCase() === 'img') {\n    var _console2;\n\n    (_console2 = console).log.apply(_console2, _toConsumableArray(formatImage(image, message, scale)));\n\n    return noop;\n  }\n\n  if (element.toLowerCase() === 'canvas') {\n    var _img = new Image();\n\n    _img.onload = function () {\n      var _console3;\n\n      return (_console3 = console).log.apply(_console3, _toConsumableArray(formatImage(_img, message, scale)));\n    };\n\n    _img.src = image.toDataURL();\n    return noop;\n  }\n\n  return noop;\n}","import { Log } from 'probe.gl';\nexport default new Log({\n  id: 'deck'\n});","import deckLog from '../utils/log';\nimport { getLoggers } from './loggers';\nvar loggers = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  loggers = getLoggers(deckLog);\n}\n\nexport function register(handlers) {\n  loggers = handlers;\n}\nexport default function debug(eventType) {\n  if (deckLog.level > 0 && loggers[eventType]) {\n    var _loggers$eventType;\n\n    (_loggers$eventType = loggers[eventType]).call.apply(_loggers$eventType, arguments);\n  }\n}","export function flatten(array) {\n  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return true;\n  };\n\n  if (!Array.isArray(array)) {\n    return filter(array) ? [array] : [];\n  }\n\n  return flattenArray(array, filter, []);\n}\n\nfunction flattenArray(array, filter, result) {\n  var index = -1;\n\n  while (++index < array.length) {\n    var value = array[index];\n\n    if (Array.isArray(value)) {\n      flattenArray(value, filter, result);\n    } else if (filter(value)) {\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n\nexport function fillArray(_ref) {\n  var target = _ref.target,\n      source = _ref.source,\n      _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 1 : _ref$count;\n  var length = source.length;\n  var total = count * length;\n  var copied = 0;\n\n  for (var i = start; copied < length; copied++) {\n    target[i++] = source[copied];\n  }\n\n  while (copied < total) {\n    if (copied < total - copied) {\n      target.copyWithin(start + copied, start, start + copied);\n      copied *= 2;\n    } else {\n      target.copyWithin(start + copied, start, start + total - copied);\n      copied = total;\n    }\n  }\n\n  return target;\n}","export default function getHiResTimestamp() {\n  var timestamp;\n\n  if (typeof window !== 'undefined' && window.performance) {\n    timestamp = window.performance.now();\n  } else if (typeof process !== 'undefined' && process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport getHiResTimestamp from '../utils/hi-res-timestamp';\n\nvar Stat = /*#__PURE__*/function () {\n  function Stat(name, type) {\n    _classCallCheck(this, Stat);\n\n    this.name = name;\n    this.type = type;\n    this.sampleSize = 1;\n    this.reset();\n  }\n\n  _createClass(Stat, [{\n    key: \"setSampleSize\",\n    value: function setSampleSize(samples) {\n      this.sampleSize = samples;\n      return this;\n    }\n  }, {\n    key: \"incrementCount\",\n    value: function incrementCount() {\n      this.addCount(1);\n      return this;\n    }\n  }, {\n    key: \"decrementCount\",\n    value: function decrementCount() {\n      this.subtractCount(1);\n      return this;\n    }\n  }, {\n    key: \"addCount\",\n    value: function addCount(value) {\n      this._count += value;\n      this._samples++;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"subtractCount\",\n    value: function subtractCount(value) {\n      this._count -= value;\n      this._samples++;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"addTime\",\n    value: function addTime(time) {\n      this._time += time;\n      this.lastTiming = time;\n      this._samples++;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"timeStart\",\n    value: function timeStart() {\n      this._startTime = getHiResTimestamp();\n      this._timerPending = true;\n      return this;\n    }\n  }, {\n    key: \"timeEnd\",\n    value: function timeEnd() {\n      if (!this._timerPending) {\n        return this;\n      }\n\n      this.addTime(getHiResTimestamp() - this._startTime);\n      this._timerPending = false;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"getSampleAverageCount\",\n    value: function getSampleAverageCount() {\n      return this.sampleSize > 0 ? this.lastSampleCount / this.sampleSize : 0;\n    }\n  }, {\n    key: \"getSampleAverageTime\",\n    value: function getSampleAverageTime() {\n      return this.sampleSize > 0 ? this.lastSampleTime / this.sampleSize : 0;\n    }\n  }, {\n    key: \"getSampleHz\",\n    value: function getSampleHz() {\n      return this.lastSampleTime > 0 ? this.sampleSize / (this.lastSampleTime / 1000) : 0;\n    }\n  }, {\n    key: \"getAverageCount\",\n    value: function getAverageCount() {\n      return this.samples > 0 ? this.count / this.samples : 0;\n    }\n  }, {\n    key: \"getAverageTime\",\n    value: function getAverageTime() {\n      return this.samples > 0 ? this.time / this.samples : 0;\n    }\n  }, {\n    key: \"getHz\",\n    value: function getHz() {\n      return this.time > 0 ? this.samples / (this.time / 1000) : 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.time = 0;\n      this.count = 0;\n      this.samples = 0;\n      this.lastTiming = 0;\n      this.lastSampleTime = 0;\n      this.lastSampleCount = 0;\n      this._count = 0;\n      this._time = 0;\n      this._samples = 0;\n      this._startTime = 0;\n      this._timerPending = false;\n      return this;\n    }\n  }, {\n    key: \"_checkSampling\",\n    value: function _checkSampling() {\n      if (this._samples === this.sampleSize) {\n        this.lastSampleTime = this._time;\n        this.lastSampleCount = this._count;\n        this.count += this._count;\n        this.time += this._time;\n        this.samples += this._samples;\n        this._time = 0;\n        this._count = 0;\n        this._samples = 0;\n      }\n    }\n  }]);\n\n  return Stat;\n}();\n\nexport { Stat as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Stat from './stat';\n\nvar Stats = /*#__PURE__*/function () {\n  function Stats(_ref) {\n    var id = _ref.id,\n        stats = _ref.stats;\n\n    _classCallCheck(this, Stats);\n\n    this.id = id;\n    this.stats = {};\n\n    this._initializeStats(stats);\n\n    Object.seal(this);\n  }\n\n  _createClass(Stats, [{\n    key: \"get\",\n    value: function get(name) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'count';\n      return this._getOrCreate({\n        name: name,\n        type: type\n      });\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return Object.keys(this.stats).length;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      for (var key in this.stats) {\n        this.stats[key].reset();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      for (var key in this.stats) {\n        fn(this.stats[key]);\n      }\n    }\n  }, {\n    key: \"getTable\",\n    value: function getTable() {\n      var table = {};\n      this.forEach(function (stat) {\n        table[stat.name] = {\n          time: stat.time || 0,\n          count: stat.count || 0,\n          average: stat.getAverageTime() || 0,\n          hz: stat.getHz() || 0\n        };\n      });\n      return table;\n    }\n  }, {\n    key: \"_initializeStats\",\n    value: function _initializeStats() {\n      var _this = this;\n\n      var stats = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      stats.forEach(function (stat) {\n        return _this._getOrCreate(stat);\n      });\n    }\n  }, {\n    key: \"_getOrCreate\",\n    value: function _getOrCreate(stat) {\n      if (!stat || !stat.name) {\n        return null;\n      }\n\n      var name = stat.name,\n          type = stat.type;\n\n      if (!this.stats[name]) {\n        if (stat instanceof Stat) {\n          this.stats[name] = stat;\n        } else {\n          this.stats[name] = new Stat(name, type);\n        }\n      }\n\n      return this.stats[name];\n    }\n  }]);\n\n  return Stats;\n}();\n\nexport { Stats as default };","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var isBoolean = function isBoolean(x) {\n  return typeof x === 'boolean';\n};\n\nvar isFunction = function isFunction(x) {\n  return typeof x === 'function';\n};\n\nexport var isObject = function isObject(x) {\n  return x !== null && typeof x === 'object';\n};\nexport var isPureObject = function isPureObject(x) {\n  return isObject(x) && x.constructor === {}.constructor;\n};\nexport var isPromise = function isPromise(x) {\n  return isObject(x) && isFunction(x.then);\n};\nexport var isIterable = function isIterable(x) {\n  return x && typeof x[Symbol.iterator] === 'function';\n};\nexport var isAsyncIterable = function isAsyncIterable(x) {\n  return x && typeof x[Symbol.asyncIterator] === 'function';\n};\nexport var isIterator = function isIterator(x) {\n  return x && isFunction(x.next);\n};\nexport var isResponse = function isResponse(x) {\n  return typeof Response !== 'undefined' && x instanceof Response || x && x.arrayBuffer && x.text && x.json;\n};\nexport var isFile = function isFile(x) {\n  return typeof File !== 'undefined' && x instanceof File;\n};\nexport var isBlob = function isBlob(x) {\n  return typeof Blob !== 'undefined' && x instanceof Blob;\n};\nexport var isWritableDOMStream = function isWritableDOMStream(x) {\n  return isObject(x) && isFunction(x.abort) && isFunction(x.getWriter);\n};\nexport var isReadableDOMStream = function isReadableDOMStream(x) {\n  return typeof ReadableStream !== 'undefined' && x instanceof ReadableStream || isObject(x) && isFunction(x.tee) && isFunction(x.cancel) && isFunction(x.getReader);\n};\nexport var isBuffer = function isBuffer(x) {\n  return x && typeof x === 'object' && x.isBuffer;\n};\nexport var isWritableNodeStream = function isWritableNodeStream(x) {\n  return isObject(x) && isFunction(x.end) && isFunction(x.write) && isBoolean(x.writable);\n};\nexport var isReadableNodeStream = function isReadableNodeStream(x) {\n  return isObject(x) && isFunction(x.read) && isFunction(x.pipe) && isBoolean(x.readable);\n};\nexport var isReadableStream = function isReadableStream(x) {\n  return isReadableDOMStream(x) || isReadableNodeStream(x);\n};\nexport var isWritableStream = function isWritableStream(x) {\n  return isWritableDOMStream(x) || isWritableNodeStream(x);\n};","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'loader assertion failed.');\n  }\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { assert } from '@loaders.gl/loader-utils';\nexport function isLoaderObject(loader) {\n  var _loader;\n\n  if (!loader) {\n    return false;\n  }\n\n  if (Array.isArray(loader)) {\n    loader = loader[0];\n  }\n\n  var hasExtensions = Array.isArray((_loader = loader) === null || _loader === void 0 ? void 0 : _loader.extensions);\n  return hasExtensions;\n}\nexport function normalizeLoader(loader) {\n  var _loader2, _loader3;\n\n  assert(loader, 'null loader');\n  assert(isLoaderObject(loader), 'invalid loader');\n  var options;\n\n  if (Array.isArray(loader)) {\n    options = loader[1];\n    loader = loader[0];\n    loader = _objectSpread(_objectSpread({}, loader), {}, {\n      options: _objectSpread(_objectSpread({}, loader.options), options)\n    });\n  }\n\n  if ((_loader2 = loader) !== null && _loader2 !== void 0 && _loader2.parseTextSync || (_loader3 = loader) !== null && _loader3 !== void 0 && _loader3.parseText) {\n    loader.text = true;\n  }\n\n  if (!loader.text) {\n    loader.binary = true;\n  }\n\n  return loader;\n}","var globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nvar self_ = globals.self || globals.window || globals.global || {};\nvar window_ = globals.window || globals.self || globals.global || {};\nvar global_ = globals.global || globals.self || globals.window || {};\nvar document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport var isBrowser = typeof process !== 'object' || String(process) !== '[object process]' || process.browser;\nexport var isWorker = typeof importScripts === 'function';\nvar matches = typeof process !== 'undefined' && process.version && /v([0-9]*)/.exec(process.version);\nexport var nodeVersion = matches && parseFloat(matches[1]) || 0;","var pathPrefix = '';\nvar fileAliases = {};\nexport function setPathPrefix(prefix) {\n  pathPrefix = prefix;\n}\nexport function getPathPrefix() {\n  return pathPrefix;\n}\nexport function addAliases(aliases) {\n  Object.assign(fileAliases, aliases);\n}\nexport function resolvePath(filename) {\n  for (var alias in fileAliases) {\n    if (filename.startsWith(alias)) {\n      var replacement = fileAliases[alias];\n      filename = filename.replace(alias, replacement);\n    }\n  }\n\n  if (!filename.startsWith('http://') && !filename.startsWith('https://')) {\n    filename = \"\".concat(pathPrefix).concat(filename);\n  }\n\n  return filename;\n}","var DATA_URL_PATTERN = /^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/;\nvar MIME_TYPE_PATTERN = /^([-\\w.]+\\/[-\\w.+]+)/;\nexport function parseMIMEType(mimeString) {\n  var matches = MIME_TYPE_PATTERN.exec(mimeString);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return mimeString;\n}\nexport function parseMIMETypeFromURL(url) {\n  var matches = DATA_URL_PATTERN.exec(url);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return '';\n}","import { isResponse, isBlob } from '../../javascript-utils/is-type';\nimport { parseMIMEType, parseMIMETypeFromURL } from './mime-type-utils';\nvar QUERY_STRING_PATTERN = /\\?.*/;\nexport function getResourceUrlAndType(resource) {\n  if (isResponse(resource)) {\n    var url = stripQueryString(resource.url || '');\n    var contentTypeHeader = resource.headers.get('content-type') || '';\n    return {\n      url: url,\n      type: parseMIMEType(contentTypeHeader) || parseMIMETypeFromURL(url)\n    };\n  }\n\n  if (isBlob(resource)) {\n    return {\n      url: stripQueryString(resource.name || ''),\n      type: resource.type || ''\n    };\n  }\n\n  if (typeof resource === 'string') {\n    return {\n      url: stripQueryString(resource),\n      type: parseMIMETypeFromURL(resource)\n    };\n  }\n\n  return {\n    url: '',\n    type: ''\n  };\n}\nexport function getResourceContentLength(resource) {\n  if (isResponse(resource)) {\n    return resource.headers['content-length'] || -1;\n  }\n\n  if (isBlob(resource)) {\n    return resource.size;\n  }\n\n  if (typeof resource === 'string') {\n    return resource.length;\n  }\n\n  if (resource instanceof ArrayBuffer) {\n    return resource.byteLength;\n  }\n\n  if (ArrayBuffer.isView(resource)) {\n    return resource.byteLength;\n  }\n\n  return -1;\n}\n\nfunction stripQueryString(url) {\n  return url.replace(QUERY_STRING_PATTERN, '');\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { isResponse } from '../../javascript-utils/is-type';\nimport { getResourceContentLength, getResourceUrlAndType } from './resource-utils';\nexport function makeResponse(_x) {\n  return _makeResponse.apply(this, arguments);\n}\n\nfunction _makeResponse() {\n  _makeResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resource) {\n    var headers, contentLength, _getResourceUrlAndTyp, url, type, initialDataUrl, response;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!isResponse(resource)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", resource);\n\n          case 2:\n            headers = {};\n            contentLength = getResourceContentLength(resource);\n\n            if (contentLength >= 0) {\n              headers['content-length'] = String(contentLength);\n            }\n\n            _getResourceUrlAndTyp = getResourceUrlAndType(resource), url = _getResourceUrlAndTyp.url, type = _getResourceUrlAndTyp.type;\n\n            if (type) {\n              headers['content-type'] = type;\n            }\n\n            _context.next = 9;\n            return getInitialDataUrl(resource);\n\n          case 9:\n            initialDataUrl = _context.sent;\n\n            if (initialDataUrl) {\n              headers['x-first-bytes'] = initialDataUrl;\n            }\n\n            if (typeof resource === 'string') {\n              resource = new TextEncoder().encode(resource);\n            }\n\n            response = new Response(resource, {\n              headers: headers\n            });\n            Object.defineProperty(response, 'url', {\n              value: url\n            });\n            return _context.abrupt(\"return\", response);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _makeResponse.apply(this, arguments);\n}\n\nexport function checkResponse(_x2) {\n  return _checkResponse.apply(this, arguments);\n}\n\nfunction _checkResponse() {\n  _checkResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response) {\n    var message;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (response.ok) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 3;\n            return getResponseError(response);\n\n          case 3:\n            message = _context2.sent;\n            throw new Error(message);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _checkResponse.apply(this, arguments);\n}\n\nexport function checkResponseSync(response) {\n  if (!response.ok) {\n    var message = \"\".concat(response.status, \" \").concat(response.statusText);\n    message = message.length > 60 ? \"\".concat(message.slice(60), \"...\") : message;\n    throw new Error(message);\n  }\n}\n\nfunction getResponseError(_x3) {\n  return _getResponseError.apply(this, arguments);\n}\n\nfunction _getResponseError() {\n  _getResponseError = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(response) {\n    var message, contentType, text;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            message = \"Failed to fetch resource \".concat(response.url, \" (\").concat(response.status, \"): \");\n            _context3.prev = 1;\n            contentType = response.headers.get('Content-Type');\n            text = response.statusText;\n\n            if (!contentType.includes('application/json')) {\n              _context3.next = 11;\n              break;\n            }\n\n            _context3.t0 = text;\n            _context3.t1 = \" \";\n            _context3.next = 9;\n            return response.text();\n\n          case 9:\n            _context3.t2 = _context3.sent;\n            text = _context3.t0 += _context3.t1.concat.call(_context3.t1, _context3.t2);\n\n          case 11:\n            message += text;\n            message = message.length > 60 ? \"\".concat(message.slice(60), \"...\") : message;\n            _context3.next = 17;\n            break;\n\n          case 15:\n            _context3.prev = 15;\n            _context3.t3 = _context3[\"catch\"](1);\n\n          case 17:\n            return _context3.abrupt(\"return\", message);\n\n          case 18:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 15]]);\n  }));\n  return _getResponseError.apply(this, arguments);\n}\n\nfunction getInitialDataUrl(_x4) {\n  return _getInitialDataUrl.apply(this, arguments);\n}\n\nfunction _getInitialDataUrl() {\n  _getInitialDataUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resource) {\n    var INITIAL_DATA_LENGTH, blobSlice, slice, base64;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            INITIAL_DATA_LENGTH = 5;\n\n            if (!(typeof resource === 'string')) {\n              _context4.next = 3;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", \"data:,\".concat(resource.slice(0, INITIAL_DATA_LENGTH)));\n\n          case 3:\n            if (!(resource instanceof Blob)) {\n              _context4.next = 8;\n              break;\n            }\n\n            blobSlice = resource.slice(0, 5);\n            _context4.next = 7;\n            return new Promise(function (resolve) {\n              var reader = new FileReader();\n\n              reader.onload = function (event) {\n                var _event$target;\n\n                return resolve(event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result);\n              };\n\n              reader.readAsDataURL(blobSlice);\n            });\n\n          case 7:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 8:\n            if (!(resource instanceof ArrayBuffer)) {\n              _context4.next = 12;\n              break;\n            }\n\n            slice = resource.slice(0, INITIAL_DATA_LENGTH);\n            base64 = arrayBufferToBase64(slice);\n            return _context4.abrupt(\"return\", \"data:base64,\".concat(base64));\n\n          case 12:\n            return _context4.abrupt(\"return\", null);\n\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getInitialDataUrl.apply(this, arguments);\n}\n\nfunction arrayBufferToBase64(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n\n  for (var i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n\n  return btoa(binary);\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { resolvePath } from '@loaders.gl/loader-utils';\nimport { makeResponse } from '../utils/response-utils';\nexport function fetchFile(_x, _x2) {\n  return _fetchFile.apply(this, arguments);\n}\n\nfunction _fetchFile() {\n  _fetchFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url, options) {\n    var fetchOptions;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(typeof url === 'string')) {\n              _context.next = 7;\n              break;\n            }\n\n            url = resolvePath(url);\n            fetchOptions = options;\n\n            if (options !== null && options !== void 0 && options.fetch && typeof (options === null || options === void 0 ? void 0 : options.fetch) !== 'function') {\n              fetchOptions = options.fetch;\n            }\n\n            _context.next = 6;\n            return fetch(url, fetchOptions);\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n            _context.next = 9;\n            return makeResponse(url);\n\n          case 9:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchFile.apply(this, arguments);\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Log } from 'probe.gl';\nexport var probeLog = new Log({\n  id: 'loaders.gl'\n});\nexport var NullLog = /*#__PURE__*/function () {\n  function NullLog() {\n    _classCallCheck(this, NullLog);\n  }\n\n  _createClass(NullLog, [{\n    key: \"log\",\n    value: function log() {\n      return function () {};\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      return function () {};\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      return function () {};\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      return function () {};\n    }\n  }]);\n\n  return NullLog;\n}();\nexport var ConsoleLog = /*#__PURE__*/function () {\n  function ConsoleLog() {\n    _classCallCheck(this, ConsoleLog);\n\n    _defineProperty(this, \"console\", void 0);\n\n    this.console = console;\n  }\n\n  _createClass(ConsoleLog, [{\n    key: \"log\",\n    value: function log() {\n      var _this$console$log;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_this$console$log = this.console.log).bind.apply(_this$console$log, [this.console].concat(args));\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      var _this$console$info;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return (_this$console$info = this.console.info).bind.apply(_this$console$info, [this.console].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _this$console$warn;\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return (_this$console$warn = this.console.warn).bind.apply(_this$console$warn, [this.console].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _this$console$error;\n\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return (_this$console$error = this.console.error).bind.apply(_this$console$error, [this.console].concat(args));\n    }\n  }]);\n\n  return ConsoleLog;\n}();","import { ConsoleLog } from './loggers';\nexport var DEFAULT_LOADER_OPTIONS = {\n  fetch: null,\n  mimeType: undefined,\n  nothrow: false,\n  log: new ConsoleLog(),\n  CDN: 'https://unpkg.com/@loaders.gl',\n  worker: true,\n  maxConcurrency: 3,\n  maxMobileConcurrency: 1,\n  reuseWorkers: true,\n  _workerType: '',\n  limit: 0,\n  _limitMB: 0,\n  batchSize: 'auto',\n  batchDebounceMs: 0,\n  metadata: false,\n  transforms: []\n};\nexport var REMOVED_LOADER_OPTIONS = {\n  throws: 'nothrow',\n  dataType: '(no longer used)',\n  uri: 'baseUri',\n  method: 'fetch.method',\n  headers: 'fetch.headers',\n  body: 'fetch.body',\n  mode: 'fetch.mode',\n  credentials: 'fetch.credentials',\n  cache: 'fetch.cache',\n  redirect: 'fetch.redirect',\n  referrer: 'fetch.referrer',\n  referrerPolicy: 'fetch.referrerPolicy',\n  integrity: 'fetch.integrity',\n  keepalive: 'fetch.keepalive',\n  signal: 'fetch.signal'\n};","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { global } from '@loaders.gl/loader-utils';\nimport { isPureObject, isObject } from '../../javascript-utils/is-type';\nimport { fetchFile } from '../fetch/fetch-file';\nimport { probeLog, NullLog } from './loggers';\nimport { DEFAULT_LOADER_OPTIONS, REMOVED_LOADER_OPTIONS } from './option-defaults';\nexport function getGlobalLoaderState() {\n  global.loaders = global.loaders || {};\n  var loaders = global.loaders;\n  loaders._state = loaders._state || {};\n  return loaders._state;\n}\n\nvar getGlobalLoaderOptions = function getGlobalLoaderOptions() {\n  var state = getGlobalLoaderState();\n  state.globalOptions = state.globalOptions || _objectSpread({}, DEFAULT_LOADER_OPTIONS);\n  return state.globalOptions;\n};\n\nexport function setGlobalOptions(options) {\n  var state = getGlobalLoaderState();\n  var globalOptions = getGlobalLoaderOptions();\n  state.globalOptions = normalizeOptionsInternal(globalOptions, options);\n}\nexport function normalizeOptions(options, loader, loaders, url) {\n  loaders = loaders || [];\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n  validateOptions(options, loaders);\n  return normalizeOptionsInternal(loader, options, url);\n}\nexport function getFetchFunction(options, context) {\n  var globalOptions = getGlobalLoaderOptions();\n  var fetchOptions = options || globalOptions;\n\n  if (typeof fetchOptions.fetch === 'function') {\n    return fetchOptions.fetch;\n  }\n\n  if (isObject(fetchOptions.fetch)) {\n    return function (url) {\n      return fetchFile(url, fetchOptions);\n    };\n  }\n\n  if (context !== null && context !== void 0 && context.fetch) {\n    return context === null || context === void 0 ? void 0 : context.fetch;\n  }\n\n  return fetchFile;\n}\n\nfunction validateOptions(options, loaders) {\n  validateOptionsObject(options, null, DEFAULT_LOADER_OPTIONS, REMOVED_LOADER_OPTIONS, loaders);\n\n  var _iterator = _createForOfIteratorHelper(loaders),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var loader = _step.value;\n      var idOptions = options && options[loader.id] || {};\n      var loaderOptions = loader.options && loader.options[loader.id] || {};\n      var deprecatedOptions = loader.deprecatedOptions && loader.deprecatedOptions[loader.id] || {};\n      validateOptionsObject(idOptions, loader.id, loaderOptions, deprecatedOptions, loaders);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction validateOptionsObject(options, id, defaultOptions, deprecatedOptions, loaders) {\n  var loaderName = id || 'Top level';\n  var prefix = id ? \"\".concat(id, \".\") : '';\n\n  for (var key in options) {\n    var isSubOptions = !id && isObject(options[key]);\n    var isBaseUriOption = key === 'baseUri' && !id;\n    var isWorkerUrlOption = key === 'workerUrl' && id;\n\n    if (!(key in defaultOptions) && !isBaseUriOption && !isWorkerUrlOption) {\n      if (key in deprecatedOptions) {\n        probeLog.warn(\"\".concat(loaderName, \" loader option '\").concat(prefix).concat(key, \"' no longer supported, use '\").concat(deprecatedOptions[key], \"'\"))();\n      } else if (!isSubOptions) {\n        var suggestion = findSimilarOption(key, loaders);\n        probeLog.warn(\"\".concat(loaderName, \" loader option '\").concat(prefix).concat(key, \"' not recognized. \").concat(suggestion))();\n      }\n    }\n  }\n}\n\nfunction findSimilarOption(optionKey, loaders) {\n  var lowerCaseOptionKey = optionKey.toLowerCase();\n  var bestSuggestion = '';\n\n  var _iterator2 = _createForOfIteratorHelper(loaders),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var loader = _step2.value;\n\n      for (var key in loader.options) {\n        if (optionKey === key) {\n          return \"Did you mean '\".concat(loader.id, \".\").concat(key, \"'?\");\n        }\n\n        var lowerCaseKey = key.toLowerCase();\n        var isPartialMatch = lowerCaseOptionKey.startsWith(lowerCaseKey) || lowerCaseKey.startsWith(lowerCaseOptionKey);\n\n        if (isPartialMatch) {\n          bestSuggestion = bestSuggestion || \"Did you mean '\".concat(loader.id, \".\").concat(key, \"'?\");\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return bestSuggestion;\n}\n\nfunction normalizeOptionsInternal(loader, options, url) {\n  var loaderDefaultOptions = loader.options || {};\n\n  var mergedOptions = _objectSpread({}, loaderDefaultOptions);\n\n  addUrlOptions(mergedOptions, url);\n\n  if (mergedOptions.log === null) {\n    mergedOptions.log = new NullLog();\n  }\n\n  mergeNestedFields(mergedOptions, getGlobalLoaderOptions());\n  mergeNestedFields(mergedOptions, options);\n  return mergedOptions;\n}\n\nfunction mergeNestedFields(mergedOptions, options) {\n  for (var key in options) {\n    if (key in options) {\n      var value = options[key];\n\n      if (isPureObject(value) && isPureObject(mergedOptions[key])) {\n        mergedOptions[key] = _objectSpread(_objectSpread({}, mergedOptions[key]), options[key]);\n      } else {\n        mergedOptions[key] = options[key];\n      }\n    }\n  }\n}\n\nfunction addUrlOptions(options, url) {\n  if (url && !('baseUri' in options)) {\n    options.baseUri = url;\n  }\n}","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'loaders.gl assertion failed.');\n  }\n}","var DEFAULT_VERSION = 'beta';\nexport var VERSION = typeof \"3.0.13\" !== 'undefined' ? \"3.0.13\" : DEFAULT_VERSION;\n\nif (typeof \"3.0.13\" === 'undefined') {\n  console.error('loaders.gl: The __VERSION__ variable is not injected using babel plugin. Latest unstable workers would be fetched from the CDN.');\n}","import { assert } from '../env-utils/assert';\nimport { VERSION } from '../env-utils/version';\nexport function validateWorkerVersion(worker) {\n  var coreVersion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : VERSION;\n  assert(worker, 'no worker provided');\n  var workerVersion = worker.version;\n\n  if (!coreVersion || !workerVersion) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction parseVersion(version) {\n  var parts = version.split('.').map(Number);\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}","var globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nvar self_ = globals.self || globals.window || globals.global || {};\nvar window_ = globals.window || globals.self || globals.global || {};\nvar global_ = globals.global || globals.self || globals.window || {};\nvar document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport var isBrowser = typeof process !== 'object' || String(process) !== '[object process]' || process.browser;\nexport var isWorker = typeof importScripts === 'function';\nexport var isMobile = typeof window !== 'undefined' && typeof window.orientation !== 'undefined';\nvar matches = typeof process !== 'undefined' && process.version && /v([0-9]*)/.exec(process.version);\nexport var nodeVersion = matches && parseFloat(matches[1]) || 0;","import { assert } from '../env-utils/assert';\nvar workerURLCache = new Map();\nexport function getLoadableWorkerURL(props) {\n  assert(props.source && !props.url || !props.source && props.url);\n  var workerURL = workerURLCache.get(props.source || props.url);\n\n  if (!workerURL) {\n    if (props.url) {\n      workerURL = getLoadableWorkerURLFromURL(props.url);\n      workerURLCache.set(props.url, workerURL);\n    }\n\n    if (props.source) {\n      workerURL = getLoadableWorkerURLFromSource(props.source);\n      workerURLCache.set(props.source, workerURL);\n    }\n  }\n\n  assert(workerURL);\n  return workerURL;\n}\n\nfunction getLoadableWorkerURLFromURL(url) {\n  if (!url.startsWith('http')) {\n    return url;\n  }\n\n  var workerSource = buildScriptSource(url);\n  return getLoadableWorkerURLFromSource(workerSource);\n}\n\nfunction getLoadableWorkerURLFromSource(workerSource) {\n  var blob = new Blob([workerSource], {\n    type: 'application/javascript'\n  });\n  return URL.createObjectURL(blob);\n}\n\nfunction buildScriptSource(workerUrl) {\n  return \"try {\\n  importScripts('\".concat(workerUrl, \"');\\n} catch (error) {\\n  console.error(error);\\n  throw error;\\n}\");\n}","export function getTransferList(object) {\n  var recursive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var transfers = arguments.length > 2 ? arguments[2] : undefined;\n  var transfersSet = transfers || new Set();\n\n  if (!object) {} else if (isTransferable(object)) {\n    transfersSet.add(object);\n  } else if (isTransferable(object.buffer)) {\n    transfersSet.add(object.buffer);\n  } else if (ArrayBuffer.isView(object)) {} else if (recursive && typeof object === 'object') {\n    for (var key in object) {\n      getTransferList(object[key], recursive, transfersSet);\n    }\n  }\n\n  return transfers === undefined ? Array.from(transfersSet) : [];\n}\n\nfunction isTransferable(object) {\n  if (!object) {\n    return false;\n  }\n\n  if (object instanceof ArrayBuffer) {\n    return true;\n  }\n\n  if (typeof MessagePort !== 'undefined' && object instanceof MessagePort) {\n    return true;\n  }\n\n  if (typeof ImageBitmap !== 'undefined' && object instanceof ImageBitmap) {\n    return true;\n  }\n\n  if (typeof OffscreenCanvas !== 'undefined' && object instanceof OffscreenCanvas) {\n    return true;\n  }\n\n  return false;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { assert } from '../env-utils/assert';\nimport { getLoadableWorkerURL } from '../worker-utils/get-loadable-worker-url';\nimport { getTransferList } from '../worker-utils/get-transfer-list';\n\nvar NOOP = function NOOP() {};\n\nvar WorkerThread = /*#__PURE__*/function () {\n  function WorkerThread(props) {\n    _classCallCheck(this, WorkerThread);\n\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"source\", void 0);\n\n    _defineProperty(this, \"url\", void 0);\n\n    _defineProperty(this, \"terminated\", false);\n\n    _defineProperty(this, \"worker\", void 0);\n\n    _defineProperty(this, \"onMessage\", void 0);\n\n    _defineProperty(this, \"onError\", void 0);\n\n    _defineProperty(this, \"_loadableURL\", '');\n\n    var name = props.name,\n        source = props.source,\n        url = props.url;\n    assert(source || url);\n    this.name = name;\n    this.source = source;\n    this.url = url;\n    this.onMessage = NOOP;\n\n    this.onError = function (error) {\n      return console.log(error);\n    };\n\n    this.worker = this._createBrowserWorker();\n  }\n\n  _createClass(WorkerThread, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.onMessage = NOOP;\n      this.onError = NOOP;\n      this.worker.terminate();\n      this.terminated = true;\n    }\n  }, {\n    key: \"isRunning\",\n    get: function get() {\n      return Boolean(this.onMessage);\n    }\n  }, {\n    key: \"postMessage\",\n    value: function postMessage(data, transferList) {\n      transferList = transferList || getTransferList(data);\n      this.worker.postMessage(data, transferList);\n    }\n  }, {\n    key: \"_getErrorFromErrorEvent\",\n    value: function _getErrorFromErrorEvent(event) {\n      var message = 'Failed to load ';\n      message += \"worker \".concat(this.name, \". \");\n\n      if (event.message) {\n        message += \"\".concat(event.message, \" in \");\n      }\n\n      if (event.lineno) {\n        message += \":\".concat(event.lineno, \":\").concat(event.colno);\n      }\n\n      return new Error(message);\n    }\n  }, {\n    key: \"_createBrowserWorker\",\n    value: function _createBrowserWorker() {\n      var _this = this;\n\n      this._loadableURL = getLoadableWorkerURL({\n        source: this.source,\n        url: this.url\n      });\n      var worker = new Worker(this._loadableURL, {\n        name: this.name\n      });\n\n      worker.onmessage = function (event) {\n        if (!event.data) {\n          _this.onError(new Error('No data received'));\n        } else {\n          _this.onMessage(event.data);\n        }\n      };\n\n      worker.onerror = function (error) {\n        _this.onError(_this._getErrorFromErrorEvent(error));\n\n        _this.terminated = true;\n      };\n\n      worker.onmessageerror = function (event) {\n        return console.error(event);\n      };\n\n      return worker;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof Worker !== 'undefined';\n    }\n  }]);\n\n  return WorkerThread;\n}();\n\nexport { WorkerThread as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { assert } from '../env-utils/assert';\n\nvar WorkerJob = /*#__PURE__*/function () {\n  function WorkerJob(jobName, workerThread) {\n    var _this = this;\n\n    _classCallCheck(this, WorkerJob);\n\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"workerThread\", void 0);\n\n    _defineProperty(this, \"isRunning\", void 0);\n\n    _defineProperty(this, \"result\", void 0);\n\n    _defineProperty(this, \"_resolve\", void 0);\n\n    _defineProperty(this, \"_reject\", void 0);\n\n    this.name = jobName;\n    this.workerThread = workerThread;\n    this.isRunning = true;\n\n    this._resolve = function () {};\n\n    this._reject = function () {};\n\n    this.result = new Promise(function (resolve, reject) {\n      _this._resolve = resolve;\n      _this._reject = reject;\n    });\n  }\n\n  _createClass(WorkerJob, [{\n    key: \"postMessage\",\n    value: function postMessage(type, payload) {\n      this.workerThread.postMessage({\n        source: 'loaders.gl',\n        type: type,\n        payload: payload\n      });\n    }\n  }, {\n    key: \"done\",\n    value: function done(value) {\n      assert(this.isRunning);\n      this.isRunning = false;\n\n      this._resolve(value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(_error) {\n      assert(this.isRunning);\n      this.isRunning = false;\n\n      this._reject(_error);\n    }\n  }]);\n\n  return WorkerJob;\n}();\n\nexport { WorkerJob as default };","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty2 from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isMobile } from '../env-utils/globals';\nimport WorkerThread from './worker-thread';\nimport WorkerJob from './worker-job';\n\nvar WorkerPool = /*#__PURE__*/function () {\n  function WorkerPool(props) {\n    _classCallCheck(this, WorkerPool);\n\n    _defineProperty(this, \"name\", 'unnamed');\n\n    _defineProperty(this, \"source\", void 0);\n\n    _defineProperty(this, \"url\", void 0);\n\n    _defineProperty(this, \"maxConcurrency\", 1);\n\n    _defineProperty(this, \"maxMobileConcurrency\", 1);\n\n    _defineProperty(this, \"onDebug\", function () {});\n\n    _defineProperty(this, \"reuseWorkers\", true);\n\n    _defineProperty(this, \"props\", {});\n\n    _defineProperty(this, \"jobQueue\", []);\n\n    _defineProperty(this, \"idleQueue\", []);\n\n    _defineProperty(this, \"count\", 0);\n\n    _defineProperty(this, \"isDestroyed\", false);\n\n    this.source = props.source;\n    this.url = props.url;\n    this.setProps(props);\n  }\n\n  _createClass(WorkerPool, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.idleQueue.forEach(function (worker) {\n        return worker.destroy();\n      });\n      this.isDestroyed = true;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this.props = _objectSpread(_objectSpread({}, this.props), props);\n\n      if (props.name !== undefined) {\n        this.name = props.name;\n      }\n\n      if (props.maxConcurrency !== undefined) {\n        this.maxConcurrency = props.maxConcurrency;\n      }\n\n      if (props.maxMobileConcurrency !== undefined) {\n        this.maxMobileConcurrency = props.maxMobileConcurrency;\n      }\n\n      if (props.reuseWorkers !== undefined) {\n        this.reuseWorkers = props.reuseWorkers;\n      }\n\n      if (props.onDebug !== undefined) {\n        this.onDebug = props.onDebug;\n      }\n    }\n  }, {\n    key: \"startJob\",\n    value: function () {\n      var _startJob = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(name) {\n        var _this = this;\n\n        var onMessage,\n            onError,\n            startPromise,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                onMessage = _args.length > 1 && _args[1] !== undefined ? _args[1] : function (job, type, data) {\n                  return job.done(data);\n                };\n                onError = _args.length > 2 && _args[2] !== undefined ? _args[2] : function (job, error) {\n                  return job.error(error);\n                };\n                startPromise = new Promise(function (onStart) {\n                  _this.jobQueue.push({\n                    name: name,\n                    onMessage: onMessage,\n                    onError: onError,\n                    onStart: onStart\n                  });\n\n                  return _this;\n                });\n\n                this._startQueuedJob();\n\n                _context.next = 6;\n                return startPromise;\n\n              case 6:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function startJob(_x) {\n        return _startJob.apply(this, arguments);\n      }\n\n      return startJob;\n    }()\n  }, {\n    key: \"_startQueuedJob\",\n    value: function () {\n      var _startQueuedJob2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var workerThread, queuedJob, job;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.jobQueue.length) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                workerThread = this._getAvailableWorker();\n\n                if (workerThread) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 5:\n                queuedJob = this.jobQueue.shift();\n\n                if (!queuedJob) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                this.onDebug({\n                  message: 'Starting job',\n                  name: queuedJob.name,\n                  workerThread: workerThread,\n                  backlog: this.jobQueue.length\n                });\n                job = new WorkerJob(queuedJob.name, workerThread);\n\n                workerThread.onMessage = function (data) {\n                  return queuedJob.onMessage(job, data.type, data.payload);\n                };\n\n                workerThread.onError = function (error) {\n                  return queuedJob.onError(job, error);\n                };\n\n                queuedJob.onStart(job);\n                _context2.prev = 12;\n                _context2.next = 15;\n                return job.result;\n\n              case 15:\n                _context2.prev = 15;\n                this.returnWorkerToQueue(workerThread);\n                return _context2.finish(15);\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[12,, 15, 18]]);\n      }));\n\n      function _startQueuedJob() {\n        return _startQueuedJob2.apply(this, arguments);\n      }\n\n      return _startQueuedJob;\n    }()\n  }, {\n    key: \"returnWorkerToQueue\",\n    value: function returnWorkerToQueue(worker) {\n      var shouldDestroyWorker = this.isDestroyed || !this.reuseWorkers || this.count > this._getMaxConcurrency();\n\n      if (shouldDestroyWorker) {\n        worker.destroy();\n        this.count--;\n      } else {\n        this.idleQueue.push(worker);\n      }\n\n      if (!this.isDestroyed) {\n        this._startQueuedJob();\n      }\n    }\n  }, {\n    key: \"_getAvailableWorker\",\n    value: function _getAvailableWorker() {\n      if (this.idleQueue.length > 0) {\n        return this.idleQueue.shift() || null;\n      }\n\n      if (this.count < this._getMaxConcurrency()) {\n        this.count++;\n        var name = \"\".concat(this.name.toLowerCase(), \" (#\").concat(this.count, \" of \").concat(this.maxConcurrency, \")\");\n        return new WorkerThread({\n          name: name,\n          source: this.source,\n          url: this.url\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_getMaxConcurrency\",\n    value: function _getMaxConcurrency() {\n      return isMobile ? this.maxMobileConcurrency : this.maxConcurrency;\n    }\n  }]);\n\n  return WorkerPool;\n}();\n\nexport { WorkerPool as default };","import _defineProperty2 from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport WorkerPool from './worker-pool';\nimport WorkerThread from './worker-thread';\nvar DEFAULT_PROPS = {\n  maxConcurrency: 3,\n  maxMobileConcurrency: 1,\n  onDebug: function onDebug() {},\n  reuseWorkers: true\n};\n\nvar WorkerFarm = /*#__PURE__*/function () {\n  function WorkerFarm(props) {\n    _classCallCheck(this, WorkerFarm);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"workerPools\", new Map());\n\n    this.props = _objectSpread({}, DEFAULT_PROPS);\n    this.setProps(props);\n    this.workerPools = new Map();\n  }\n\n  _createClass(WorkerFarm, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _iterator = _createForOfIteratorHelper(this.workerPools.values()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var workerPool = _step.value;\n          workerPool.destroy();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this.props = _objectSpread(_objectSpread({}, this.props), props);\n\n      var _iterator2 = _createForOfIteratorHelper(this.workerPools.values()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var workerPool = _step2.value;\n          workerPool.setProps(this._getWorkerPoolProps());\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"getWorkerPool\",\n    value: function getWorkerPool(options) {\n      var name = options.name,\n          source = options.source,\n          url = options.url;\n      var workerPool = this.workerPools.get(name);\n\n      if (!workerPool) {\n        workerPool = new WorkerPool({\n          name: name,\n          source: source,\n          url: url\n        });\n        workerPool.setProps(this._getWorkerPoolProps());\n        this.workerPools.set(name, workerPool);\n      }\n\n      return workerPool;\n    }\n  }, {\n    key: \"_getWorkerPoolProps\",\n    value: function _getWorkerPoolProps() {\n      return {\n        maxConcurrency: this.props.maxConcurrency,\n        maxMobileConcurrency: this.props.maxMobileConcurrency,\n        reuseWorkers: this.props.reuseWorkers,\n        onDebug: this.props.onDebug\n      };\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return WorkerThread.isSupported();\n    }\n  }, {\n    key: \"getWorkerFarm\",\n    value: function getWorkerFarm() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      WorkerFarm._workerFarm = WorkerFarm._workerFarm || new WorkerFarm({});\n\n      WorkerFarm._workerFarm.setProps(props);\n\n      return WorkerFarm._workerFarm;\n    }\n  }]);\n\n  return WorkerFarm;\n}();\n\nexport { WorkerFarm as default };\n\n_defineProperty(WorkerFarm, \"_workerFarm\", void 0);","import { assert } from '../env-utils/assert';\nimport { VERSION as __VERSION__ } from '../env-utils/version';\nvar NPM_TAG = 'latest';\nvar VERSION = typeof \"3.0.13\" !== 'undefined' ? \"3.0.13\" : NPM_TAG;\nexport function getWorkerName(worker) {\n  var warning = worker.version !== VERSION ? \" (worker-utils@\".concat(VERSION, \")\") : '';\n  return \"\".concat(worker.name, \"@\").concat(worker.version).concat(warning);\n}\nexport function getWorkerURL(worker) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var workerOptions = options[worker.id] || {};\n  var workerFile = \"\".concat(worker.id, \"-worker.js\");\n  var url = workerOptions.workerUrl;\n\n  if (!url && worker.id === 'compression') {\n    url = options.workerUrl;\n  }\n\n  if (options._workerType === 'test') {\n    url = \"modules/\".concat(worker.module, \"/dist/\").concat(workerFile);\n  }\n\n  if (!url) {\n    var version = worker.version;\n\n    if (version === 'latest') {\n      version = NPM_TAG;\n    }\n\n    var versionTag = version ? \"@\".concat(version) : '';\n    url = \"https://unpkg.com/@loaders.gl/\".concat(worker.module).concat(versionTag, \"/dist/\").concat(workerFile);\n  }\n\n  assert(url);\n  return url;\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { WorkerFarm, getWorkerURL } from '@loaders.gl/worker-utils';\nexport function canParseWithWorker(loader, options) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n\n  return loader.worker && (options === null || options === void 0 ? void 0 : options.worker);\n}\nexport function parseWithWorker(_x, _x2, _x3, _x4, _x5) {\n  return _parseWithWorker.apply(this, arguments);\n}\n\nfunction _parseWithWorker() {\n  _parseWithWorker = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(loader, data, options, context, parseOnMainThread) {\n    var name, url, workerFarm, workerPool, job, result;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            name = loader.id;\n            url = getWorkerURL(loader, options);\n            workerFarm = WorkerFarm.getWorkerFarm(options);\n            workerPool = workerFarm.getWorkerPool({\n              name: name,\n              url: url\n            });\n            options = JSON.parse(JSON.stringify(options));\n            _context.next = 7;\n            return workerPool.startJob('process-on-worker', onMessage.bind(null, parseOnMainThread));\n\n          case 7:\n            job = _context.sent;\n            job.postMessage('process', {\n              input: data,\n              options: options\n            });\n            _context.next = 11;\n            return job.result;\n\n          case 11:\n            result = _context.sent;\n            _context.next = 14;\n            return result.result;\n\n          case 14:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseWithWorker.apply(this, arguments);\n}\n\nfunction onMessage(_x6, _x7, _x8, _x9) {\n  return _onMessage.apply(this, arguments);\n}\n\nfunction _onMessage() {\n  _onMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(parseOnMainThread, job, type, payload) {\n    var id, input, options, result, message;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = type;\n            _context2.next = _context2.t0 === 'done' ? 3 : _context2.t0 === 'error' ? 5 : _context2.t0 === 'process' ? 7 : 20;\n            break;\n\n          case 3:\n            job.done(payload);\n            return _context2.abrupt(\"break\", 21);\n\n          case 5:\n            job.error(payload.error);\n            return _context2.abrupt(\"break\", 21);\n\n          case 7:\n            id = payload.id, input = payload.input, options = payload.options;\n            _context2.prev = 8;\n            _context2.next = 11;\n            return parseOnMainThread(input, options);\n\n          case 11:\n            result = _context2.sent;\n            job.postMessage('done', {\n              id: id,\n              result: result\n            });\n            _context2.next = 19;\n            break;\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t1 = _context2[\"catch\"](8);\n            message = _context2.t1 instanceof Error ? _context2.t1.message : 'unknown error';\n            job.postMessage('error', {\n              id: id,\n              error: message\n            });\n\n          case 19:\n            return _context2.abrupt(\"break\", 21);\n\n          case 20:\n            console.warn(\"parse-with-worker unknown message \".concat(type));\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[8, 15]]);\n  }));\n  return _onMessage.apply(this, arguments);\n}","export default function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol !== \"undefined\") {\n    if (Symbol.asyncIterator) method = iterable[Symbol.asyncIterator];\n    if (method == null && Symbol.iterator) method = iterable[Symbol.iterator];\n  }\n\n  if (method == null) method = iterable[\"@@asyncIterator\"];\n  if (method == null) method = iterable[\"@@iterator\"];\n  if (method == null) throw new TypeError(\"Object is not async iterable\");\n  return method.call(iterable);\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as node from './buffer-utils';\nexport function toArrayBuffer(data) {\n  if (node.isBuffer(data)) {\n    data = node.bufferToArrayBuffer(data);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return data;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    if (data.byteOffset === 0 && data.byteLength === data.buffer.byteLength) {\n      return data.buffer;\n    }\n\n    return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n  }\n\n  if (typeof data === 'string') {\n    var text = data;\n    var uint8Array = new TextEncoder().encode(text);\n    return uint8Array.buffer;\n  }\n\n  if (data && typeof data === 'object' && data._toArrayBuffer) {\n    return data._toArrayBuffer();\n  }\n\n  throw new Error('toArrayBuffer');\n}\nexport function compareArrayBuffers(arrayBuffer1, arrayBuffer2, byteLength) {\n  byteLength = byteLength || arrayBuffer1.byteLength;\n\n  if (arrayBuffer1.byteLength < byteLength || arrayBuffer2.byteLength < byteLength) {\n    return false;\n  }\n\n  var array1 = new Uint8Array(arrayBuffer1);\n  var array2 = new Uint8Array(arrayBuffer2);\n\n  for (var i = 0; i < array1.length; ++i) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport function concatenateArrayBuffers() {\n  for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  var sourceArrays = sources.map(function (source2) {\n    return source2 instanceof ArrayBuffer ? new Uint8Array(source2) : source2;\n  });\n  var byteLength = sourceArrays.reduce(function (length, typedArray) {\n    return length + typedArray.byteLength;\n  }, 0);\n  var result = new Uint8Array(byteLength);\n  var offset = 0;\n\n  var _iterator = _createForOfIteratorHelper(sourceArrays),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var sourceArray = _step.value;\n      result.set(sourceArray, offset);\n      offset += sourceArray.byteLength;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return result.buffer;\n}\nexport function concatenateTypedArrays() {\n  for (var _len2 = arguments.length, typedArrays = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    typedArrays[_key2] = arguments[_key2];\n  }\n\n  var arrays = typedArrays;\n  var TypedArrayConstructor = arrays && arrays.length > 1 && arrays[0].constructor || null;\n\n  if (!TypedArrayConstructor) {\n    throw new Error('\"concatenateTypedArrays\" - incorrect quantity of arguments or arguments have incompatible data types');\n  }\n\n  var sumLength = arrays.reduce(function (acc, value) {\n    return acc + value.length;\n  }, 0);\n  var result = new TypedArrayConstructor(sumLength);\n  var offset = 0;\n\n  for (var _i = 0, _arrays = arrays; _i < _arrays.length; _i++) {\n    var array = _arrays[_i];\n    result.set(array, offset);\n    offset += array.length;\n  }\n\n  return result;\n}\nexport function sliceArrayBuffer(arrayBuffer, byteOffset, byteLength) {\n  var subArray = byteLength !== undefined ? new Uint8Array(arrayBuffer).subarray(byteOffset, byteOffset + byteLength) : new Uint8Array(arrayBuffer).subarray(byteOffset);\n  var arrayCopy = new Uint8Array(subArray);\n  return arrayCopy.buffer;\n}","import * as node from '../node/buffer';\nexport function isBuffer(value) {\n  return value && typeof value === 'object' && value.isBuffer;\n}\nexport function toBuffer(data) {\n  return node.toBuffer ? node.toBuffer(data) : data;\n}\nexport function bufferToArrayBuffer(data) {\n  if (node.toArrayBuffer) {\n    return node.toArrayBuffer(data);\n  }\n\n  return data;\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _asyncIterator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncIterator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { concatenateArrayBuffers } from '../binary-utils/array-buffer-utils';\nexport function forEach(_x, _x2) {\n  return _forEach.apply(this, arguments);\n}\n\nfunction _forEach() {\n  _forEach = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(iterator, visitor) {\n    var _yield$iterator$next, done, value, cancel;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!true) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 3;\n            return iterator.next();\n\n          case 3:\n            _yield$iterator$next = _context.sent;\n            done = _yield$iterator$next.done;\n            value = _yield$iterator$next.value;\n\n            if (!done) {\n              _context.next = 9;\n              break;\n            }\n\n            iterator.return();\n            return _context.abrupt(\"return\");\n\n          case 9:\n            cancel = visitor(value);\n\n            if (!cancel) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 12:\n            _context.next = 0;\n            break;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _forEach.apply(this, arguments);\n}\n\nexport function concatenateArrayBuffersAsync(_x3) {\n  return _concatenateArrayBuffersAsync.apply(this, arguments);\n}\n\nfunction _concatenateArrayBuffersAsync() {\n  _concatenateArrayBuffersAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(asyncIterator) {\n    var arrayBuffers, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, chunk;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            arrayBuffers = [];\n            _iteratorAbruptCompletion = false;\n            _didIteratorError = false;\n            _context2.prev = 3;\n            _iterator = _asyncIterator(asyncIterator);\n\n          case 5:\n            _context2.next = 7;\n            return _iterator.next();\n\n          case 7:\n            if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {\n              _context2.next = 13;\n              break;\n            }\n\n            chunk = _step.value;\n            arrayBuffers.push(chunk);\n\n          case 10:\n            _iteratorAbruptCompletion = false;\n            _context2.next = 5;\n            break;\n\n          case 13:\n            _context2.next = 19;\n            break;\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2[\"catch\"](3);\n            _didIteratorError = true;\n            _iteratorError = _context2.t0;\n\n          case 19:\n            _context2.prev = 19;\n            _context2.prev = 20;\n\n            if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n              _context2.next = 24;\n              break;\n            }\n\n            _context2.next = 24;\n            return _iterator.return();\n\n          case 24:\n            _context2.prev = 24;\n\n            if (!_didIteratorError) {\n              _context2.next = 27;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 27:\n            return _context2.finish(24);\n\n          case 28:\n            return _context2.finish(19);\n\n          case 29:\n            return _context2.abrupt(\"return\", concatenateArrayBuffers.apply(void 0, arrayBuffers));\n\n          case 30:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[3, 15, 19, 29], [20,, 24, 28]]);\n  }));\n  return _concatenateArrayBuffersAsync.apply(this, arguments);\n}\n\nexport function concatenateStringsAsync(_x4) {\n  return _concatenateStringsAsync.apply(this, arguments);\n}\n\nfunction _concatenateStringsAsync() {\n  _concatenateStringsAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(asyncIterator) {\n    var strings, _iteratorAbruptCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, chunk;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            strings = [];\n            _iteratorAbruptCompletion2 = false;\n            _didIteratorError2 = false;\n            _context3.prev = 3;\n            _iterator2 = _asyncIterator(asyncIterator);\n\n          case 5:\n            _context3.next = 7;\n            return _iterator2.next();\n\n          case 7:\n            if (!(_iteratorAbruptCompletion2 = !(_step2 = _context3.sent).done)) {\n              _context3.next = 13;\n              break;\n            }\n\n            chunk = _step2.value;\n            strings.push(chunk);\n\n          case 10:\n            _iteratorAbruptCompletion2 = false;\n            _context3.next = 5;\n            break;\n\n          case 13:\n            _context3.next = 19;\n            break;\n\n          case 15:\n            _context3.prev = 15;\n            _context3.t0 = _context3[\"catch\"](3);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context3.t0;\n\n          case 19:\n            _context3.prev = 19;\n            _context3.prev = 20;\n\n            if (!(_iteratorAbruptCompletion2 && _iterator2.return != null)) {\n              _context3.next = 24;\n              break;\n            }\n\n            _context3.next = 24;\n            return _iterator2.return();\n\n          case 24:\n            _context3.prev = 24;\n\n            if (!_didIteratorError2) {\n              _context3.next = 27;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 27:\n            return _context3.finish(24);\n\n          case 28:\n            return _context3.finish(19);\n\n          case 29:\n            return _context3.abrupt(\"return\", strings.join(''));\n\n          case 30:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[3, 15, 19, 29], [20,, 24, 28]]);\n  }));\n  return _concatenateStringsAsync.apply(this, arguments);\n}","import _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(makeStringIterator);\n\nvar DEFAULT_CHUNK_SIZE = 256 * 1024;\nexport function makeStringIterator(string, options) {\n  var chunkSize, offset, textEncoder, chunkLength, chunk;\n  return _regeneratorRuntime.wrap(function makeStringIterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          chunkSize = (options === null || options === void 0 ? void 0 : options.chunkSize) || DEFAULT_CHUNK_SIZE;\n          offset = 0;\n          textEncoder = new TextEncoder();\n\n        case 3:\n          if (!(offset < string.length)) {\n            _context.next = 11;\n            break;\n          }\n\n          chunkLength = Math.min(string.length - offset, chunkSize);\n          chunk = string.slice(offset, offset + chunkLength);\n          offset += chunkLength;\n          _context.next = 9;\n          return textEncoder.encode(chunk);\n\n        case 9:\n          _context.next = 3;\n          break;\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","import _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(makeArrayBufferIterator);\n\nvar DEFAULT_CHUNK_SIZE = 256 * 1024;\nexport function makeArrayBufferIterator(arrayBuffer) {\n  var options,\n      _options$chunkSize,\n      chunkSize,\n      byteOffset,\n      chunkByteLength,\n      chunk,\n      sourceArray,\n      chunkArray,\n      _args = arguments;\n\n  return _regeneratorRuntime.wrap(function makeArrayBufferIterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _options$chunkSize = options.chunkSize, chunkSize = _options$chunkSize === void 0 ? DEFAULT_CHUNK_SIZE : _options$chunkSize;\n          byteOffset = 0;\n\n        case 3:\n          if (!(byteOffset < arrayBuffer.byteLength)) {\n            _context.next = 14;\n            break;\n          }\n\n          chunkByteLength = Math.min(arrayBuffer.byteLength - byteOffset, chunkSize);\n          chunk = new ArrayBuffer(chunkByteLength);\n          sourceArray = new Uint8Array(arrayBuffer, byteOffset, chunkByteLength);\n          chunkArray = new Uint8Array(chunk);\n          chunkArray.set(sourceArray);\n          byteOffset += chunkByteLength;\n          _context.next = 12;\n          return chunk;\n\n        case 12:\n          _context.next = 3;\n          break;\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","export default function _AwaitValue(value) {\n  this.wrapped = value;\n}","import AwaitValue from \"./AwaitValue.js\";\nexport default function _awaitAsyncGenerator(value) {\n  return new AwaitValue(value);\n}","import AwaitValue from \"./AwaitValue.js\";\nexport default function AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(key === \"return\" ? \"return\" : \"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen[\"return\"] !== \"function\") {\n    this[\"return\"] = undefined;\n  }\n}\n\nAsyncGenerator.prototype[typeof Symbol === \"function\" && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n};\n\nAsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\nAsyncGenerator.prototype[\"throw\"] = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\nAsyncGenerator.prototype[\"return\"] = function (arg) {\n  return this._invoke(\"return\", arg);\n};","import AsyncGenerator from \"./AsyncGenerator.js\";\nexport default function _wrapAsyncGenerator(fn) {\n  return function () {\n    return new AsyncGenerator(fn.apply(this, arguments));\n  };\n}","import _awaitAsyncGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator\";\nimport _wrapAsyncGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nvar DEFAULT_CHUNK_SIZE = 1024 * 1024;\nexport function makeBlobIterator(_x, _x2) {\n  return _makeBlobIterator.apply(this, arguments);\n}\n\nfunction _makeBlobIterator() {\n  _makeBlobIterator = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(blob, options) {\n    var chunkSize, offset, end, chunk;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            chunkSize = (options === null || options === void 0 ? void 0 : options.chunkSize) || DEFAULT_CHUNK_SIZE;\n            offset = 0;\n\n          case 2:\n            if (!(offset < blob.size)) {\n              _context.next = 12;\n              break;\n            }\n\n            end = offset + chunkSize;\n            _context.next = 6;\n            return _awaitAsyncGenerator(blob.slice(offset, end).arrayBuffer());\n\n          case 6:\n            chunk = _context.sent;\n            offset = end;\n            _context.next = 10;\n            return chunk;\n\n          case 10:\n            _context.next = 2;\n            break;\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _makeBlobIterator.apply(this, arguments);\n}","import _asyncIterator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncIterator\";\nimport _awaitAsyncGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator\";\nimport _wrapAsyncGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { isBrowser, toArrayBuffer } from '@loaders.gl/loader-utils';\nexport function makeStreamIterator(stream, options) {\n  return isBrowser ? makeBrowserStreamIterator(stream, options) : makeNodeStreamIterator(stream, options);\n}\n\nfunction makeBrowserStreamIterator(_x, _x2) {\n  return _makeBrowserStreamIterator.apply(this, arguments);\n}\n\nfunction _makeBrowserStreamIterator() {\n  _makeBrowserStreamIterator = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(stream, options) {\n    var reader, nextBatchPromise, currentBatchPromise, _yield$_awaitAsyncGen, done, value;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            reader = stream.getReader();\n            _context.prev = 1;\n\n          case 2:\n            if (!true) {\n              _context.next = 16;\n              break;\n            }\n\n            currentBatchPromise = nextBatchPromise || reader.read();\n\n            if (options !== null && options !== void 0 && options._streamReadAhead) {\n              nextBatchPromise = reader.read();\n            }\n\n            _context.next = 7;\n            return _awaitAsyncGenerator(currentBatchPromise);\n\n          case 7:\n            _yield$_awaitAsyncGen = _context.sent;\n            done = _yield$_awaitAsyncGen.done;\n            value = _yield$_awaitAsyncGen.value;\n\n            if (!done) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 12:\n            _context.next = 14;\n            return toArrayBuffer(value);\n\n          case 14:\n            _context.next = 2;\n            break;\n\n          case 16:\n            _context.next = 21;\n            break;\n\n          case 18:\n            _context.prev = 18;\n            _context.t0 = _context[\"catch\"](1);\n            reader.releaseLock();\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 18]]);\n  }));\n  return _makeBrowserStreamIterator.apply(this, arguments);\n}\n\nfunction makeNodeStreamIterator(_x3, _x4) {\n  return _makeNodeStreamIterator.apply(this, arguments);\n}\n\nfunction _makeNodeStreamIterator() {\n  _makeNodeStreamIterator = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(stream, options) {\n    var _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, chunk;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _iteratorAbruptCompletion = false;\n            _didIteratorError = false;\n            _context2.prev = 2;\n            _iterator = _asyncIterator(stream);\n\n          case 4:\n            _context2.next = 6;\n            return _awaitAsyncGenerator(_iterator.next());\n\n          case 6:\n            if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {\n              _context2.next = 13;\n              break;\n            }\n\n            chunk = _step.value;\n            _context2.next = 10;\n            return toArrayBuffer(chunk);\n\n          case 10:\n            _iteratorAbruptCompletion = false;\n            _context2.next = 4;\n            break;\n\n          case 13:\n            _context2.next = 19;\n            break;\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2[\"catch\"](2);\n            _didIteratorError = true;\n            _iteratorError = _context2.t0;\n\n          case 19:\n            _context2.prev = 19;\n            _context2.prev = 20;\n\n            if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n              _context2.next = 24;\n              break;\n            }\n\n            _context2.next = 24;\n            return _awaitAsyncGenerator(_iterator.return());\n\n          case 24:\n            _context2.prev = 24;\n\n            if (!_didIteratorError) {\n              _context2.next = 27;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 27:\n            return _context2.finish(24);\n\n          case 28:\n            return _context2.finish(19);\n\n          case 29:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[2, 15, 19, 29], [20,, 24, 28]]);\n  }));\n  return _makeNodeStreamIterator.apply(this, arguments);\n}","import { makeStringIterator } from './make-string-iterator';\nimport { makeArrayBufferIterator } from './make-array-buffer-iterator';\nimport { makeBlobIterator } from './make-blob-iterator';\nimport { makeStreamIterator } from './make-stream-iterator';\nimport { isBlob, isReadableStream, isResponse } from '../../javascript-utils/is-type';\nexport function makeIterator(data, options) {\n  if (typeof data === 'string') {\n    return makeStringIterator(data, options);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return makeArrayBufferIterator(data, options);\n  }\n\n  if (isBlob(data)) {\n    return makeBlobIterator(data, options);\n  }\n\n  if (isReadableStream(data)) {\n    return makeStreamIterator(data, options);\n  }\n\n  if (isResponse(data)) {\n    var response = data;\n    return makeStreamIterator(response.body, options);\n  }\n\n  throw new Error('makeIterator');\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { concatenateArrayBuffersAsync } from '@loaders.gl/loader-utils';\nimport { isResponse, isReadableStream, isAsyncIterable, isIterable, isIterator, isBlob, isBuffer } from '../../javascript-utils/is-type';\nimport { makeIterator } from '../../iterators/make-iterator/make-iterator';\nimport { checkResponse, makeResponse } from '../utils/response-utils';\nvar ERR_DATA = 'Cannot convert supplied data type';\nexport function getArrayBufferOrStringFromDataSync(data, loader, options) {\n  if (loader.text && typeof data === 'string') {\n    return data;\n  }\n\n  if (isBuffer(data)) {\n    data = data.buffer;\n  }\n\n  if (data instanceof ArrayBuffer) {\n    var arrayBuffer = data;\n\n    if (loader.text && !loader.binary) {\n      var textDecoder = new TextDecoder('utf8');\n      return textDecoder.decode(arrayBuffer);\n    }\n\n    return arrayBuffer;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    if (loader.text && !loader.binary) {\n      var _textDecoder = new TextDecoder('utf8');\n\n      return _textDecoder.decode(data);\n    }\n\n    var _arrayBuffer = data.buffer;\n    var byteLength = data.byteLength || data.length;\n\n    if (data.byteOffset !== 0 || byteLength !== _arrayBuffer.byteLength) {\n      _arrayBuffer = _arrayBuffer.slice(data.byteOffset, data.byteOffset + byteLength);\n    }\n\n    return _arrayBuffer;\n  }\n\n  throw new Error(ERR_DATA);\n}\nexport function getArrayBufferOrStringFromData(_x, _x2, _x3) {\n  return _getArrayBufferOrStringFromData.apply(this, arguments);\n}\n\nfunction _getArrayBufferOrStringFromData() {\n  _getArrayBufferOrStringFromData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, loader, options) {\n    var isArrayBuffer, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            isArrayBuffer = data instanceof ArrayBuffer || ArrayBuffer.isView(data);\n\n            if (!(typeof data === 'string' || isArrayBuffer)) {\n              _context3.next = 3;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", getArrayBufferOrStringFromDataSync(data, loader, options));\n\n          case 3:\n            if (!isBlob(data)) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return makeResponse(data);\n\n          case 6:\n            data = _context3.sent;\n\n          case 7:\n            if (!isResponse(data)) {\n              _context3.next = 21;\n              break;\n            }\n\n            response = data;\n            _context3.next = 11;\n            return checkResponse(response);\n\n          case 11:\n            if (!loader.binary) {\n              _context3.next = 17;\n              break;\n            }\n\n            _context3.next = 14;\n            return response.arrayBuffer();\n\n          case 14:\n            _context3.t0 = _context3.sent;\n            _context3.next = 20;\n            break;\n\n          case 17:\n            _context3.next = 19;\n            return response.text();\n\n          case 19:\n            _context3.t0 = _context3.sent;\n\n          case 20:\n            return _context3.abrupt(\"return\", _context3.t0);\n\n          case 21:\n            if (isReadableStream(data)) {\n              data = makeIterator(data, options);\n            }\n\n            if (!(isIterable(data) || isAsyncIterable(data))) {\n              _context3.next = 24;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", concatenateArrayBuffersAsync(data));\n\n          case 24:\n            throw new Error(ERR_DATA);\n\n          case 25:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getArrayBufferOrStringFromData.apply(this, arguments);\n}\n\nexport function getAsyncIterableFromData(_x4, _x5) {\n  return _getAsyncIterableFromData.apply(this, arguments);\n}\n\nfunction _getAsyncIterableFromData() {\n  _getAsyncIterableFromData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data, options) {\n    var response, body;\n    return _regeneratorRuntime.wrap(function _callee2$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!isIterator(data)) {\n              _context4.next = 2;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", data);\n\n          case 2:\n            if (!isResponse(data)) {\n              _context4.next = 10;\n              break;\n            }\n\n            response = data;\n            _context4.next = 6;\n            return checkResponse(response);\n\n          case 6:\n            _context4.next = 8;\n            return response.body;\n\n          case 8:\n            body = _context4.sent;\n            return _context4.abrupt(\"return\", makeIterator(body, options));\n\n          case 10:\n            if (!(isBlob(data) || isReadableStream(data))) {\n              _context4.next = 12;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", makeIterator(data, options));\n\n          case 12:\n            if (!isAsyncIterable(data)) {\n              _context4.next = 14;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", data[Symbol.asyncIterator]());\n\n          case 14:\n            return _context4.abrupt(\"return\", getIterableFromData(data));\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getAsyncIterableFromData.apply(this, arguments);\n}\n\nexport function getReadableStream(_x6) {\n  return _getReadableStream.apply(this, arguments);\n}\n\nfunction _getReadableStream() {\n  _getReadableStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee3$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!isReadableStream(data)) {\n              _context5.next = 2;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", data);\n\n          case 2:\n            if (!isResponse(data)) {\n              _context5.next = 4;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", data.body);\n\n          case 4:\n            _context5.next = 6;\n            return makeResponse(data);\n\n          case 6:\n            response = _context5.sent;\n            return _context5.abrupt(\"return\", response.body);\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getReadableStream.apply(this, arguments);\n}\n\nfunction getIterableFromData(data) {\n  if (ArrayBuffer.isView(data)) {\n    return /*#__PURE__*/_regeneratorRuntime.mark(function oneChunk() {\n      return _regeneratorRuntime.wrap(function oneChunk$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return data.buffer;\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, oneChunk);\n    })();\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return /*#__PURE__*/_regeneratorRuntime.mark(function oneChunk() {\n      return _regeneratorRuntime.wrap(function oneChunk$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return data;\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, oneChunk);\n    })();\n  }\n\n  if (isIterator(data)) {\n    return data;\n  }\n\n  if (isIterable(data)) {\n    return data[Symbol.iterator]();\n  }\n\n  throw new Error(ERR_DATA);\n}","import _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { getFetchFunction } from './option-utils';\nexport function getLoaderContext(context, options) {\n  var previousContext = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  if (previousContext) {\n    return previousContext;\n  }\n\n  var resolvedContext = _objectSpread({\n    fetch: getFetchFunction(options, context)\n  }, context);\n\n  if (!Array.isArray(resolvedContext.loaders)) {\n    resolvedContext.loaders = null;\n  }\n\n  return resolvedContext;\n}\nexport function getLoadersFromContext(loaders, context) {\n  if (!context && loaders && !Array.isArray(loaders)) {\n    return loaders;\n  }\n\n  var candidateLoaders;\n\n  if (loaders) {\n    candidateLoaders = Array.isArray(loaders) ? loaders : [loaders];\n  }\n\n  if (context && context.loaders) {\n    var contextLoaders = Array.isArray(context.loaders) ? context.loaders : [context.loaders];\n    candidateLoaders = candidateLoaders ? [].concat(_toConsumableArray(candidateLoaders), _toConsumableArray(contextLoaders)) : contextLoaders;\n  }\n\n  return candidateLoaders && candidateLoaders.length ? candidateLoaders : null;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { normalizeLoader } from '../loader-utils/normalize-loader';\nimport { getGlobalLoaderState } from '../loader-utils/option-utils';\n\nvar getGlobalLoaderRegistry = function getGlobalLoaderRegistry() {\n  var state = getGlobalLoaderState();\n  state.loaderRegistry = state.loaderRegistry || [];\n  return state.loaderRegistry;\n};\n\nexport function registerLoaders(loaders) {\n  var loaderRegistry = getGlobalLoaderRegistry();\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n\n  var _iterator = _createForOfIteratorHelper(loaders),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var loader = _step.value;\n      var normalizedLoader = normalizeLoader(loader);\n\n      if (!loaderRegistry.find(function (registeredLoader) {\n        return normalizedLoader === registeredLoader;\n      })) {\n        loaderRegistry.unshift(normalizedLoader);\n      }\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nexport function getRegisteredLoaders() {\n  return getGlobalLoaderRegistry();\n}\nexport function _unregisterLoaders() {\n  var state = getGlobalLoaderState();\n  state.loaderRegistry = [];\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { compareArrayBuffers } from '@loaders.gl/loader-utils';\nimport { normalizeLoader } from '../loader-utils/normalize-loader';\nimport { getResourceUrlAndType } from '../utils/resource-utils';\nimport { getRegisteredLoaders } from './register-loaders';\nimport { isBlob } from '../../javascript-utils/is-type';\nvar EXT_PATTERN = /\\.([^.]+)$/;\nexport function selectLoader(_x) {\n  return _selectLoader.apply(this, arguments);\n}\n\nfunction _selectLoader() {\n  _selectLoader = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n    var loaders,\n        options,\n        context,\n        loader,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            loaders = _args.length > 1 && _args[1] !== undefined ? _args[1] : [];\n            options = _args.length > 2 ? _args[2] : undefined;\n            context = _args.length > 3 ? _args[3] : undefined;\n\n            if (validHTTPResponse(data)) {\n              _context.next = 5;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 5:\n            loader = selectLoaderSync(data, loaders, _objectSpread(_objectSpread({}, options), {}, {\n              nothrow: true\n            }), context);\n\n            if (!loader) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", loader);\n\n          case 8:\n            if (!isBlob(data)) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.next = 11;\n            return data.slice(0, 10).arrayBuffer();\n\n          case 11:\n            data = _context.sent;\n            loader = selectLoaderSync(data, loaders, options, context);\n\n          case 13:\n            if (!(!loader && !(options !== null && options !== void 0 && options.nothrow))) {\n              _context.next = 15;\n              break;\n            }\n\n            throw new Error(getNoValidLoaderMessage(data));\n\n          case 15:\n            return _context.abrupt(\"return\", loader);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _selectLoader.apply(this, arguments);\n}\n\nexport function selectLoaderSync(data) {\n  var loaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var context = arguments.length > 3 ? arguments[3] : undefined;\n\n  if (!validHTTPResponse(data)) {\n    return null;\n  }\n\n  if (loaders && !Array.isArray(loaders)) {\n    return normalizeLoader(loaders);\n  }\n\n  var candidateLoaders = [];\n\n  if (loaders) {\n    candidateLoaders = candidateLoaders.concat(loaders);\n  }\n\n  if (!(options !== null && options !== void 0 && options.ignoreRegisteredLoaders)) {\n    var _candidateLoaders;\n\n    (_candidateLoaders = candidateLoaders).push.apply(_candidateLoaders, _toConsumableArray(getRegisteredLoaders()));\n  }\n\n  normalizeLoaders(candidateLoaders);\n  var loader = selectLoaderInternal(data, candidateLoaders, options, context);\n\n  if (!loader && !(options !== null && options !== void 0 && options.nothrow)) {\n    throw new Error(getNoValidLoaderMessage(data));\n  }\n\n  return loader;\n}\n\nfunction selectLoaderInternal(data, loaders, options, context) {\n  var _getResourceUrlAndTyp = getResourceUrlAndType(data),\n      url = _getResourceUrlAndTyp.url,\n      type = _getResourceUrlAndTyp.type;\n\n  var testUrl = url || (context === null || context === void 0 ? void 0 : context.url);\n  var loader = null;\n\n  if (options !== null && options !== void 0 && options.mimeType) {\n    loader = findLoaderByMIMEType(loaders, options === null || options === void 0 ? void 0 : options.mimeType);\n  }\n\n  loader = loader || findLoaderByUrl(loaders, testUrl);\n  loader = loader || findLoaderByMIMEType(loaders, type);\n  loader = loader || findLoaderByInitialBytes(loaders, data);\n  loader = loader || findLoaderByMIMEType(loaders, options === null || options === void 0 ? void 0 : options.fallbackMimeType);\n  return loader;\n}\n\nfunction validHTTPResponse(data) {\n  if (data instanceof Response) {\n    if (data.status === 204) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getNoValidLoaderMessage(data) {\n  var _getResourceUrlAndTyp2 = getResourceUrlAndType(data),\n      url = _getResourceUrlAndTyp2.url,\n      type = _getResourceUrlAndTyp2.type;\n\n  var message = 'No valid loader found';\n\n  if (data) {\n    message += \" data: \\\"\".concat(getFirstCharacters(data), \"\\\", contentType: \\\"\").concat(type, \"\\\"\");\n  }\n\n  if (url) {\n    message += \" url: \".concat(url);\n  }\n\n  return message;\n}\n\nfunction normalizeLoaders(loaders) {\n  var _iterator = _createForOfIteratorHelper(loaders),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var loader = _step.value;\n      normalizeLoader(loader);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction findLoaderByUrl(loaders, url) {\n  var match = url && EXT_PATTERN.exec(url);\n  var extension = match && match[1];\n  return extension ? findLoaderByExtension(loaders, extension) : null;\n}\n\nfunction findLoaderByExtension(loaders, extension) {\n  extension = extension.toLowerCase();\n\n  var _iterator2 = _createForOfIteratorHelper(loaders),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var loader = _step2.value;\n\n      var _iterator3 = _createForOfIteratorHelper(loader.extensions),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var loaderExtension = _step3.value;\n\n          if (loaderExtension.toLowerCase() === extension) {\n            return loader;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return null;\n}\n\nfunction findLoaderByMIMEType(loaders, mimeType) {\n  var _iterator4 = _createForOfIteratorHelper(loaders),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var loader = _step4.value;\n\n      if (loader.mimeTypes && loader.mimeTypes.includes(mimeType)) {\n        return loader;\n      }\n\n      if (mimeType === \"application/x.\".concat(loader.id)) {\n        return loader;\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return null;\n}\n\nfunction findLoaderByInitialBytes(loaders, data) {\n  if (!data) {\n    return null;\n  }\n\n  var _iterator5 = _createForOfIteratorHelper(loaders),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var loader = _step5.value;\n\n      if (typeof data === 'string') {\n        if (testDataAgainstText(data, loader)) {\n          return loader;\n        }\n      } else if (ArrayBuffer.isView(data)) {\n        if (testDataAgainstBinary(data.buffer, data.byteOffset, loader)) {\n          return loader;\n        }\n      } else if (data instanceof ArrayBuffer) {\n        var byteOffset = 0;\n\n        if (testDataAgainstBinary(data, byteOffset, loader)) {\n          return loader;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  return null;\n}\n\nfunction testDataAgainstText(data, loader) {\n  if (loader.testText) {\n    return loader.testText(data);\n  }\n\n  var tests = Array.isArray(loader.tests) ? loader.tests : [loader.tests];\n  return tests.some(function (test) {\n    return data.startsWith(test);\n  });\n}\n\nfunction testDataAgainstBinary(data, byteOffset, loader) {\n  var tests = Array.isArray(loader.tests) ? loader.tests : [loader.tests];\n  return tests.some(function (test) {\n    return testBinary(data, byteOffset, loader, test);\n  });\n}\n\nfunction testBinary(data, byteOffset, loader, test) {\n  if (test instanceof ArrayBuffer) {\n    return compareArrayBuffers(test, data, test.byteLength);\n  }\n\n  switch (typeof test) {\n    case 'function':\n      return test(data, loader);\n\n    case 'string':\n      var magic = getMagicString(data, byteOffset, test.length);\n      return test === magic;\n\n    default:\n      return false;\n  }\n}\n\nfunction getFirstCharacters(data) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n\n  if (typeof data === 'string') {\n    return data.slice(0, length);\n  } else if (ArrayBuffer.isView(data)) {\n    return getMagicString(data.buffer, data.byteOffset, length);\n  } else if (data instanceof ArrayBuffer) {\n    var byteOffset = 0;\n    return getMagicString(data, byteOffset, length);\n  }\n\n  return '';\n}\n\nfunction getMagicString(arrayBuffer, byteOffset, length) {\n  if (arrayBuffer.byteLength < byteOffset + length) {\n    return '';\n  }\n\n  var dataView = new DataView(arrayBuffer);\n  var magic = '';\n\n  for (var i = 0; i < length; i++) {\n    magic += String.fromCharCode(dataView.getUint8(byteOffset + i));\n  }\n\n  return magic;\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { assert, validateWorkerVersion } from '@loaders.gl/worker-utils';\nimport { parseWithWorker, canParseWithWorker } from '@loaders.gl/loader-utils';\nimport { isLoaderObject } from '../loader-utils/normalize-loader';\nimport { normalizeOptions } from '../loader-utils/option-utils';\nimport { getArrayBufferOrStringFromData } from '../loader-utils/get-data';\nimport { getLoaderContext, getLoadersFromContext } from '../loader-utils/loader-context';\nimport { getResourceUrlAndType } from '../utils/resource-utils';\nimport { selectLoader } from './select-loader';\nexport function parse(_x, _x2, _x3, _x4) {\n  return _parse.apply(this, arguments);\n}\n\nfunction _parse() {\n  _parse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, loaders, options, context) {\n    var _getResourceUrlAndTyp, url, typedLoaders, candidateLoaders, loader;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            assert(!context || typeof context === 'object');\n\n            if (loaders && !Array.isArray(loaders) && !isLoaderObject(loaders)) {\n              context = undefined;\n              options = loaders;\n              loaders = undefined;\n            }\n\n            _context.next = 4;\n            return data;\n\n          case 4:\n            data = _context.sent;\n            options = options || {};\n            _getResourceUrlAndTyp = getResourceUrlAndType(data), url = _getResourceUrlAndTyp.url;\n            typedLoaders = loaders;\n            candidateLoaders = getLoadersFromContext(typedLoaders, context);\n            _context.next = 11;\n            return selectLoader(data, candidateLoaders, options);\n\n          case 11:\n            loader = _context.sent;\n\n            if (loader) {\n              _context.next = 14;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 14:\n            options = normalizeOptions(options, loader, candidateLoaders, url);\n            context = getLoaderContext({\n              url: url,\n              parse: parse,\n              loaders: candidateLoaders\n            }, options, context);\n            _context.next = 18;\n            return parseWithLoader(loader, data, options, context);\n\n          case 18:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parse.apply(this, arguments);\n}\n\nfunction parseWithLoader(_x5, _x6, _x7, _x8) {\n  return _parseWithLoader.apply(this, arguments);\n}\n\nfunction _parseWithLoader() {\n  _parseWithLoader = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(loader, data, options, context) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            validateWorkerVersion(loader);\n            _context2.next = 3;\n            return getArrayBufferOrStringFromData(data, loader, options);\n\n          case 3:\n            data = _context2.sent;\n\n            if (!(loader.parseTextSync && typeof data === 'string')) {\n              _context2.next = 7;\n              break;\n            }\n\n            options.dataType = 'text';\n            return _context2.abrupt(\"return\", loader.parseTextSync(data, options, context, loader));\n\n          case 7:\n            if (!canParseWithWorker(loader, options)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 10;\n            return parseWithWorker(loader, data, options, context, parse);\n\n          case 10:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 11:\n            if (!(loader.parseText && typeof data === 'string')) {\n              _context2.next = 15;\n              break;\n            }\n\n            _context2.next = 14;\n            return loader.parseText(data, options, context, loader);\n\n          case 14:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 15:\n            if (!loader.parse) {\n              _context2.next = 19;\n              break;\n            }\n\n            _context2.next = 18;\n            return loader.parse(data, options, context, loader);\n\n          case 18:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 19:\n            assert(!loader.parseSync);\n            throw new Error(\"\".concat(loader.id, \" loader - no parser found and worker is disabled\"));\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _parseWithLoader.apply(this, arguments);\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { isBlob } from '../../javascript-utils/is-type';\nimport { isLoaderObject } from '../loader-utils/normalize-loader';\nimport { getFetchFunction } from '../loader-utils/option-utils';\nimport { parse } from './parse';\nexport function load(_x, _x2, _x3, _x4) {\n  return _load.apply(this, arguments);\n}\n\nfunction _load() {\n  _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url, loaders, options, context) {\n    var fetch, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!Array.isArray(loaders) && !isLoaderObject(loaders)) {\n              context = undefined;\n              options = loaders;\n              loaders = undefined;\n            }\n\n            fetch = getFetchFunction(options);\n            data = url;\n\n            if (!(typeof url === 'string')) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 6;\n            return fetch(url);\n\n          case 6:\n            data = _context.sent;\n\n          case 7:\n            if (!isBlob(url)) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 10;\n            return fetch(url);\n\n          case 10:\n            data = _context.sent;\n\n          case 11:\n            _context.next = 13;\n            return parse(data, loaders, options);\n\n          case 13:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _load.apply(this, arguments);\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { load } from '@loaders.gl/core';\n\nvar Resource = /*#__PURE__*/function () {\n  function Resource(id, data, context) {\n    _classCallCheck(this, Resource);\n\n    this.id = id;\n    this.context = context;\n    this._loadCount = 0;\n    this._subscribers = new Set();\n    this.setData(data);\n  }\n\n  _createClass(Resource, [{\n    key: \"subscribe\",\n    value: function subscribe(consumer) {\n      this._subscribers.add(consumer);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(consumer) {\n      this._subscribers.delete(consumer);\n    }\n  }, {\n    key: \"inUse\",\n    value: function inUse() {\n      return this._subscribers.size > 0;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {}\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _this = this;\n\n      return this.isLoaded ? this._error ? Promise.reject(this._error) : this._content : this._loader.then(function () {\n        return _this.getData();\n      });\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data, forceUpdate) {\n      var _this2 = this;\n\n      if (data === this._data && !forceUpdate) {\n        return;\n      }\n\n      this._data = data;\n      var loadCount = ++this._loadCount;\n      var loader = data;\n\n      if (typeof data === 'string') {\n        loader = load(data);\n      }\n\n      if (loader instanceof Promise) {\n        this.isLoaded = false;\n        this._loader = loader.then(function (result) {\n          if (_this2._loadCount === loadCount) {\n            _this2.isLoaded = true;\n            _this2._error = null;\n            _this2._content = result;\n          }\n        }).catch(function (error) {\n          if (_this2._loadCount === loadCount) {\n            _this2.isLoaded = true;\n            _this2._error = error || true;\n          }\n        });\n      } else {\n        this.isLoaded = true;\n        this._error = null;\n        this._content = data;\n      }\n\n      var _iterator = _createForOfIteratorHelper(this._subscribers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var subscriber = _step.value;\n          subscriber.onChange(this.getData());\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }]);\n\n  return Resource;\n}();\n\nexport { Resource as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Resource from './resource';\n\nvar ResourceManager = /*#__PURE__*/function () {\n  function ResourceManager(_ref) {\n    var gl = _ref.gl,\n        protocol = _ref.protocol;\n\n    _classCallCheck(this, ResourceManager);\n\n    this.protocol = protocol || 'resource://';\n    this._context = {\n      gl: gl,\n      resourceManager: this\n    };\n    this._resources = {};\n    this._consumers = {};\n    this._pruneRequest = null;\n  }\n\n  _createClass(ResourceManager, [{\n    key: \"contains\",\n    value: function contains(resourceId) {\n      if (resourceId.startsWith(this.protocol)) {\n        return true;\n      }\n\n      return resourceId in this._resources;\n    }\n  }, {\n    key: \"add\",\n    value: function add(_ref2) {\n      var resourceId = _ref2.resourceId,\n          data = _ref2.data,\n          _ref2$forceUpdate = _ref2.forceUpdate,\n          forceUpdate = _ref2$forceUpdate === void 0 ? false : _ref2$forceUpdate,\n          _ref2$persistent = _ref2.persistent,\n          persistent = _ref2$persistent === void 0 ? true : _ref2$persistent;\n      var res = this._resources[resourceId];\n\n      if (res) {\n        res.setData(data, forceUpdate);\n      } else {\n        res = new Resource(resourceId, data, this._context);\n        this._resources[resourceId] = res;\n      }\n\n      res.persistent = persistent;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(resourceId) {\n      var res = this._resources[resourceId];\n\n      if (res) {\n        res.delete();\n        delete this._resources[resourceId];\n      }\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(_ref3) {\n      var consumerId = _ref3.consumerId;\n      var consumer = this._consumers[consumerId];\n\n      if (consumer) {\n        for (var requestId in consumer) {\n          var request = consumer[requestId];\n\n          if (request.resource) {\n            request.resource.unsubscribe(request);\n          }\n        }\n\n        delete this._consumers[consumerId];\n        this.prune();\n      }\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(_ref4) {\n      var resourceId = _ref4.resourceId,\n          onChange = _ref4.onChange,\n          consumerId = _ref4.consumerId,\n          _ref4$requestId = _ref4.requestId,\n          requestId = _ref4$requestId === void 0 ? 'default' : _ref4$requestId;\n      var resources = this._resources,\n          protocol = this.protocol;\n\n      if (resourceId.startsWith(protocol)) {\n        resourceId = resourceId.replace(protocol, '');\n\n        if (!resources[resourceId]) {\n          this.add({\n            resourceId: resourceId,\n            data: null,\n            persistent: false\n          });\n        }\n      }\n\n      var res = resources[resourceId];\n\n      this._track(consumerId, requestId, res, onChange);\n\n      if (res) {\n        return res.getData();\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"prune\",\n    value: function prune() {\n      var _this = this;\n\n      if (!this._pruneRequest) {\n        this._pruneRequest = setTimeout(function () {\n          return _this._prune();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      for (var key in this._resources) {\n        this._resources[key].delete();\n      }\n    }\n  }, {\n    key: \"_track\",\n    value: function _track(consumerId, requestId, resource, onChange) {\n      var consumers = this._consumers;\n      var consumer = consumers[consumerId] = consumers[consumerId] || {};\n      var request = consumer[requestId] || {};\n\n      if (request.resource) {\n        request.resource.unsubscribe(request);\n        request.resource = null;\n        this.prune();\n      }\n\n      if (resource) {\n        consumer[requestId] = request;\n        request.onChange = onChange;\n        request.resource = resource;\n        resource.subscribe(request);\n      }\n    }\n  }, {\n    key: \"_prune\",\n    value: function _prune() {\n      this._pruneRequest = null;\n\n      for (var _i = 0, _Object$keys = Object.keys(this._resources); _i < _Object$keys.length; _i++) {\n        var key = _Object$keys[_i];\n        var res = this._resources[key];\n\n        if (!res.persistent && !res.inUse()) {\n          res.delete();\n          delete this._resources[key];\n        }\n      }\n    }\n  }]);\n\n  return ResourceManager;\n}();\n\nexport { ResourceManager as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var TypedArrayManager = /*#__PURE__*/function () {\n  function TypedArrayManager(props) {\n    _classCallCheck(this, TypedArrayManager);\n\n    this._pool = [];\n    this.props = {\n      overAlloc: 2,\n      poolSize: 100\n    };\n    this.setProps(props);\n  }\n\n  _createClass(TypedArrayManager, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      Object.assign(this.props, props);\n    }\n  }, {\n    key: \"allocate\",\n    value: function allocate(typedArray, count, _ref) {\n      var _ref$size = _ref.size,\n          size = _ref$size === void 0 ? 1 : _ref$size,\n          type = _ref.type,\n          _ref$padding = _ref.padding,\n          padding = _ref$padding === void 0 ? 0 : _ref$padding,\n          _ref$copy = _ref.copy,\n          copy = _ref$copy === void 0 ? false : _ref$copy,\n          _ref$initialize = _ref.initialize,\n          initialize = _ref$initialize === void 0 ? false : _ref$initialize,\n          maxCount = _ref.maxCount;\n      var Type = type || typedArray && typedArray.constructor || Float32Array;\n      var newSize = count * size + padding;\n\n      if (ArrayBuffer.isView(typedArray)) {\n        if (newSize <= typedArray.length) {\n          return typedArray;\n        }\n\n        if (newSize * typedArray.BYTES_PER_ELEMENT <= typedArray.buffer.byteLength) {\n          return new Type(typedArray.buffer, 0, newSize);\n        }\n      }\n\n      var maxSize;\n\n      if (maxCount) {\n        maxSize = maxCount * size + padding;\n      }\n\n      var newArray = this._allocate(Type, newSize, initialize, maxSize);\n\n      if (typedArray && copy) {\n        newArray.set(typedArray);\n      } else if (!initialize) {\n        newArray.fill(0, 0, 4);\n      }\n\n      this._release(typedArray);\n\n      return newArray;\n    }\n  }, {\n    key: \"release\",\n    value: function release(typedArray) {\n      this._release(typedArray);\n    }\n  }, {\n    key: \"_allocate\",\n    value: function _allocate(Type, size, initialize, maxSize) {\n      var sizeToAllocate = Math.max(Math.ceil(size * this.props.overAlloc), 1);\n\n      if (sizeToAllocate > maxSize) {\n        sizeToAllocate = maxSize;\n      }\n\n      var pool = this._pool;\n      var byteLength = Type.BYTES_PER_ELEMENT * sizeToAllocate;\n      var i = pool.findIndex(function (b) {\n        return b.byteLength >= byteLength;\n      });\n\n      if (i >= 0) {\n        var array = new Type(pool.splice(i, 1)[0], 0, sizeToAllocate);\n\n        if (initialize) {\n          array.fill(0);\n        }\n\n        return array;\n      }\n\n      return new Type(sizeToAllocate);\n    }\n  }, {\n    key: \"_release\",\n    value: function _release(typedArray) {\n      if (!ArrayBuffer.isView(typedArray)) {\n        return;\n      }\n\n      var pool = this._pool;\n      var buffer = typedArray.buffer;\n      var byteLength = buffer.byteLength;\n      var i = pool.findIndex(function (b) {\n        return b.byteLength >= byteLength;\n      });\n\n      if (i < 0) {\n        pool.push(buffer);\n      } else if (i > 0 || pool.length < this.props.poolSize) {\n        pool.splice(i, 0, buffer);\n      }\n\n      if (pool.length > this.props.poolSize) {\n        pool.shift();\n      }\n    }\n  }]);\n\n  return TypedArrayManager;\n}();\nexport default new TypedArrayManager();","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _construct from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/construct\";\nimport _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport assert from './assert';\nvar RADIANS_TO_DEGREES = 1 / Math.PI * 180;\nvar DEGREES_TO_RADIANS = 1 / 180 * Math.PI;\nvar config = {};\nconfig.EPSILON = 1e-12;\nconfig.debug = false;\nconfig.precision = 4;\nconfig.printTypes = false;\nconfig.printDegrees = false;\nconfig.printRowMajor = true;\nexport { config };\nexport function configure() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  for (var key in options) {\n    assert(key in config);\n    config[key] = options[key];\n  }\n\n  return config;\n}\n\nfunction round(value) {\n  return Math.round(value / config.EPSILON) * config.EPSILON;\n}\n\nexport function formatValue(value) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? config.precision || 4 : _ref$precision;\n\n  value = round(value);\n  return \"\".concat(parseFloat(value.toPrecision(precision)));\n}\nexport function isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value) && !(value instanceof DataView);\n}\n\nfunction duplicateArray(array) {\n  return array.clone ? array.clone() : new Array(array.length);\n}\n\nexport function clone(array) {\n  return array.clone ? array.clone() : _construct(Array, _toConsumableArray(array));\n}\n\nfunction map(value, func, result) {\n  if (isArray(value)) {\n    result = result || duplicateArray(value);\n\n    for (var i = 0; i < result.length && i < value.length; ++i) {\n      result[i] = func(value[i], i, result);\n    }\n\n    return result;\n  }\n\n  return func(value);\n}\n\nexport function toRadians(degrees) {\n  return radians(degrees);\n}\nexport function toDegrees(radians) {\n  return degrees(radians);\n}\nexport function radians(degrees, result) {\n  return map(degrees, function (degrees) {\n    return degrees * DEGREES_TO_RADIANS;\n  }, result);\n}\nexport function degrees(radians, result) {\n  return map(radians, function (radians) {\n    return radians * RADIANS_TO_DEGREES;\n  }, result);\n}\nexport function sin(radians) {\n  return map(radians, function (angle) {\n    return Math.sin(angle);\n  });\n}\nexport function cos(radians) {\n  return map(radians, function (angle) {\n    return Math.cos(angle);\n  });\n}\nexport function tan(radians) {\n  return map(radians, function (angle) {\n    return Math.tan(angle);\n  });\n}\nexport function asin(radians) {\n  return map(radians, function (angle) {\n    return Math.asin(angle);\n  });\n}\nexport function acos(radians) {\n  return map(radians, function (angle) {\n    return Math.acos(angle);\n  });\n}\nexport function atan(radians) {\n  return map(radians, function (angle) {\n    return Math.atan(angle);\n  });\n}\nexport function clamp(value, min, max) {\n  return map(value, function (value) {\n    return Math.max(min, Math.min(max, value));\n  });\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}\nexport function equals(a, b, epsilon) {\n  var oldEpsilon = config.EPSILON;\n\n  if (epsilon) {\n    config.EPSILON = epsilon;\n  }\n\n  try {\n    if (a === b) {\n      return true;\n    }\n\n    if (isArray(a) && isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n\n      for (var i = 0; i < a.length; ++i) {\n        if (!equals(a[i], b[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    if (a && a.equals) {\n      return a.equals(b);\n    }\n\n    if (b && b.equals) {\n      return b.equals(a);\n    }\n\n    if (Number.isFinite(a) && Number.isFinite(b)) {\n      return Math.abs(a - b) <= config.EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n    }\n\n    return false;\n  } finally {\n    config.EPSILON = oldEpsilon;\n  }\n}\nexport function exactEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a && typeof a === 'object' && b && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    if (a.exactEquals) {\n      return a.exactEquals(b);\n    }\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!exactEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\nexport function withEpsilon(EPSILON, func) {\n  var oldPrecision = config.EPSILON;\n  config.EPSILON = EPSILON;\n  var value;\n\n  try {\n    value = func();\n  } finally {\n    config.EPSILON = oldPrecision;\n  }\n\n  return value;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(\"math.gl assertion \".concat(message));\n  }\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nimport { config, formatValue, equals as _equals, isArray } from '../../lib/common';\nimport assert from '../../lib/assert';\n\nvar MathArray = /*#__PURE__*/function (_extendableBuiltin2) {\n  _inherits(MathArray, _extendableBuiltin2);\n\n  var _super = _createSuper(MathArray);\n\n  function MathArray() {\n    _classCallCheck(this, MathArray);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MathArray, [{\n    key: \"ELEMENTS\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor().copy(this);\n    }\n  }, {\n    key: \"from\",\n    value: function from(arrayOrObject) {\n      return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n    }\n  }, {\n    key: \"fromArray\",\n    value: function fromArray(array) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = array[i + offset];\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"to\",\n    value: function to(arrayOrObject) {\n      if (arrayOrObject === this) {\n        return this;\n      }\n\n      return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n    }\n  }, {\n    key: \"toTarget\",\n    value: function toTarget(target) {\n      return target ? this.to(target) : this;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        array[offset + i] = this[i];\n      }\n\n      return array;\n    }\n  }, {\n    key: \"toFloat32Array\",\n    value: function toFloat32Array() {\n      return new Float32Array(this);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.formatString(config);\n    }\n  }, {\n    key: \"formatString\",\n    value: function formatString(opts) {\n      var string = '';\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n      }\n\n      return \"\".concat(opts.printTypes ? this.constructor.name : '', \"[\").concat(string, \"]\");\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(array) {\n      if (!array || this.length !== array.length) {\n        return false;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        if (!_equals(this[i], array[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"exactEquals\",\n    value: function exactEquals(array) {\n      if (!array || this.length !== array.length) {\n        return false;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        if (this[i] !== array[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = -this[i];\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lerp\",\n    value: function lerp(a, b, t) {\n      if (t === undefined) {\n        t = b;\n        b = a;\n        a = this;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        var ai = a[i];\n        this[i] = ai + t * (b[i] - ai);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"min\",\n    value: function min(vector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(vector[i], this[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"max\",\n    value: function max(vector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.max(vector[i], this[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"clamp\",\n    value: function clamp(minVector, maxVector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, vectors = new Array(_len), _key = 0; _key < _len; _key++) {\n        vectors[_key] = arguments[_key];\n      }\n\n      for (var _i = 0, _vectors = vectors; _i < _vectors.length; _i++) {\n        var vector = _vectors[_i];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] += vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract() {\n      for (var _len2 = arguments.length, vectors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        vectors[_key2] = arguments[_key2];\n      }\n\n      for (var _i2 = 0, _vectors2 = vectors; _i2 < _vectors2.length; _i2++) {\n        var vector = _vectors2[_i2];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] -= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(_scale) {\n      if (Array.isArray(_scale)) {\n        return this.multiply(_scale);\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= _scale;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"sub\",\n    value: function sub(a) {\n      return this.subtract(a);\n    }\n  }, {\n    key: \"setScalar\",\n    value: function setScalar(a) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = a;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"addScalar\",\n    value: function addScalar(a) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += a;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"subScalar\",\n    value: function subScalar(a) {\n      return this.addScalar(-a);\n    }\n  }, {\n    key: \"multiplyScalar\",\n    value: function multiplyScalar(scalar) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= scalar;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"divideScalar\",\n    value: function divideScalar(a) {\n      return this.scale(1 / a);\n    }\n  }, {\n    key: \"clampScalar\",\n    value: function clampScalar(min, max) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(Math.max(this[i], min), max);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"multiplyByScalar\",\n    value: function multiplyByScalar(scalar) {\n      return this.scale(scalar);\n    }\n  }, {\n    key: \"elements\",\n    get: function get() {\n      return this;\n    }\n  }, {\n    key: \"check\",\n    value: function check() {\n      if (config.debug && !this.validate()) {\n        throw new Error(\"math.gl: \".concat(this.constructor.name, \" some fields set to invalid numbers'\"));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var valid = this.length === this.ELEMENTS;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        valid = valid && Number.isFinite(this[i]);\n      }\n\n      return valid;\n    }\n  }]);\n\n  return MathArray;\n}(_extendableBuiltin(Array));\n\nexport { MathArray as default };","import { config } from './common';\nexport function validateVector(v, length) {\n  if (v.length !== length) {\n    return false;\n  }\n\n  for (var i = 0; i < v.length; ++i) {\n    if (!Number.isFinite(v[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport function checkNumber(value) {\n  if (!Number.isFinite(value)) {\n    throw new Error(\"Invalid number \".concat(value));\n  }\n\n  return value;\n}\nexport function checkVector(v, length) {\n  var callerName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  if (config.debug && !validateVector(v, length)) {\n    throw new Error(\"math.gl: \".concat(callerName, \" some fields set to invalid numbers'\"));\n  }\n\n  return v;\n}\nvar map = {};\nexport function deprecated(method, version) {\n  if (!map[method]) {\n    map[method] = true;\n    console.warn(\"\".concat(method, \" has been removed in version \").concat(version, \", see upgrade guide for more information\"));\n  }\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport MathArray from './math-array';\nimport { checkNumber } from '../../lib/validators';\nimport assert from '../../lib/assert';\n\nvar Vector = /*#__PURE__*/function (_MathArray) {\n  _inherits(Vector, _MathArray);\n\n  var _super = _createSuper(Vector);\n\n  function Vector() {\n    _classCallCheck(this, Vector);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Vector, [{\n    key: \"ELEMENTS\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(vector) {\n      assert(false);\n      return this;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this[0];\n    },\n    set: function set(value) {\n      this[0] = checkNumber(value);\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(value) {\n      this[1] = checkNumber(value);\n    }\n  }, {\n    key: \"len\",\n    value: function len() {\n      return Math.sqrt(this.lengthSquared());\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude() {\n      return this.len();\n    }\n  }, {\n    key: \"lengthSquared\",\n    value: function lengthSquared() {\n      var length = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        length += this[i] * this[i];\n      }\n\n      return length;\n    }\n  }, {\n    key: \"magnitudeSquared\",\n    value: function magnitudeSquared() {\n      return this.lengthSquared();\n    }\n  }, {\n    key: \"distance\",\n    value: function distance(mathArray) {\n      return Math.sqrt(this.distanceSquared(mathArray));\n    }\n  }, {\n    key: \"distanceSquared\",\n    value: function distanceSquared(mathArray) {\n      var length = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        var dist = this[i] - mathArray[i];\n        length += dist * dist;\n      }\n\n      return checkNumber(length);\n    }\n  }, {\n    key: \"dot\",\n    value: function dot(mathArray) {\n      var product = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        product += this[i] * mathArray[i];\n      }\n\n      return checkNumber(product);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var length = this.magnitude();\n\n      if (length !== 0) {\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] /= length;\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply() {\n      for (var _len = arguments.length, vectors = new Array(_len), _key = 0; _key < _len; _key++) {\n        vectors[_key] = arguments[_key];\n      }\n\n      for (var _i = 0, _vectors = vectors; _i < _vectors.length; _i++) {\n        var vector = _vectors[_i];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] *= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"divide\",\n    value: function divide() {\n      for (var _len2 = arguments.length, vectors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        vectors[_key2] = arguments[_key2];\n      }\n\n      for (var _i2 = 0, _vectors2 = vectors; _i2 < _vectors2.length; _i2++) {\n        var vector = _vectors2[_i2];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] /= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lengthSq\",\n    value: function lengthSq() {\n      return this.lengthSquared();\n    }\n  }, {\n    key: \"distanceTo\",\n    value: function distanceTo(vector) {\n      return this.distance(vector);\n    }\n  }, {\n    key: \"distanceToSquared\",\n    value: function distanceToSquared(vector) {\n      return this.distanceSquared(vector);\n    }\n  }, {\n    key: \"getComponent\",\n    value: function getComponent(i) {\n      assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n      return checkNumber(this[i]);\n    }\n  }, {\n    key: \"setComponent\",\n    value: function setComponent(i, value) {\n      assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n      this[i] = value;\n      return this.check();\n    }\n  }, {\n    key: \"addVectors\",\n    value: function addVectors(a, b) {\n      return this.copy(a).add(b);\n    }\n  }, {\n    key: \"subVectors\",\n    value: function subVectors(a, b) {\n      return this.copy(a).subtract(b);\n    }\n  }, {\n    key: \"multiplyVectors\",\n    value: function multiplyVectors(a, b) {\n      return this.copy(a).multiply(b);\n    }\n  }, {\n    key: \"addScaledVector\",\n    value: function addScaledVector(a, b) {\n      return this.add(new this.constructor(a).multiplyScalar(b));\n    }\n  }]);\n\n  return Vector;\n}(MathArray);\n\nexport { Vector as default };","import \"core-js/modules/es.math.hypot.js\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export function vec2_transformMat4AsVector(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  var w = m[3] * x + m[7] * y || 1.0;\n  out[0] = (m[0] * x + m[4] * y) / w;\n  out[1] = (m[1] * x + m[5] * y) / w;\n  return out;\n}\nexport function vec3_transformMat4AsVector(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n  return out;\n}\nexport function vec3_transformMat2(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  return out;\n}\nexport function vec4_transformMat2(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\nexport function vec4_transformMat3(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  out[0] = m[0] * x + m[3] * y + m[6] * z;\n  out[1] = m[1] * x + m[4] * y + m[7] * z;\n  out[2] = m[2] * x + m[5] * y + m[8] * z;\n  out[3] = a[3];\n  return out;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Vector from './base/vector';\nimport { config, isArray } from '../lib/common';\nimport { checkNumber } from '../lib/validators';\nimport * as vec3 from 'gl-matrix/vec3';\nimport { vec3_transformMat2, vec3_transformMat4AsVector } from '../lib/gl-matrix-extras';\nvar ORIGIN = [0, 0, 0];\nvar constants = {};\n\nvar Vector3 = /*#__PURE__*/function (_Vector) {\n  _inherits(Vector3, _Vector);\n\n  var _super = _createSuper(Vector3);\n\n  function Vector3() {\n    var _this;\n\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    _classCallCheck(this, Vector3);\n\n    _this = _super.call(this, -0, -0, -0);\n\n    if (arguments.length === 1 && isArray(x)) {\n      _this.copy(x);\n    } else {\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n      }\n\n      _this[0] = x;\n      _this[1] = y;\n      _this[2] = z;\n    }\n\n    return _this;\n  }\n\n  _createClass(Vector3, [{\n    key: \"set\",\n    value: function set(x, y, z) {\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n      return this.check();\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(array) {\n      this[0] = array[0];\n      this[1] = array[1];\n      this[2] = array[2];\n      return this.check();\n    }\n  }, {\n    key: \"fromObject\",\n    value: function fromObject(object) {\n      if (config.debug) {\n        checkNumber(object.x);\n        checkNumber(object.y);\n        checkNumber(object.z);\n      }\n\n      this[0] = object.x;\n      this[1] = object.y;\n      this[2] = object.z;\n      return this.check();\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject(object) {\n      object.x = this[0];\n      object.y = this[1];\n      object.z = this[2];\n      return object;\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      return 3;\n    }\n  }, {\n    key: \"z\",\n    get: function get() {\n      return this[2];\n    },\n    set: function set(value) {\n      this[2] = checkNumber(value);\n    }\n  }, {\n    key: \"angle\",\n    value: function angle(vector) {\n      return vec3.angle(this, vector);\n    }\n  }, {\n    key: \"cross\",\n    value: function cross(vector) {\n      vec3.cross(this, this, vector);\n      return this.check();\n    }\n  }, {\n    key: \"rotateX\",\n    value: function rotateX(_ref) {\n      var radians = _ref.radians,\n          _ref$origin = _ref.origin,\n          origin = _ref$origin === void 0 ? ORIGIN : _ref$origin;\n      vec3.rotateX(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateY\",\n    value: function rotateY(_ref2) {\n      var radians = _ref2.radians,\n          _ref2$origin = _ref2.origin,\n          origin = _ref2$origin === void 0 ? ORIGIN : _ref2$origin;\n      vec3.rotateY(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateZ\",\n    value: function rotateZ(_ref3) {\n      var radians = _ref3.radians,\n          _ref3$origin = _ref3.origin,\n          origin = _ref3$origin === void 0 ? ORIGIN : _ref3$origin;\n      vec3.rotateZ(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"transform\",\n    value: function transform(matrix4) {\n      return this.transformAsPoint(matrix4);\n    }\n  }, {\n    key: \"transformAsPoint\",\n    value: function transformAsPoint(matrix4) {\n      vec3.transformMat4(this, this, matrix4);\n      return this.check();\n    }\n  }, {\n    key: \"transformAsVector\",\n    value: function transformAsVector(matrix4) {\n      vec3_transformMat4AsVector(this, this, matrix4);\n      return this.check();\n    }\n  }, {\n    key: \"transformByMatrix3\",\n    value: function transformByMatrix3(matrix3) {\n      vec3.transformMat3(this, this, matrix3);\n      return this.check();\n    }\n  }, {\n    key: \"transformByMatrix2\",\n    value: function transformByMatrix2(matrix2) {\n      vec3_transformMat2(this, this, matrix2);\n      return this.check();\n    }\n  }, {\n    key: \"transformByQuaternion\",\n    value: function transformByQuaternion(quaternion) {\n      vec3.transformQuat(this, this, quaternion);\n      return this.check();\n    }\n  }], [{\n    key: \"ZERO\",\n    get: function get() {\n      return constants.ZERO = constants.ZERO || Object.freeze(new Vector3(0, 0, 0, 0));\n    }\n  }]);\n\n  return Vector3;\n}(Vector);\n\nexport { Vector3 as default };","import typedArrayManager from './typed-array-manager';\nimport { Vector3 } from 'math.gl';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function getCameraPosition(viewMatrixInverse) {\n  return [viewMatrixInverse[12], viewMatrixInverse[13], viewMatrixInverse[14]];\n}\nexport function getFrustumPlanes(viewProjectionMatrix) {\n  var planes = {};\n  planes.left = getFrustumPlane(viewProjectionMatrix[3] + viewProjectionMatrix[0], viewProjectionMatrix[7] + viewProjectionMatrix[4], viewProjectionMatrix[11] + viewProjectionMatrix[8], viewProjectionMatrix[15] + viewProjectionMatrix[12]);\n  planes.right = getFrustumPlane(viewProjectionMatrix[3] - viewProjectionMatrix[0], viewProjectionMatrix[7] - viewProjectionMatrix[4], viewProjectionMatrix[11] - viewProjectionMatrix[8], viewProjectionMatrix[15] - viewProjectionMatrix[12]);\n  planes.bottom = getFrustumPlane(viewProjectionMatrix[3] + viewProjectionMatrix[1], viewProjectionMatrix[7] + viewProjectionMatrix[5], viewProjectionMatrix[11] + viewProjectionMatrix[9], viewProjectionMatrix[15] + viewProjectionMatrix[13]);\n  planes.top = getFrustumPlane(viewProjectionMatrix[3] - viewProjectionMatrix[1], viewProjectionMatrix[7] - viewProjectionMatrix[5], viewProjectionMatrix[11] - viewProjectionMatrix[9], viewProjectionMatrix[15] - viewProjectionMatrix[13]);\n  planes.near = getFrustumPlane(viewProjectionMatrix[3] + viewProjectionMatrix[2], viewProjectionMatrix[7] + viewProjectionMatrix[6], viewProjectionMatrix[11] + viewProjectionMatrix[10], viewProjectionMatrix[15] + viewProjectionMatrix[14]);\n  planes.far = getFrustumPlane(viewProjectionMatrix[3] - viewProjectionMatrix[2], viewProjectionMatrix[7] - viewProjectionMatrix[6], viewProjectionMatrix[11] - viewProjectionMatrix[10], viewProjectionMatrix[15] - viewProjectionMatrix[14]);\n  return planes;\n}\nvar scratchVector = new Vector3();\n\nfunction getFrustumPlane(a, b, c, d) {\n  scratchVector.set(a, b, c);\n  var L = scratchVector.len();\n  return {\n    distance: d / L,\n    normal: new Vector3(-a / L, -b / L, -c / L)\n  };\n}\n\nexport function fp64LowPart(x) {\n  return x - Math.fround(x);\n}\nvar scratchArray;\nexport function toDoublePrecisionArray(typedArray, _ref) {\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 1 : _ref$size,\n      _ref$startIndex = _ref.startIndex,\n      startIndex = _ref$startIndex === void 0 ? 0 : _ref$startIndex,\n      endIndex = _ref.endIndex;\n\n  if (!Number.isFinite(endIndex)) {\n    endIndex = typedArray.length;\n  }\n\n  var count = (endIndex - startIndex) / size;\n  scratchArray = typedArrayManager.allocate(scratchArray, count, {\n    type: Float32Array,\n    size: size * 2\n  });\n  var sourceIndex = startIndex;\n  var targetIndex = 0;\n\n  while (sourceIndex < endIndex) {\n    for (var j = 0; j < size; j++) {\n      var value = typedArray[sourceIndex++];\n      scratchArray[targetIndex + j] = value;\n      scratchArray[targetIndex + j + size] = fp64LowPart(value);\n    }\n\n    targetIndex += size * 2;\n  }\n\n  return scratchArray.subarray(0, count * size * 2);\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport MathArray from './math-array';\nimport { checkNumber } from '../../lib/validators';\nimport { config } from '../../lib/common';\nimport assert from '../../lib/assert';\n\nvar Matrix = /*#__PURE__*/function (_MathArray) {\n  _inherits(Matrix, _MathArray);\n\n  var _super = _createSuper(Matrix);\n\n  function Matrix() {\n    _classCallCheck(this, Matrix);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Matrix, [{\n    key: \"ELEMENTS\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"RANK\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var string = '[';\n\n      if (config.printRowMajor) {\n        string += 'row-major:';\n\n        for (var row = 0; row < this.RANK; ++row) {\n          for (var col = 0; col < this.RANK; ++col) {\n            string += \" \".concat(this[col * this.RANK + row]);\n          }\n        }\n      } else {\n        string += 'column-major:';\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          string += \" \".concat(this[i]);\n        }\n      }\n\n      string += ']';\n      return string;\n    }\n  }, {\n    key: \"getElementIndex\",\n    value: function getElementIndex(row, col) {\n      return col * this.RANK + row;\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(row, col) {\n      return this[col * this.RANK + row];\n    }\n  }, {\n    key: \"setElement\",\n    value: function setElement(row, col, value) {\n      this[col * this.RANK + row] = checkNumber(value);\n      return this;\n    }\n  }, {\n    key: \"getColumn\",\n    value: function getColumn(columnIndex) {\n      var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Array(this.RANK).fill(-0);\n      var firstIndex = columnIndex * this.RANK;\n\n      for (var i = 0; i < this.RANK; ++i) {\n        result[i] = this[firstIndex + i];\n      }\n\n      return result;\n    }\n  }, {\n    key: \"setColumn\",\n    value: function setColumn(columnIndex, columnVector) {\n      var firstIndex = columnIndex * this.RANK;\n\n      for (var i = 0; i < this.RANK; ++i) {\n        this[firstIndex + i] = columnVector[i];\n      }\n\n      return this;\n    }\n  }]);\n\n  return Matrix;\n}(MathArray);\n\nexport { Matrix as default };","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { checkVector, deprecated } from '../lib/validators';\nimport Matrix from './base/matrix';\nimport { vec2_transformMat4AsVector, vec3_transformMat4AsVector } from '../lib/gl-matrix-extras';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport * as vec4 from 'gl-matrix/vec4';\nvar IDENTITY = Object.freeze([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nvar ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\nvar INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL0ROW3: 3,\n  COL1ROW0: 4,\n  COL1ROW1: 5,\n  COL1ROW2: 6,\n  COL1ROW3: 7,\n  COL2ROW0: 8,\n  COL2ROW1: 9,\n  COL2ROW2: 10,\n  COL2ROW3: 11,\n  COL3ROW0: 12,\n  COL3ROW1: 13,\n  COL3ROW2: 14,\n  COL3ROW3: 15\n});\nvar constants = {};\n\nvar Matrix4 = /*#__PURE__*/function (_Matrix) {\n  _inherits(Matrix4, _Matrix);\n\n  var _super = _createSuper(Matrix4);\n\n  function Matrix4(array) {\n    var _this;\n\n    _classCallCheck(this, Matrix4);\n\n    _this = _super.call(this, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0);\n\n    if (arguments.length === 1 && Array.isArray(array)) {\n      _this.copy(array);\n    } else {\n      _this.identity();\n    }\n\n    return _this;\n  }\n\n  _createClass(Matrix4, [{\n    key: \"INDICES\",\n    get: function get() {\n      return INDICES;\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      return 16;\n    }\n  }, {\n    key: \"RANK\",\n    get: function get() {\n      return 4;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(array) {\n      this[0] = array[0];\n      this[1] = array[1];\n      this[2] = array[2];\n      this[3] = array[3];\n      this[4] = array[4];\n      this[5] = array[5];\n      this[6] = array[6];\n      this[7] = array[7];\n      this[8] = array[8];\n      this[9] = array[9];\n      this[10] = array[10];\n      this[11] = array[11];\n      this[12] = array[12];\n      this[13] = array[13];\n      this[14] = array[14];\n      this[15] = array[15];\n      return this.check();\n    }\n  }, {\n    key: \"set\",\n    value: function set(m00, m10, m20, m30, m01, m11, m21, m31, m02, m12, m22, m32, m03, m13, m23, m33) {\n      this[0] = m00;\n      this[1] = m10;\n      this[2] = m20;\n      this[3] = m30;\n      this[4] = m01;\n      this[5] = m11;\n      this[6] = m21;\n      this[7] = m31;\n      this[8] = m02;\n      this[9] = m12;\n      this[10] = m22;\n      this[11] = m32;\n      this[12] = m03;\n      this[13] = m13;\n      this[14] = m23;\n      this[15] = m33;\n      return this.check();\n    }\n  }, {\n    key: \"setRowMajor\",\n    value: function setRowMajor(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n      this[0] = m00;\n      this[1] = m10;\n      this[2] = m20;\n      this[3] = m30;\n      this[4] = m01;\n      this[5] = m11;\n      this[6] = m21;\n      this[7] = m31;\n      this[8] = m02;\n      this[9] = m12;\n      this[10] = m22;\n      this[11] = m32;\n      this[12] = m03;\n      this[13] = m13;\n      this[14] = m23;\n      this[15] = m33;\n      return this.check();\n    }\n  }, {\n    key: \"toRowMajor\",\n    value: function toRowMajor(result) {\n      result[0] = this[0];\n      result[1] = this[4];\n      result[2] = this[8];\n      result[3] = this[12];\n      result[4] = this[1];\n      result[5] = this[5];\n      result[6] = this[9];\n      result[7] = this[13];\n      result[8] = this[2];\n      result[9] = this[6];\n      result[10] = this[10];\n      result[11] = this[14];\n      result[12] = this[3];\n      result[13] = this[7];\n      result[14] = this[11];\n      result[15] = this[15];\n      return result;\n    }\n  }, {\n    key: \"identity\",\n    value: function identity() {\n      return this.copy(IDENTITY);\n    }\n  }, {\n    key: \"fromQuaternion\",\n    value: function fromQuaternion(q) {\n      mat4.fromQuat(this, q);\n      return this.check();\n    }\n  }, {\n    key: \"frustum\",\n    value: function frustum(_ref) {\n      var left = _ref.left,\n          right = _ref.right,\n          bottom = _ref.bottom,\n          top = _ref.top,\n          near = _ref.near,\n          far = _ref.far;\n\n      if (far === Infinity) {\n        Matrix4._computeInfinitePerspectiveOffCenter(this, left, right, bottom, top, near);\n      } else {\n        mat4.frustum(this, left, right, bottom, top, near, far);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lookAt\",\n    value: function lookAt(eye, center, up) {\n      if (arguments.length === 1) {\n        var _eye = eye;\n        eye = _eye.eye;\n        center = _eye.center;\n        up = _eye.up;\n      }\n\n      center = center || [0, 0, 0];\n      up = up || [0, 1, 0];\n      mat4.lookAt(this, eye, center, up);\n      return this.check();\n    }\n  }, {\n    key: \"ortho\",\n    value: function ortho(_ref2) {\n      var left = _ref2.left,\n          right = _ref2.right,\n          bottom = _ref2.bottom,\n          top = _ref2.top,\n          _ref2$near = _ref2.near,\n          near = _ref2$near === void 0 ? 0.1 : _ref2$near,\n          _ref2$far = _ref2.far,\n          far = _ref2$far === void 0 ? 500 : _ref2$far;\n      mat4.ortho(this, left, right, bottom, top, near, far);\n      return this.check();\n    }\n  }, {\n    key: \"orthographic\",\n    value: function orthographic(_ref3) {\n      var _ref3$fovy = _ref3.fovy,\n          fovy = _ref3$fovy === void 0 ? 45 * Math.PI / 180 : _ref3$fovy,\n          _ref3$aspect = _ref3.aspect,\n          aspect = _ref3$aspect === void 0 ? 1 : _ref3$aspect,\n          _ref3$focalDistance = _ref3.focalDistance,\n          focalDistance = _ref3$focalDistance === void 0 ? 1 : _ref3$focalDistance,\n          _ref3$near = _ref3.near,\n          near = _ref3$near === void 0 ? 0.1 : _ref3$near,\n          _ref3$far = _ref3.far,\n          far = _ref3$far === void 0 ? 500 : _ref3$far;\n\n      if (fovy > Math.PI * 2) {\n        throw Error('radians');\n      }\n\n      var halfY = fovy / 2;\n      var top = focalDistance * Math.tan(halfY);\n      var right = top * aspect;\n      return new Matrix4().ortho({\n        left: -right,\n        right: right,\n        bottom: -top,\n        top: top,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"perspective\",\n    value: function perspective() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$fovy = _ref4.fovy,\n          fovy = _ref4$fovy === void 0 ? undefined : _ref4$fovy,\n          _ref4$fov = _ref4.fov,\n          fov = _ref4$fov === void 0 ? 45 * Math.PI / 180 : _ref4$fov,\n          _ref4$aspect = _ref4.aspect,\n          aspect = _ref4$aspect === void 0 ? 1 : _ref4$aspect,\n          _ref4$near = _ref4.near,\n          near = _ref4$near === void 0 ? 0.1 : _ref4$near,\n          _ref4$far = _ref4.far,\n          far = _ref4$far === void 0 ? 500 : _ref4$far;\n\n      fovy = fovy || fov;\n\n      if (fovy > Math.PI * 2) {\n        throw Error('radians');\n      }\n\n      mat4.perspective(this, fovy, aspect, near, far);\n      return this.check();\n    }\n  }, {\n    key: \"determinant\",\n    value: function determinant() {\n      return mat4.determinant(this);\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0];\n      result[0] = Math.sqrt(this[0] * this[0] + this[1] * this[1] + this[2] * this[2]);\n      result[1] = Math.sqrt(this[4] * this[4] + this[5] * this[5] + this[6] * this[6]);\n      result[2] = Math.sqrt(this[8] * this[8] + this[9] * this[9] + this[10] * this[10]);\n      return result;\n    }\n  }, {\n    key: \"getTranslation\",\n    value: function getTranslation() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0];\n      result[0] = this[12];\n      result[1] = this[13];\n      result[2] = this[14];\n      return result;\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0];\n      var scaleResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var scale = this.getScale(scaleResult || [-0, -0, -0]);\n      var inverseScale0 = 1 / scale[0];\n      var inverseScale1 = 1 / scale[1];\n      var inverseScale2 = 1 / scale[2];\n      result[0] = this[0] * inverseScale0;\n      result[1] = this[1] * inverseScale1;\n      result[2] = this[2] * inverseScale2;\n      result[3] = 0;\n      result[4] = this[4] * inverseScale0;\n      result[5] = this[5] * inverseScale1;\n      result[6] = this[6] * inverseScale2;\n      result[7] = 0;\n      result[8] = this[8] * inverseScale0;\n      result[9] = this[9] * inverseScale1;\n      result[10] = this[10] * inverseScale2;\n      result[11] = 0;\n      result[12] = 0;\n      result[13] = 0;\n      result[14] = 0;\n      result[15] = 1;\n      return result;\n    }\n  }, {\n    key: \"getRotationMatrix3\",\n    value: function getRotationMatrix3() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0, -0, -0, -0, -0, -0, -0];\n      var scaleResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var scale = this.getScale(scaleResult || [-0, -0, -0]);\n      var inverseScale0 = 1 / scale[0];\n      var inverseScale1 = 1 / scale[1];\n      var inverseScale2 = 1 / scale[2];\n      result[0] = this[0] * inverseScale0;\n      result[1] = this[1] * inverseScale1;\n      result[2] = this[2] * inverseScale2;\n      result[3] = this[4] * inverseScale0;\n      result[4] = this[5] * inverseScale1;\n      result[5] = this[6] * inverseScale2;\n      result[6] = this[8] * inverseScale0;\n      result[7] = this[9] * inverseScale1;\n      result[8] = this[10] * inverseScale2;\n      return result;\n    }\n  }, {\n    key: \"transpose\",\n    value: function transpose() {\n      mat4.transpose(this, this);\n      return this.check();\n    }\n  }, {\n    key: \"invert\",\n    value: function invert() {\n      mat4.invert(this, this);\n      return this.check();\n    }\n  }, {\n    key: \"multiplyLeft\",\n    value: function multiplyLeft(a) {\n      mat4.multiply(this, a, this);\n      return this.check();\n    }\n  }, {\n    key: \"multiplyRight\",\n    value: function multiplyRight(a) {\n      mat4.multiply(this, this, a);\n      return this.check();\n    }\n  }, {\n    key: \"rotateX\",\n    value: function rotateX(radians) {\n      mat4.rotateX(this, this, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateY\",\n    value: function rotateY(radians) {\n      mat4.rotateY(this, this, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateZ\",\n    value: function rotateZ(radians) {\n      mat4.rotateZ(this, this, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateXYZ\",\n    value: function rotateXYZ(_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 3),\n          rx = _ref6[0],\n          ry = _ref6[1],\n          rz = _ref6[2];\n\n      return this.rotateX(rx).rotateY(ry).rotateZ(rz);\n    }\n  }, {\n    key: \"rotateAxis\",\n    value: function rotateAxis(radians, axis) {\n      mat4.rotate(this, this, radians, axis);\n      return this.check();\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(factor) {\n      if (Array.isArray(factor)) {\n        mat4.scale(this, this, factor);\n      } else {\n        mat4.scale(this, this, [factor, factor, factor]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(vec) {\n      mat4.translate(this, this, vec);\n      return this.check();\n    }\n  }, {\n    key: \"transform\",\n    value: function transform(vector, result) {\n      if (vector.length === 4) {\n        result = vec4.transformMat4(result || [-0, -0, -0, -0], vector, this);\n        checkVector(result, 4);\n        return result;\n      }\n\n      return this.transformAsPoint(vector, result);\n    }\n  }, {\n    key: \"transformAsPoint\",\n    value: function transformAsPoint(vector, result) {\n      var length = vector.length;\n\n      switch (length) {\n        case 2:\n          result = vec2.transformMat4(result || [-0, -0], vector, this);\n          break;\n\n        case 3:\n          result = vec3.transformMat4(result || [-0, -0, -0], vector, this);\n          break;\n\n        default:\n          throw new Error('Illegal vector');\n      }\n\n      checkVector(result, vector.length);\n      return result;\n    }\n  }, {\n    key: \"transformAsVector\",\n    value: function transformAsVector(vector, result) {\n      switch (vector.length) {\n        case 2:\n          result = vec2_transformMat4AsVector(result || [-0, -0], vector, this);\n          break;\n\n        case 3:\n          result = vec3_transformMat4AsVector(result || [-0, -0, -0], vector, this);\n          break;\n\n        default:\n          throw new Error('Illegal vector');\n      }\n\n      checkVector(result, vector.length);\n      return result;\n    }\n  }, {\n    key: \"makeRotationX\",\n    value: function makeRotationX(radians) {\n      return this.identity().rotateX(radians);\n    }\n  }, {\n    key: \"makeTranslation\",\n    value: function makeTranslation(x, y, z) {\n      return this.identity().translate([x, y, z]);\n    }\n  }, {\n    key: \"transformPoint\",\n    value: function transformPoint(vector, result) {\n      deprecated('Matrix4.transformPoint', '3.0');\n      return this.transformAsPoint(vector, result);\n    }\n  }, {\n    key: \"transformVector\",\n    value: function transformVector(vector, result) {\n      deprecated('Matrix4.transformVector', '3.0');\n      return this.transformAsPoint(vector, result);\n    }\n  }, {\n    key: \"transformDirection\",\n    value: function transformDirection(vector, result) {\n      deprecated('Matrix4.transformDirection', '3.0');\n      return this.transformAsVector(vector, result);\n    }\n  }], [{\n    key: \"IDENTITY\",\n    get: function get() {\n      constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix4(IDENTITY));\n      return constants.IDENTITY;\n    }\n  }, {\n    key: \"ZERO\",\n    get: function get() {\n      constants.ZERO = constants.ZERO || Object.freeze(new Matrix4(ZERO));\n      return constants.ZERO;\n    }\n  }, {\n    key: \"_computeInfinitePerspectiveOffCenter\",\n    value: function _computeInfinitePerspectiveOffCenter(result, left, right, bottom, top, near) {\n      var column0Row0 = 2.0 * near / (right - left);\n      var column1Row1 = 2.0 * near / (top - bottom);\n      var column2Row0 = (right + left) / (right - left);\n      var column2Row1 = (top + bottom) / (top - bottom);\n      var column2Row2 = -1.0;\n      var column2Row3 = -1.0;\n      var column3Row2 = -2.0 * near;\n      result[0] = column0Row0;\n      result[1] = 0.0;\n      result[2] = 0.0;\n      result[3] = 0.0;\n      result[4] = 0.0;\n      result[5] = column1Row1;\n      result[6] = 0.0;\n      result[7] = 0.0;\n      result[8] = column2Row0;\n      result[9] = column2Row1;\n      result[10] = column2Row2;\n      result[11] = column2Row3;\n      result[12] = 0.0;\n      result[13] = 0.0;\n      result[14] = column3Row2;\n      result[15] = 0.0;\n      return result;\n    }\n  }]);\n\n  return Matrix4;\n}(Matrix);\n\nexport { Matrix4 as default };","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot.js\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as vec4 from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\n\nfunction ieLog2(x) {\n  return Math.log(x) * Math.LOG2E;\n}\n\nexport var log2 = Math.log2 || ieLog2;","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { createMat4, transformVector, log2 } from './math-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nexport var DEFAULT_ALTITUDE = 1.5;\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nexport function scaleToZoom(scale) {\n  return log2(scale);\n}\nexport function lngLatToWorld(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nexport function worldToLngLat(_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nexport function getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nexport function getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    highPrecision: true\n  }),\n      unitsPerMeter = _getDistanceScales.unitsPerMeter,\n      unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nexport function getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      scale = _ref7.scale,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = createMat4();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\nexport function getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$fovy = _ref8.fovy,\n      fovy = _ref8$fovy === void 0 ? altitudeToFovy(DEFAULT_ALTITUDE) : _ref8$fovy,\n      altitude = _ref8.altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n\n  if (altitude !== undefined) {\n    fovy = altitudeToFovy(altitude);\n  }\n\n  var halfFov = 0.5 * fovy * DEGREES_TO_RADIANS;\n  var focalDistance = fovyToAltitude(fovy);\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var topHalfSurfaceDistance = Math.sin(halfFov) * focalDistance / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + focalDistance;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: focalDistance,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nexport function getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      fovy = _ref9.fovy,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    fovy: fovy,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nexport function altitudeToFovy(altitude) {\n  return 2 * Math.atan(0.5 / altitude) * RADIANS_TO_DEGREES;\n}\nexport function fovyToAltitude(fovy) {\n  return 0.5 / Math.tan(0.5 * fovy * DEGREES_TO_RADIANS);\n}\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = _slicedToArray(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = _slicedToArray(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nimport { log2 } from './math-utils';\nexport default function fitBounds(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      bounds = _ref.bounds,\n      _ref$minExtent = _ref.minExtent,\n      minExtent = _ref$minExtent === void 0 ? 0 : _ref$minExtent,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 24 : _ref$maxZoom,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n\n  var _bounds = _slicedToArray(bounds, 2),\n      _bounds$ = _slicedToArray(_bounds[0], 2),\n      west = _bounds$[0],\n      south = _bounds$[1],\n      _bounds$2 = _slicedToArray(_bounds[1], 2),\n      east = _bounds$2[0],\n      north = _bounds$2[1];\n\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n\n  var viewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = Math.min(maxZoom, viewport.zoom + log2(Math.abs(Math.min(scaleX, scaleY))));\n  assert(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}","import { worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nimport { transformVector } from './math-utils';\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nexport default function getBounds(viewport) {\n  var z = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var width = viewport.width,\n      height = viewport.height,\n      unproject = viewport.unproject;\n  var unprojectOps = {\n    targetZ: z\n  };\n  var bottomLeft = unproject([0, height], unprojectOps);\n  var bottomRight = unproject([width, height], unprojectOps);\n  var topLeft;\n  var topRight;\n  var halfFov = viewport.fovy ? 0.5 * viewport.fovy * DEGREES_TO_RADIANS : Math.atan(0.5 / viewport.altitude);\n  var angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n\n  if (halfFov > angleToGround - 0.01) {\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n  var z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  var t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  var coord = vec2.lerp([], coord0, coord1, t);\n  var result = worldToLngLat(coord);\n  result[2] = targetZ;\n  return result;\n}","import _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { createMat4 } from './math-utils';\nimport { zoomToScale, pixelsToWorld, lngLatToWorld, worldToLngLat, worldToPixels, altitudeToFovy, fovyToAltitude, DEFAULT_ALTITUDE, getProjectionMatrix, getDistanceScales, getViewMatrix } from './web-mercator-utils';\nimport _fitBounds from './fit-bounds';\nimport getBounds from './get-bounds';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\n\nvar WebMercatorViewport = /*#__PURE__*/function () {\n  function WebMercatorViewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 1,\n      height: 1\n    },\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? null : _ref$altitude,\n        _ref$fovy = _ref.fovy,\n        fovy = _ref$fovy === void 0 ? null : _ref$fovy,\n        _ref$position = _ref.position,\n        position = _ref$position === void 0 ? null : _ref$position,\n        _ref$nearZMultiplier = _ref.nearZMultiplier,\n        nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n        _ref$farZMultiplier = _ref.farZMultiplier,\n        farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    width = width || 1;\n    height = height || 1;\n\n    if (fovy === null && altitude === null) {\n      altitude = DEFAULT_ALTITUDE;\n      fovy = altitudeToFovy(altitude);\n    } else if (fovy === null) {\n      fovy = altitudeToFovy(altitude);\n    } else if (altitude === null) {\n      altitude = fovyToAltitude(fovy);\n    }\n\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var distanceScales = getDistanceScales({\n      longitude: longitude,\n      latitude: latitude\n    });\n    var center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n\n    if (position) {\n      vec3.add(center, center, vec3.mul([], position, distanceScales.unitsPerMeter));\n    }\n\n    this.projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      fovy: fovy,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    this.viewMatrix = getViewMatrix({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.fovy = fovy;\n    this.center = center;\n    this.meterOffset = position || [0, 0, 0];\n    this.distanceScales = distanceScales;\n\n    this._initMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    Object.freeze(this);\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"_initMatrices\",\n    value: function _initMatrices() {\n      var width = this.width,\n          height = this.height,\n          projectionMatrix = this.projectionMatrix,\n          viewMatrix = this.viewMatrix;\n      var vpm = createMat4();\n      mat4.multiply(vpm, vpm, projectionMatrix);\n      mat4.multiply(vpm, vpm, viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      var m = createMat4();\n      mat4.scale(m, m, [width / 2, -height / 2, 1]);\n      mat4.translate(m, m, [1, -1, 0]);\n      mat4.multiply(m, m, vpm);\n      var mInverse = mat4.invert(createMat4(), m);\n\n      if (!mInverse) {\n        throw new Error('Pixel project matrix not invertible');\n      }\n\n      this.pixelProjectionMatrix = m;\n      this.pixelUnprojectionMatrix = mInverse;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          _ref3$targetZ = _ref3.targetZ,\n          targetZ = _ref3$targetZ === void 0 ? undefined : _ref3$targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _lngLatToWorld = lngLatToWorld(xyz),\n          _lngLatToWorld2 = _slicedToArray(_lngLatToWorld, 2),\n          X = _lngLatToWorld2[0],\n          Y = _lngLatToWorld2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _worldToLngLat = worldToLngLat(xyz),\n          _worldToLngLat2 = _slicedToArray(_worldToLngLat, 2),\n          X = _worldToLngLat2[0],\n          Y = _worldToLngLat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return lngLatToWorld(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return worldToLngLat(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref4) {\n      var lngLat = _ref4.lngLat,\n          pos = _ref4.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return worldToLngLat(newCenter);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref5) {\n      var lngLat = _ref5.lngLat,\n          pos = _ref5.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds(options) {\n      var corners = this.getBoundingRegion(options);\n      var west = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var east = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var south = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      var north = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      return [[west, south], [east, north]];\n    }\n  }, {\n    key: \"getBoundingRegion\",\n    value: function getBoundingRegion() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return getBounds(this, options.z || 0);\n    }\n  }]);\n\n  return WebMercatorViewport;\n}();\n\nexport { WebMercatorViewport as default };","import { worldToLngLat } from './web-mercator-utils';\nimport { mod, log2 } from './math-utils';\nvar TILE_SIZE = 512;\nexport default function normalizeViewportProps(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      longitude = _ref.longitude,\n      latitude = _ref.latitude,\n      zoom = _ref.zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n\n  var minZoom = log2(height / TILE_SIZE);\n\n  if (zoom <= minZoom) {\n    zoom = minZoom;\n    latitude = 0;\n  } else {\n    var halfHeightPixels = height / 2 / Math.pow(2, zoom);\n    var minLatitude = worldToLngLat([0, halfHeightPixels])[1];\n\n    if (latitude < minLatitude) {\n      latitude = minLatitude;\n    } else {\n      var maxLatitude = worldToLngLat([0, TILE_SIZE - halfHeightPixels])[1];\n\n      if (latitude > maxLatitude) {\n        latitude = maxLatitude;\n      }\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { lerp } from './math-utils';\nimport { scaleToZoom, zoomToScale, lngLatToWorld, worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nvar EPSILON = 0.01;\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nvar DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nexport default function flyToViewport(startProps, endProps, t) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var viewport = {};\n\n  var _getFlyToTransitionPa = getFlyToTransitionParams(startProps, endProps, opts),\n      startZoom = _getFlyToTransitionPa.startZoom,\n      startCenterXY = _getFlyToTransitionPa.startCenterXY,\n      uDelta = _getFlyToTransitionPa.uDelta,\n      w0 = _getFlyToTransitionPa.w0,\n      u1 = _getFlyToTransitionPa.u1,\n      S = _getFlyToTransitionPa.S,\n      rho = _getFlyToTransitionPa.rho,\n      rho2 = _getFlyToTransitionPa.rho2,\n      r0 = _getFlyToTransitionPa.r0;\n\n  if (u1 < EPSILON) {\n    var _iterator = _createForOfIteratorHelper(VIEWPORT_TRANSITION_PROPS),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        var startValue = startProps[key];\n        var endValue = endProps[key];\n        viewport[key] = lerp(startValue, endValue, t);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return viewport;\n  }\n\n  var s = t * S;\n  var w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  var u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  var scaleIncrement = 1 / w;\n  var newZoom = startZoom + scaleToZoom(scaleIncrement);\n  var newCenterWorld = vec2.scale([], uDelta, u);\n  vec2.add(newCenterWorld, newCenterWorld, startCenterXY);\n  var newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\nexport function getFlyToDuration(startProps, endProps) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var _opts = opts,\n      screenSpeed = _opts.screenSpeed,\n      speed = _opts.speed,\n      maxDuration = _opts.maxDuration;\n\n  var _getFlyToTransitionPa2 = getFlyToTransitionParams(startProps, endProps, opts),\n      S = _getFlyToTransitionPa2.S,\n      rho = _getFlyToTransitionPa2.rho;\n\n  var length = 1000 * S;\n  var duration;\n\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var rho = opts.curve;\n  var startZoom = startProps.zoom;\n  var startCenter = [startProps.longitude, startProps.latitude];\n  var startScale = zoomToScale(startZoom);\n  var endZoom = endProps.zoom;\n  var endCenter = [endProps.longitude, endProps.latitude];\n  var scale = zoomToScale(endZoom - startZoom);\n  var startCenterXY = lngLatToWorld(startCenter);\n  var endCenterXY = lngLatToWorld(endCenter);\n  var uDelta = vec2.sub([], endCenterXY, startCenterXY);\n  var w0 = Math.max(startProps.width, startProps.height);\n  var w1 = w0 / scale;\n  var u1 = vec2.length(uDelta) * startScale;\n\n  var _u1 = Math.max(u1, EPSILON);\n\n  var rho2 = rho * rho;\n  var b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  var b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  var r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  var r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  var S = (r1 - r0) / rho;\n  return {\n    startZoom: startZoom,\n    startCenterXY: startCenterXY,\n    uDelta: uDelta,\n    w0: w0,\n    u1: u1,\n    S: S,\n    rho: rho,\n    rho2: rho2,\n    r0: r0,\n    r1: r1\n  };\n}","import log from '../utils/log';\nexport var COORDINATE_SYSTEM = {\n  DEFAULT: -1,\n  LNGLAT: 1,\n  METER_OFFSETS: 2,\n  LNGLAT_OFFSETS: 3,\n  CARTESIAN: 0\n};\nObject.defineProperty(COORDINATE_SYSTEM, 'IDENTITY', {\n  get: function get() {\n    return log.deprecated('COORDINATE_SYSTEM.IDENTITY', 'COORDINATE_SYSTEM.CARTESIAN')() || 0;\n  }\n});\nexport var PROJECTION_MODE = {\n  WEB_MERCATOR: 1,\n  GLOBE: 2,\n  WEB_MERCATOR_AUTO_OFFSET: 4,\n  IDENTITY: 0\n};\nexport var UNIT = {\n  common: 0,\n  meters: 1,\n  pixels: 2\n};\nexport var EVENTS = {\n  click: {\n    handler: 'onClick'\n  },\n  panstart: {\n    handler: 'onDragStart'\n  },\n  panmove: {\n    handler: 'onDrag'\n  },\n  panend: {\n    handler: 'onDragEnd'\n  }\n};","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport log from '../utils/log';\nimport { createMat4, getCameraPosition, getFrustumPlanes as _getFrustumPlanes } from '../utils/math-utils';\nimport { Matrix4, Vector3, equals as _equals } from 'math.gl';\nimport * as mat4 from 'gl-matrix/mat4';\nimport { getDistanceScales as _getDistanceScales, getMeterZoom, lngLatToWorld, worldToLngLat, worldToPixels, pixelsToWorld } from '@math.gl/web-mercator';\nimport { PROJECTION_MODE } from '../lib/constants';\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nvar IDENTITY = createMat4();\nvar ZERO_VECTOR = [0, 0, 0];\nvar DEFAULT_ZOOM = 0;\nvar DEFAULT_DISTANCE_SCALES = {\n  unitsPerMeter: [1, 1, 1],\n  metersPerUnit: [1, 1, 1]\n};\n\nvar Viewport = /*#__PURE__*/function () {\n  function Viewport() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Viewport);\n\n    var _opts$id = opts.id,\n        id = _opts$id === void 0 ? null : _opts$id,\n        _opts$x = opts.x,\n        x = _opts$x === void 0 ? 0 : _opts$x,\n        _opts$y = opts.y,\n        y = _opts$y === void 0 ? 0 : _opts$y,\n        _opts$width = opts.width,\n        width = _opts$width === void 0 ? 1 : _opts$width,\n        _opts$height = opts.height,\n        height = _opts$height === void 0 ? 1 : _opts$height;\n    this.id = id || this.constructor.displayName || 'viewport';\n    this.x = x;\n    this.y = y;\n    this.width = width || 1;\n    this.height = height || 1;\n    this._frustumPlanes = {};\n\n    this._initViewMatrix(opts);\n\n    this._initProjectionMatrix(opts);\n\n    this._initPixelMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  _createClass(Viewport, [{\n    key: \"metersPerPixel\",\n    get: function get() {\n      return this.distanceScales.metersPerUnit[2] / this.scale;\n    }\n  }, {\n    key: \"projectionMode\",\n    get: function get() {\n      if (this.isGeospatial) {\n        return this.zoom < 12 ? PROJECTION_MODE.WEB_MERCATOR : PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET;\n      }\n\n      return PROJECTION_MODE.IDENTITY;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n\n      if (this === viewport) {\n        return true;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && viewport.scale === this.scale && _equals(viewport.projectionMatrix, this.projectionMatrix) && _equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$topLeft = _ref.topLeft,\n          topLeft = _ref$topLeft === void 0 ? true : _ref$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft,\n          targetZ = _ref2.targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = _slicedToArray(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = _slicedToArray(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      if (this.isGeospatial) {\n        return lngLatToWorld(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      if (this.isGeospatial) {\n        return worldToLngLat(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var unprojectOption = {\n        targetZ: options.z || 0\n      };\n      var topLeft = this.unproject([0, 0], unprojectOption);\n      var topRight = this.unproject([this.width, 0], unprojectOption);\n      var bottomLeft = this.unproject([0, this.height], unprojectOption);\n      var bottomRight = this.unproject([this.width, this.height], unprojectOption);\n      return [Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]), Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]), Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]), Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1])];\n    }\n  }, {\n    key: \"getDistanceScales\",\n    value: function getDistanceScales() {\n      var coordinateOrigin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (coordinateOrigin) {\n        return _getDistanceScales({\n          longitude: coordinateOrigin[0],\n          latitude: coordinateOrigin[1],\n          highPrecision: true\n        });\n      }\n\n      return this.distanceScales;\n    }\n  }, {\n    key: \"containsPixel\",\n    value: function containsPixel(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height;\n      return x < this.x + this.width && this.x < x + width && y < this.y + this.height && this.y < y + height;\n    }\n  }, {\n    key: \"getFrustumPlanes\",\n    value: function getFrustumPlanes() {\n      if (this._frustumPlanes.near) {\n        return this._frustumPlanes;\n      }\n\n      Object.assign(this._frustumPlanes, _getFrustumPlanes(this.viewProjectionMatrix));\n      return this._frustumPlanes;\n    }\n  }, {\n    key: \"panByPosition\",\n    value: function panByPosition(coords, pixel) {\n      return null;\n    }\n  }, {\n    key: \"getCameraPosition\",\n    value: function getCameraPosition() {\n      return this.cameraPosition;\n    }\n  }, {\n    key: \"getCameraDirection\",\n    value: function getCameraDirection() {\n      return this.cameraDirection;\n    }\n  }, {\n    key: \"getCameraUp\",\n    value: function getCameraUp() {\n      return this.cameraUp;\n    }\n  }, {\n    key: \"_createProjectionMatrix\",\n    value: function _createProjectionMatrix(_ref4) {\n      var orthographic = _ref4.orthographic,\n          fovyRadians = _ref4.fovyRadians,\n          aspect = _ref4.aspect,\n          focalDistance = _ref4.focalDistance,\n          near = _ref4.near,\n          far = _ref4.far;\n      return orthographic ? new Matrix4().orthographic({\n        fovy: fovyRadians,\n        aspect: aspect,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      }) : new Matrix4().perspective({\n        fovy: fovyRadians,\n        aspect: aspect,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"_initViewMatrix\",\n    value: function _initViewMatrix(opts) {\n      var _opts$viewMatrix = opts.viewMatrix,\n          viewMatrix = _opts$viewMatrix === void 0 ? IDENTITY : _opts$viewMatrix,\n          _opts$longitude = opts.longitude,\n          longitude = _opts$longitude === void 0 ? null : _opts$longitude,\n          _opts$latitude = opts.latitude,\n          latitude = _opts$latitude === void 0 ? null : _opts$latitude,\n          _opts$zoom = opts.zoom,\n          zoom = _opts$zoom === void 0 ? null : _opts$zoom,\n          _opts$position = opts.position,\n          position = _opts$position === void 0 ? null : _opts$position,\n          _opts$modelMatrix = opts.modelMatrix,\n          modelMatrix = _opts$modelMatrix === void 0 ? null : _opts$modelMatrix,\n          _opts$focalDistance = opts.focalDistance,\n          focalDistance = _opts$focalDistance === void 0 ? 1 : _opts$focalDistance,\n          _opts$distanceScales = opts.distanceScales,\n          distanceScales = _opts$distanceScales === void 0 ? null : _opts$distanceScales;\n      this.isGeospatial = Number.isFinite(latitude) && Number.isFinite(longitude);\n      this.zoom = zoom;\n\n      if (!Number.isFinite(this.zoom)) {\n        this.zoom = this.isGeospatial ? getMeterZoom({\n          latitude: latitude\n        }) + Math.log2(focalDistance) : DEFAULT_ZOOM;\n      }\n\n      var scale = Math.pow(2, this.zoom);\n      this.scale = scale;\n      this.distanceScales = this.isGeospatial ? _getDistanceScales({\n        latitude: latitude,\n        longitude: longitude\n      }) : distanceScales || DEFAULT_DISTANCE_SCALES;\n      this.focalDistance = focalDistance;\n      this.distanceScales.metersPerUnit = new Vector3(this.distanceScales.metersPerUnit);\n      this.distanceScales.unitsPerMeter = new Vector3(this.distanceScales.unitsPerMeter);\n      this.position = ZERO_VECTOR;\n      this.meterOffset = ZERO_VECTOR;\n\n      if (position) {\n        this.position = position;\n        this.modelMatrix = modelMatrix;\n        this.meterOffset = modelMatrix ? modelMatrix.transformVector(position) : position;\n      }\n\n      if (this.isGeospatial) {\n        this.longitude = longitude;\n        this.latitude = latitude;\n        this.center = this._getCenterInWorld({\n          longitude: longitude,\n          latitude: latitude\n        });\n      } else {\n        this.center = position ? this.projectPosition(position) : [0, 0, 0];\n      }\n\n      this.viewMatrixUncentered = viewMatrix;\n      this.viewMatrix = new Matrix4().multiplyRight(this.viewMatrixUncentered).translate(new Vector3(this.center || ZERO_VECTOR).negate());\n    }\n  }, {\n    key: \"_getCenterInWorld\",\n    value: function _getCenterInWorld(_ref5) {\n      var longitude = _ref5.longitude,\n          latitude = _ref5.latitude;\n      var meterOffset = this.meterOffset,\n          distanceScales = this.distanceScales;\n      var center = new Vector3(this.projectPosition([longitude, latitude, 0]));\n\n      if (meterOffset) {\n        var commonPosition = new Vector3(meterOffset).scale(distanceScales.unitsPerMeter);\n        center.add(commonPosition);\n      }\n\n      return center;\n    }\n  }, {\n    key: \"_initProjectionMatrix\",\n    value: function _initProjectionMatrix(opts) {\n      var _opts$projectionMatri = opts.projectionMatrix,\n          projectionMatrix = _opts$projectionMatri === void 0 ? null : _opts$projectionMatri,\n          _opts$orthographic = opts.orthographic,\n          orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n          fovyRadians = opts.fovyRadians,\n          _opts$fovy = opts.fovy,\n          fovy = _opts$fovy === void 0 ? 75 : _opts$fovy,\n          _opts$near = opts.near,\n          near = _opts$near === void 0 ? 0.1 : _opts$near,\n          _opts$far = opts.far,\n          far = _opts$far === void 0 ? 1000 : _opts$far,\n          _opts$focalDistance2 = opts.focalDistance,\n          focalDistance = _opts$focalDistance2 === void 0 ? 1 : _opts$focalDistance2;\n      this.projectionMatrix = projectionMatrix || this._createProjectionMatrix({\n        orthographic: orthographic,\n        fovyRadians: fovyRadians || fovy * DEGREES_TO_RADIANS,\n        aspect: this.width / this.height,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"_initPixelMatrices\",\n    value: function _initPixelMatrices() {\n      var vpm = createMat4();\n      mat4.multiply(vpm, vpm, this.projectionMatrix);\n      mat4.multiply(vpm, vpm, this.viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      this.viewMatrixInverse = mat4.invert([], this.viewMatrix) || this.viewMatrix;\n      this.cameraPosition = getCameraPosition(this.viewMatrixInverse);\n      var viewportMatrix = createMat4();\n      var pixelProjectionMatrix = createMat4();\n      mat4.scale(viewportMatrix, viewportMatrix, [this.width / 2, -this.height / 2, 1]);\n      mat4.translate(viewportMatrix, viewportMatrix, [1, -1, 0]);\n      mat4.multiply(pixelProjectionMatrix, viewportMatrix, this.viewProjectionMatrix);\n      this.pixelProjectionMatrix = pixelProjectionMatrix;\n      this.viewportMatrix = viewportMatrix;\n      this.pixelUnprojectionMatrix = mat4.invert(createMat4(), this.pixelProjectionMatrix);\n\n      if (!this.pixelUnprojectionMatrix) {\n        log.warn('Pixel project matrix not invertible')();\n      }\n    }\n  }]);\n\n  return Viewport;\n}();\n\nexport { Viewport as default };\nViewport.displayName = 'Viewport';","export var VERTEX_SHADER = 'vs';\nexport var FRAGMENT_SHADER = 'fs';","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'shadertools: assertion failed.');\n  }\n}","var TYPE_DEFINITIONS = {\n  number: {\n    validate: function validate(value, propType) {\n      return Number.isFinite(value) && (!('max' in propType) || value <= propType.max) && (!('min' in propType) || value >= propType.min);\n    }\n  },\n  array: {\n    validate: function validate(value, propType) {\n      return Array.isArray(value) || ArrayBuffer.isView(value);\n    }\n  }\n};\nexport function parsePropTypes(propDefs) {\n  var propTypes = {};\n\n  for (var propName in propDefs) {\n    var propDef = propDefs[propName];\n    var propType = parsePropType(propDef);\n    propTypes[propName] = propType;\n  }\n\n  return propTypes;\n}\n\nfunction parsePropType(propDef) {\n  var type = getTypeOf(propDef);\n\n  if (type === 'object') {\n    if (!propDef) {\n      return {\n        type: 'object',\n        value: null\n      };\n    }\n\n    if ('type' in propDef) {\n      return Object.assign({}, propDef, TYPE_DEFINITIONS[propDef.type]);\n    }\n\n    if (!('value' in propDef)) {\n      return {\n        type: 'object',\n        value: propDef\n      };\n    }\n\n    type = getTypeOf(propDef.value);\n    return Object.assign({\n      type: type\n    }, propDef, TYPE_DEFINITIONS[type]);\n  }\n\n  return Object.assign({\n    type: type,\n    value: propDef\n  }, TYPE_DEFINITIONS[type]);\n}\n\nfunction getTypeOf(value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    return 'array';\n  }\n\n  return typeof value;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { assert } from '../utils';\nimport { parsePropTypes } from './filters/prop-types';\nvar VERTEX_SHADER = 'vs';\nvar FRAGMENT_SHADER = 'fs';\n\nvar ShaderModule = /*#__PURE__*/function () {\n  function ShaderModule(_ref) {\n    var name = _ref.name,\n        vs = _ref.vs,\n        fs = _ref.fs,\n        _ref$dependencies = _ref.dependencies,\n        dependencies = _ref$dependencies === void 0 ? [] : _ref$dependencies,\n        uniforms = _ref.uniforms,\n        getUniforms = _ref.getUniforms,\n        _ref$deprecations = _ref.deprecations,\n        deprecations = _ref$deprecations === void 0 ? [] : _ref$deprecations,\n        _ref$defines = _ref.defines,\n        defines = _ref$defines === void 0 ? {} : _ref$defines,\n        _ref$inject = _ref.inject,\n        inject = _ref$inject === void 0 ? {} : _ref$inject,\n        vertexShader = _ref.vertexShader,\n        fragmentShader = _ref.fragmentShader;\n\n    _classCallCheck(this, ShaderModule);\n\n    assert(typeof name === 'string');\n    this.name = name;\n    this.vs = vs || vertexShader;\n    this.fs = fs || fragmentShader;\n    this.getModuleUniforms = getUniforms;\n    this.dependencies = dependencies;\n    this.deprecations = this._parseDeprecationDefinitions(deprecations);\n    this.defines = defines;\n    this.injections = normalizeInjections(inject);\n\n    if (uniforms) {\n      this.uniforms = parsePropTypes(uniforms);\n    }\n  }\n\n  _createClass(ShaderModule, [{\n    key: \"getModuleSource\",\n    value: function getModuleSource(type) {\n      var moduleSource;\n\n      switch (type) {\n        case VERTEX_SHADER:\n          moduleSource = this.vs || '';\n          break;\n\n        case FRAGMENT_SHADER:\n          moduleSource = this.fs || '';\n          break;\n\n        default:\n          assert(false);\n      }\n\n      return \"#define MODULE_\".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi, '_'), \"\\n\").concat(moduleSource, \"// END MODULE_\").concat(this.name, \"\\n\\n\");\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms(opts, uniforms) {\n      if (this.getModuleUniforms) {\n        return this.getModuleUniforms(opts, uniforms);\n      }\n\n      if (this.uniforms) {\n        return this._defaultGetUniforms(opts);\n      }\n\n      return {};\n    }\n  }, {\n    key: \"getDefines\",\n    value: function getDefines() {\n      return this.defines;\n    }\n  }, {\n    key: \"checkDeprecations\",\n    value: function checkDeprecations(shaderSource, log) {\n      this.deprecations.forEach(function (def) {\n        if (def.regex.test(shaderSource)) {\n          if (def.deprecated) {\n            log.deprecated(def.old, def.new)();\n          } else {\n            log.removed(def.old, def.new)();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_parseDeprecationDefinitions\",\n    value: function _parseDeprecationDefinitions(deprecations) {\n      deprecations.forEach(function (def) {\n        switch (def.type) {\n          case 'function':\n            def.regex = new RegExp(\"\\\\b\".concat(def.old, \"\\\\(\"));\n            break;\n\n          default:\n            def.regex = new RegExp(\"\".concat(def.type, \" \").concat(def.old, \";\"));\n        }\n      });\n      return deprecations;\n    }\n  }, {\n    key: \"_defaultGetUniforms\",\n    value: function _defaultGetUniforms() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var uniforms = {};\n      var propTypes = this.uniforms;\n\n      for (var key in propTypes) {\n        var propDef = propTypes[key];\n\n        if (key in opts && !propDef.private) {\n          if (propDef.validate) {\n            assert(propDef.validate(opts[key], propDef), \"\".concat(this.name, \": invalid \").concat(key));\n          }\n\n          uniforms[key] = opts[key];\n        } else {\n          uniforms[key] = propDef.value;\n        }\n      }\n\n      return uniforms;\n    }\n  }]);\n\n  return ShaderModule;\n}();\n\nexport { ShaderModule as default };\nexport function normalizeShaderModule(module) {\n  if (!module.normalized) {\n    module.normalized = true;\n\n    if (module.uniforms && !module.getUniforms) {\n      var shaderModule = new ShaderModule(module);\n      module.getUniforms = shaderModule.getUniforms.bind(shaderModule);\n    }\n  }\n\n  return module;\n}\n\nfunction normalizeInjections(injections) {\n  var result = {\n    vs: {},\n    fs: {}\n  };\n\n  for (var hook in injections) {\n    var injection = injections[hook];\n    var stage = hook.slice(0, 2);\n\n    if (typeof injection === 'string') {\n      injection = {\n        order: 0,\n        injection: injection\n      };\n    }\n\n    result[stage][hook] = injection;\n  }\n\n  return result;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport ShaderModule from './shader-module';\nimport { assert } from '../utils';\nexport function resolveModules(modules) {\n  return getShaderDependencies(instantiateModules(modules));\n}\n\nfunction getShaderDependencies(modules) {\n  var moduleMap = {};\n  var moduleDepth = {};\n  getDependencyGraph({\n    modules: modules,\n    level: 0,\n    moduleMap: moduleMap,\n    moduleDepth: moduleDepth\n  });\n  return Object.keys(moduleDepth).sort(function (a, b) {\n    return moduleDepth[b] - moduleDepth[a];\n  }).map(function (name) {\n    return moduleMap[name];\n  });\n}\n\nfunction getDependencyGraph(_ref) {\n  var modules = _ref.modules,\n      level = _ref.level,\n      moduleMap = _ref.moduleMap,\n      moduleDepth = _ref.moduleDepth;\n\n  if (level >= 5) {\n    throw new Error('Possible loop in shader dependency graph');\n  }\n\n  var _iterator = _createForOfIteratorHelper(modules),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var module = _step.value;\n      moduleMap[module.name] = module;\n\n      if (moduleDepth[module.name] === undefined || moduleDepth[module.name] < level) {\n        moduleDepth[module.name] = level;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(modules),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _module = _step2.value;\n\n      if (_module.dependencies) {\n        getDependencyGraph({\n          modules: _module.dependencies,\n          level: level + 1,\n          moduleMap: moduleMap,\n          moduleDepth: moduleDepth\n        });\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\n\nfunction instantiateModules(modules, seen) {\n  return modules.map(function (module) {\n    if (module instanceof ShaderModule) {\n      return module;\n    }\n\n    assert(typeof module !== 'string', \"Shader module use by name is deprecated. Import shader module '\".concat(module, \"' and use it directly.\"));\n    assert(module.name, 'shader module has no name');\n    module = new ShaderModule(module);\n    module.dependencies = instantiateModules(module.dependencies);\n    return module;\n  });\n}\n\nexport var TEST_EXPORTS = {\n  getShaderDependencies: getShaderDependencies,\n  getDependencyGraph: getDependencyGraph\n};","export default function isOldIE() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var navigator = typeof window !== 'undefined' ? window.navigator || {} : {};\n  var userAgent = opts.userAgent || navigator.userAgent || '';\n  var isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  var isTrident = userAgent.indexOf('Trident/') !== -1;\n  return isMSIE || isTrident;\n}","import isOldIE from './is-old-ie';\nimport assert from './assert';\nvar GL_VENDOR = 0x1f00;\nvar GL_RENDERER = 0x1f01;\nvar GL_VERSION = 0x1f02;\nvar GL_SHADING_LANGUAGE_VERSION = 0x8b8c;\nvar WEBGL_FEATURES = {\n  GLSL_FRAG_DATA: ['WEBGL_draw_buffers', true],\n  GLSL_FRAG_DEPTH: ['EXT_frag_depth', true],\n  GLSL_DERIVATIVES: ['OES_standard_derivatives', true],\n  GLSL_TEXTURE_LOD: ['EXT_shader_texture_lod', true]\n};\nvar FEATURES = {};\nObject.keys(WEBGL_FEATURES).forEach(function (key) {\n  FEATURES[key] = key;\n});\nexport { FEATURES };\n\nfunction isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n\n  return Boolean(gl && gl._version === 2);\n}\n\nexport function getContextInfo(gl) {\n  var info = gl.getExtension('WEBGL_debug_renderer_info');\n  var vendor = gl.getParameter(info && info.UNMASKED_VENDOR_WEBGL || GL_VENDOR);\n  var renderer = gl.getParameter(info && info.UNMASKED_RENDERER_WEBGL || GL_RENDERER);\n  var gpuVendor = identifyGPUVendor(vendor, renderer);\n  var gpuInfo = {\n    gpuVendor: gpuVendor,\n    vendor: vendor,\n    renderer: renderer,\n    version: gl.getParameter(GL_VERSION),\n    shadingLanguageVersion: gl.getParameter(GL_SHADING_LANGUAGE_VERSION)\n  };\n  return gpuInfo;\n}\n\nfunction identifyGPUVendor(vendor, renderer) {\n  if (vendor.match(/NVIDIA/i) || renderer.match(/NVIDIA/i)) {\n    return 'NVIDIA';\n  }\n\n  if (vendor.match(/INTEL/i) || renderer.match(/INTEL/i)) {\n    return 'INTEL';\n  }\n\n  if (vendor.match(/AMD/i) || renderer.match(/AMD/i) || vendor.match(/ATI/i) || renderer.match(/ATI/i)) {\n    return 'AMD';\n  }\n\n  return 'UNKNOWN GPU';\n}\n\nvar compiledGlslExtensions = {};\nexport function canCompileGLGSExtension(gl, cap) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var feature = WEBGL_FEATURES[cap];\n  assert(feature, cap);\n\n  if (!isOldIE(opts)) {\n    return true;\n  }\n\n  if (cap in compiledGlslExtensions) {\n    return compiledGlslExtensions[cap];\n  }\n\n  var extensionName = feature[0];\n  var behavior = opts.behavior || 'enable';\n  var source = \"#extension GL_\".concat(extensionName, \" : \").concat(behavior, \"\\nvoid main(void) {}\");\n  var shader = gl.createShader(35633);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  var canCompile = gl.getShaderParameter(shader, 35713);\n  gl.deleteShader(shader);\n  compiledGlslExtensions[cap] = canCompile;\n  return canCompile;\n}\n\nfunction getFeature(gl, cap) {\n  var feature = WEBGL_FEATURES[cap];\n  assert(feature, cap);\n  var extensionName = isWebGL2(gl) ? feature[1] || feature[0] : feature[0];\n  var value = typeof extensionName === 'string' ? Boolean(gl.getExtension(extensionName)) : extensionName;\n  assert(value === false || value === true);\n  return value;\n}\n\nexport function hasFeatures(gl, features) {\n  features = Array.isArray(features) ? features : [features];\n  return features.every(function (feature) {\n    return getFeature(gl, feature);\n  });\n}","export var MODULE_INJECTORS_VS = \"#ifdef MODULE_LOGDEPTH\\n  logdepth_adjustPosition(gl_Position);\\n#endif\\n\";\nexport var MODULE_INJECTORS_FS = \"#ifdef MODULE_MATERIAL\\n  gl_FragColor = material_filterColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_LIGHTING\\n  gl_FragColor = lighting_filterColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_FOG\\n  gl_FragColor = fog_filterColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_PICKING\\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_LOGDEPTH\\n  logdepth_setFragDepth();\\n#endif\\n\";","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _MODULE_INJECTORS;\n\nimport { MODULE_INJECTORS_VS, MODULE_INJECTORS_FS } from '../modules/module-injectors';\nimport { VERTEX_SHADER, FRAGMENT_SHADER } from './constants';\nimport { assert } from '../utils';\nvar MODULE_INJECTORS = (_MODULE_INJECTORS = {}, _defineProperty(_MODULE_INJECTORS, VERTEX_SHADER, MODULE_INJECTORS_VS), _defineProperty(_MODULE_INJECTORS, FRAGMENT_SHADER, MODULE_INJECTORS_FS), _MODULE_INJECTORS);\nexport var DECLARATION_INJECT_MARKER = '__LUMA_INJECT_DECLARATIONS__';\nvar REGEX_START_OF_MAIN = /void\\s+main\\s*\\([^)]*\\)\\s*\\{\\n?/;\nvar REGEX_END_OF_MAIN = /}\\n?[^{}]*$/;\nvar fragments = [];\nexport default function injectShader(source, type, inject) {\n  var injectStandardStubs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var isVertex = type === VERTEX_SHADER;\n\n  var _loop = function _loop(key) {\n    var fragmentData = inject[key];\n    fragmentData.sort(function (a, b) {\n      return a.order - b.order;\n    });\n    fragments.length = fragmentData.length;\n\n    for (var i = 0, len = fragmentData.length; i < len; ++i) {\n      fragments[i] = fragmentData[i].injection;\n    }\n\n    var fragmentString = \"\".concat(fragments.join('\\n'), \"\\n\");\n\n    switch (key) {\n      case 'vs:#decl':\n        if (isVertex) {\n          source = source.replace(DECLARATION_INJECT_MARKER, fragmentString);\n        }\n\n        break;\n\n      case 'vs:#main-start':\n        if (isVertex) {\n          source = source.replace(REGEX_START_OF_MAIN, function (match) {\n            return match + fragmentString;\n          });\n        }\n\n        break;\n\n      case 'vs:#main-end':\n        if (isVertex) {\n          source = source.replace(REGEX_END_OF_MAIN, function (match) {\n            return fragmentString + match;\n          });\n        }\n\n        break;\n\n      case 'fs:#decl':\n        if (!isVertex) {\n          source = source.replace(DECLARATION_INJECT_MARKER, fragmentString);\n        }\n\n        break;\n\n      case 'fs:#main-start':\n        if (!isVertex) {\n          source = source.replace(REGEX_START_OF_MAIN, function (match) {\n            return match + fragmentString;\n          });\n        }\n\n        break;\n\n      case 'fs:#main-end':\n        if (!isVertex) {\n          source = source.replace(REGEX_END_OF_MAIN, function (match) {\n            return fragmentString + match;\n          });\n        }\n\n        break;\n\n      default:\n        source = source.replace(key, function (match) {\n          return match + fragmentString;\n        });\n    }\n  };\n\n  for (var key in inject) {\n    _loop(key);\n  }\n\n  source = source.replace(DECLARATION_INJECT_MARKER, '');\n\n  if (injectStandardStubs) {\n    source = source.replace(/\\}\\s*$/, function (match) {\n      return match + MODULE_INJECTORS[type];\n    });\n  }\n\n  return source;\n}\nexport function combineInjects(injects) {\n  var result = {};\n  assert(Array.isArray(injects) && injects.length > 1);\n  injects.forEach(function (inject) {\n    for (var key in inject) {\n      result[key] = result[key] ? \"\".concat(result[key], \"\\n\").concat(inject[key]) : inject[key];\n    }\n  });\n  return result;\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction testVariable(qualifier) {\n  return new RegExp(\"\\\\b\".concat(qualifier, \"[ \\\\t]+(\\\\w+[ \\\\t]+\\\\w+(\\\\[\\\\w+\\\\])?;)\"), 'g');\n}\n\nvar ES300_REPLACEMENTS = [[/^(#version[ \\t]+(100|300[ \\t]+es))?[ \\t]*\\n/, '#version 300 es\\n'], [/\\btexture(2D|2DProj|Cube)Lod(EXT)?\\(/g, 'textureLod('], [/\\btexture(2D|2DProj|Cube)(EXT)?\\(/g, 'texture(']];\nvar ES300_VERTEX_REPLACEMENTS = [].concat(ES300_REPLACEMENTS, [[testVariable('attribute'), 'in $1'], [testVariable('varying'), 'out $1']]);\nvar ES300_FRAGMENT_REPLACEMENTS = [].concat(ES300_REPLACEMENTS, [[testVariable('varying'), 'in $1']]);\nvar ES100_REPLACEMENTS = [[/^#version[ \\t]+300[ \\t]+es/, '#version 100'], [/\\btexture(2D|2DProj|Cube)Lod\\(/g, 'texture$1LodEXT('], [/\\btexture\\(/g, 'texture2D('], [/\\btextureLod\\(/g, 'texture2DLodEXT(']];\nvar ES100_VERTEX_REPLACEMENTS = [].concat(ES100_REPLACEMENTS, [[testVariable('in'), 'attribute $1'], [testVariable('out'), 'varying $1']]);\nvar ES100_FRAGMENT_REPLACEMENTS = [].concat(ES100_REPLACEMENTS, [[testVariable('in'), 'varying $1']]);\nvar ES100_FRAGMENT_OUTPUT_NAME = 'gl_FragColor';\nvar ES300_FRAGMENT_OUTPUT_REGEX = /\\bout[ \\t]+vec4[ \\t]+(\\w+)[ \\t]*;\\n?/;\nvar REGEX_START_OF_MAIN = /void\\s+main\\s*\\([^)]*\\)\\s*\\{\\n?/;\nexport default function transpileShader(source, targetGLSLVersion, isVertex) {\n  switch (targetGLSLVersion) {\n    case 300:\n      return isVertex ? convertShader(source, ES300_VERTEX_REPLACEMENTS) : convertFragmentShaderTo300(source);\n\n    case 100:\n      return isVertex ? convertShader(source, ES100_VERTEX_REPLACEMENTS) : convertFragmentShaderTo100(source);\n\n    default:\n      throw new Error(\"unknown GLSL version \".concat(targetGLSLVersion));\n  }\n}\n\nfunction convertShader(source, replacements) {\n  var _iterator = _createForOfIteratorHelper(replacements),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          pattern = _step$value[0],\n          replacement = _step$value[1];\n\n      source = source.replace(pattern, replacement);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return source;\n}\n\nfunction convertFragmentShaderTo300(source) {\n  source = convertShader(source, ES300_FRAGMENT_REPLACEMENTS);\n  var outputMatch = source.match(ES300_FRAGMENT_OUTPUT_REGEX);\n\n  if (outputMatch) {\n    var outputName = outputMatch[1];\n    source = source.replace(new RegExp(\"\\\\b\".concat(ES100_FRAGMENT_OUTPUT_NAME, \"\\\\b\"), 'g'), outputName);\n  } else {\n    var _outputName = 'fragmentColor';\n    source = source.replace(REGEX_START_OF_MAIN, function (match) {\n      return \"out vec4 \".concat(_outputName, \";\\n\").concat(match);\n    }).replace(new RegExp(\"\\\\b\".concat(ES100_FRAGMENT_OUTPUT_NAME, \"\\\\b\"), 'g'), _outputName);\n  }\n\n  return source;\n}\n\nfunction convertFragmentShaderTo100(source) {\n  source = convertShader(source, ES100_FRAGMENT_REPLACEMENTS);\n  var outputMatch = source.match(ES300_FRAGMENT_OUTPUT_REGEX);\n\n  if (outputMatch) {\n    var outputName = outputMatch[1];\n    source = source.replace(ES300_FRAGMENT_OUTPUT_REGEX, '').replace(new RegExp(\"\\\\b\".concat(outputName, \"\\\\b\"), 'g'), ES100_FRAGMENT_OUTPUT_NAME);\n  }\n\n  return source;\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _SHADER_TYPE;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { VERTEX_SHADER, FRAGMENT_SHADER } from './constants';\nimport { resolveModules } from './resolve-modules';\nimport { getPlatformShaderDefines, getVersionDefines } from './platform-defines';\nimport injectShader, { DECLARATION_INJECT_MARKER } from './inject-shader';\nimport transpileShader from './transpile-shader';\nimport { assert } from '../utils';\nvar INJECT_SHADER_DECLARATIONS = \"\\n\\n\".concat(DECLARATION_INJECT_MARKER, \"\\n\\n\");\nvar SHADER_TYPE = (_SHADER_TYPE = {}, _defineProperty(_SHADER_TYPE, VERTEX_SHADER, 'vertex'), _defineProperty(_SHADER_TYPE, FRAGMENT_SHADER, 'fragment'), _SHADER_TYPE);\nvar FRAGMENT_SHADER_PROLOGUE = \"precision highp float;\\n\\n\";\nexport function assembleShaders(gl, opts) {\n  var vs = opts.vs,\n      fs = opts.fs;\n  var modules = resolveModules(opts.modules || []);\n  return {\n    gl: gl,\n    vs: assembleShader(gl, Object.assign({}, opts, {\n      source: vs,\n      type: VERTEX_SHADER,\n      modules: modules\n    })),\n    fs: assembleShader(gl, Object.assign({}, opts, {\n      source: fs,\n      type: FRAGMENT_SHADER,\n      modules: modules\n    })),\n    getUniforms: assembleGetUniforms(modules)\n  };\n}\n\nfunction assembleShader(gl, _ref) {\n  var id = _ref.id,\n      source = _ref.source,\n      type = _ref.type,\n      modules = _ref.modules,\n      _ref$defines = _ref.defines,\n      defines = _ref$defines === void 0 ? {} : _ref$defines,\n      _ref$hookFunctions = _ref.hookFunctions,\n      hookFunctions = _ref$hookFunctions === void 0 ? [] : _ref$hookFunctions,\n      _ref$inject = _ref.inject,\n      inject = _ref$inject === void 0 ? {} : _ref$inject,\n      _ref$transpileToGLSL = _ref.transpileToGLSL100,\n      transpileToGLSL100 = _ref$transpileToGLSL === void 0 ? false : _ref$transpileToGLSL,\n      _ref$prologue = _ref.prologue,\n      prologue = _ref$prologue === void 0 ? true : _ref$prologue,\n      log = _ref.log;\n  assert(typeof source === 'string', 'shader source must be a string');\n  var isVertex = type === VERTEX_SHADER;\n  var sourceLines = source.split('\\n');\n  var glslVersion = 100;\n  var versionLine = '';\n  var coreSource = source;\n\n  if (sourceLines[0].indexOf('#version ') === 0) {\n    glslVersion = 300;\n    versionLine = sourceLines[0];\n    coreSource = sourceLines.slice(1).join('\\n');\n  } else {\n    versionLine = \"#version \".concat(glslVersion);\n  }\n\n  var allDefines = {};\n  modules.forEach(function (module) {\n    Object.assign(allDefines, module.getDefines());\n  });\n  Object.assign(allDefines, defines);\n  var assembledSource = prologue ? \"\".concat(versionLine, \"\\n\").concat(getShaderName({\n    id: id,\n    source: source,\n    type: type\n  }), \"\\n\").concat(getShaderType({\n    type: type\n  }), \"\\n\").concat(getPlatformShaderDefines(gl), \"\\n\").concat(getVersionDefines(gl, glslVersion, !isVertex), \"\\n\").concat(getApplicationDefines(allDefines), \"\\n\").concat(isVertex ? '' : FRAGMENT_SHADER_PROLOGUE, \"\\n\") : \"\".concat(versionLine, \"\\n\");\n  var hookFunctionMap = normalizeHookFunctions(hookFunctions);\n  var hookInjections = {};\n  var declInjections = {};\n  var mainInjections = {};\n\n  for (var key in inject) {\n    var injection = typeof inject[key] === 'string' ? {\n      injection: inject[key],\n      order: 0\n    } : inject[key];\n    var match = key.match(/^(v|f)s:(#)?([\\w-]+)$/);\n\n    if (match) {\n      var hash = match[2];\n      var name = match[3];\n\n      if (hash) {\n        if (name === 'decl') {\n          declInjections[key] = [injection];\n        } else {\n          mainInjections[key] = [injection];\n        }\n      } else {\n        hookInjections[key] = [injection];\n      }\n    } else {\n      mainInjections[key] = [injection];\n    }\n  }\n\n  var _iterator = _createForOfIteratorHelper(modules),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var module = _step.value;\n\n      if (log) {\n        module.checkDeprecations(coreSource, log);\n      }\n\n      var moduleSource = module.getModuleSource(type, glslVersion);\n      assembledSource += moduleSource;\n      var injections = module.injections[type];\n\n      for (var _key in injections) {\n        var _match = _key.match(/^(v|f)s:#([\\w-]+)$/);\n\n        if (_match) {\n          var _name = _match[2];\n          var injectionType = _name === 'decl' ? declInjections : mainInjections;\n          injectionType[_key] = injectionType[_key] || [];\n\n          injectionType[_key].push(injections[_key]);\n        } else {\n          hookInjections[_key] = hookInjections[_key] || [];\n\n          hookInjections[_key].push(injections[_key]);\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  assembledSource += INJECT_SHADER_DECLARATIONS;\n  assembledSource = injectShader(assembledSource, type, declInjections);\n  assembledSource += getHookFunctions(hookFunctionMap[type], hookInjections);\n  assembledSource += coreSource;\n  assembledSource = injectShader(assembledSource, type, mainInjections);\n  assembledSource = transpileShader(assembledSource, transpileToGLSL100 ? 100 : glslVersion, isVertex);\n  return assembledSource;\n}\n\nfunction assembleGetUniforms(modules) {\n  return function getUniforms(opts) {\n    var uniforms = {};\n\n    var _iterator2 = _createForOfIteratorHelper(modules),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var module = _step2.value;\n        var moduleUniforms = module.getUniforms(opts, uniforms);\n        Object.assign(uniforms, moduleUniforms);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return uniforms;\n  };\n}\n\nfunction getShaderType(_ref2) {\n  var type = _ref2.type;\n  return \"\\n#define SHADER_TYPE_\".concat(SHADER_TYPE[type].toUpperCase(), \"\\n\");\n}\n\nfunction getShaderName(_ref3) {\n  var id = _ref3.id,\n      source = _ref3.source,\n      type = _ref3.type;\n  var injectShaderName = id && typeof id === 'string' && source.indexOf('SHADER_NAME') === -1;\n  return injectShaderName ? \"\\n#define SHADER_NAME \".concat(id, \"_\").concat(SHADER_TYPE[type], \"\\n\\n\") : '';\n}\n\nfunction getApplicationDefines() {\n  var defines = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var count = 0;\n  var sourceText = '';\n\n  for (var define in defines) {\n    if (count === 0) {\n      sourceText += '\\n// APPLICATION DEFINES\\n';\n    }\n\n    count++;\n    var value = defines[define];\n\n    if (value || Number.isFinite(value)) {\n      sourceText += \"#define \".concat(define.toUpperCase(), \" \").concat(defines[define], \"\\n\");\n    }\n  }\n\n  if (count === 0) {\n    sourceText += '\\n';\n  }\n\n  return sourceText;\n}\n\nfunction getHookFunctions(hookFunctions, hookInjections) {\n  var result = '';\n\n  for (var hookName in hookFunctions) {\n    var hookFunction = hookFunctions[hookName];\n    result += \"void \".concat(hookFunction.signature, \" {\\n\");\n\n    if (hookFunction.header) {\n      result += \"  \".concat(hookFunction.header);\n    }\n\n    if (hookInjections[hookName]) {\n      var injections = hookInjections[hookName];\n      injections.sort(function (a, b) {\n        return a.order - b.order;\n      });\n\n      var _iterator3 = _createForOfIteratorHelper(injections),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var injection = _step3.value;\n          result += \"  \".concat(injection.injection, \"\\n\");\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n\n    if (hookFunction.footer) {\n      result += \"  \".concat(hookFunction.footer);\n    }\n\n    result += '}\\n';\n  }\n\n  return result;\n}\n\nfunction normalizeHookFunctions(hookFunctions) {\n  var result = {\n    vs: {},\n    fs: {}\n  };\n  hookFunctions.forEach(function (hook) {\n    var opts;\n\n    if (typeof hook !== 'string') {\n      opts = hook;\n      hook = opts.hook;\n    } else {\n      opts = {};\n    }\n\n    hook = hook.trim();\n\n    var _hook$split = hook.split(':'),\n        _hook$split2 = _slicedToArray(_hook$split, 2),\n        stage = _hook$split2[0],\n        signature = _hook$split2[1];\n\n    var name = hook.replace(/\\(.+/, '');\n    result[stage][name] = Object.assign(opts, {\n      signature: signature\n    });\n  });\n  return result;\n}","import { getContextInfo, hasFeatures, canCompileGLGSExtension, FEATURES } from '../utils/webgl-info';\nexport function getPlatformShaderDefines(gl) {\n  var debugInfo = getContextInfo(gl);\n\n  switch (debugInfo.gpuVendor.toLowerCase()) {\n    case 'nvidia':\n      return \"#define NVIDIA_GPU\\n// Nvidia optimizes away the calculation necessary for emulated fp64\\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\\n\";\n\n    case 'intel':\n      return \"#define INTEL_GPU\\n// Intel optimizes away the calculation necessary for emulated fp64\\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\\n// Intel's built-in 'tan' function doesn't have acceptable precision\\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\\n\";\n\n    case 'amd':\n      return \"#define AMD_GPU\\n\";\n\n    default:\n      return \"#define DEFAULT_GPU\\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\\n// Intel's built-in 'tan' function doesn't have acceptable precision\\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\\n\";\n  }\n}\nexport function getVersionDefines(gl, glslVersion, isFragment) {\n  var versionDefines = \"#if (__VERSION__ > 120)\\n\\n# define FEATURE_GLSL_DERIVATIVES\\n# define FEATURE_GLSL_DRAW_BUFFERS\\n# define FEATURE_GLSL_FRAG_DEPTH\\n# define FEATURE_GLSL_TEXTURE_LOD\\n\\n// DEPRECATED FLAGS, remove in v9\\n# define FRAG_DEPTH\\n# define DERIVATIVES\\n# define DRAW_BUFFERS\\n# define TEXTURE_LOD\\n\\n#endif // __VERSION\\n\";\n\n  if (hasFeatures(gl, FEATURES.GLSL_FRAG_DEPTH)) {\n    versionDefines += \"\\n// FRAG_DEPTH => gl_FragDepth is available\\n#ifdef GL_EXT_frag_depth\\n#extension GL_EXT_frag_depth : enable\\n# define FEATURE_GLSL_FRAG_DEPTH\\n# define FRAG_DEPTH\\n# define gl_FragDepth gl_FragDepthEXT\\n#endif\\n\";\n  }\n\n  if (hasFeatures(gl, FEATURES.GLSL_DERIVATIVES) && canCompileGLGSExtension(gl, FEATURES.GLSL_DERIVATIVES)) {\n    versionDefines += \"\\n// DERIVATIVES => dxdF, dxdY and fwidth are available\\n#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n# define FEATURE_GLSL_DERIVATIVES\\n# define DERIVATIVES\\n#endif\\n\";\n  }\n\n  if (hasFeatures(gl, FEATURES.GLSL_FRAG_DATA) && canCompileGLGSExtension(gl, FEATURES.GLSL_FRAG_DATA, {\n    behavior: 'require'\n  })) {\n    versionDefines += \"\\n// DRAW_BUFFERS => gl_FragData[] is available\\n#ifdef GL_EXT_draw_buffers\\n#extension GL_EXT_draw_buffers : require\\n#define FEATURE_GLSL_DRAW_BUFFERS\\n#define DRAW_BUFFERS\\n#endif\\n\";\n  }\n\n  if (hasFeatures(gl, FEATURES.GLSL_TEXTURE_LOD)) {\n    versionDefines += \"// TEXTURE_LOD => texture2DLod etc are available\\n#ifdef GL_EXT_shader_texture_lod\\n#extension GL_EXT_shader_texture_lod : enable\\n\\n# define FEATURE_GLSL_TEXTURE_LOD\\n# define TEXTURE_LOD\\n\\n#endif\\n\";\n  }\n\n  return versionDefines;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import { Log } from 'probe.gl';\nexport var log = new Log({\n  id: 'luma.gl'\n});","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'luma.gl: assertion failed.');\n  }\n}","import { assert } from './assert';\nvar ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport var ERR_WEBGL = ERR_CONTEXT;\nexport var ERR_WEBGL2 = 'Requires WebGL2';\nexport function isWebGL(gl) {\n  if (typeof WebGLRenderingContext !== 'undefined' && gl instanceof WebGLRenderingContext) {\n    return true;\n  }\n\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n\n  return Boolean(gl && Number.isFinite(gl._version));\n}\nexport function isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n\n  return Boolean(gl && gl._version === 2);\n}\nexport function getWebGL2Context(gl) {\n  return isWebGL2(gl) ? gl : null;\n}\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n  return gl;\n}\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n  return gl;\n}","import { global } from 'probe.gl/env';\nvar glErrorShadow = {};\n\nfunction error(msg) {\n  if (global.console && global.console.error) {\n    global.console.error(msg);\n  }\n}\n\nfunction log(msg) {\n  if (global.console && global.console.log) {\n    global.console.log(msg);\n  }\n}\n\nfunction synthesizeGLError(err, opt_msg) {\n  glErrorShadow[err] = true;\n\n  if (opt_msg !== undefined) {\n    error(opt_msg);\n  }\n}\n\nfunction wrapGLError(gl) {\n  var f = gl.getError;\n\n  gl.getError = function getError() {\n    var err;\n\n    do {\n      err = f.apply(gl);\n\n      if (err !== 0) {\n        glErrorShadow[err] = true;\n      }\n    } while (err !== 0);\n\n    for (err in glErrorShadow) {\n      if (glErrorShadow[err]) {\n        delete glErrorShadow[err];\n        return parseInt(err, 10);\n      }\n    }\n\n    return 0;\n  };\n}\n\nvar WebGLVertexArrayObjectOES = function WebGLVertexArrayObjectOES(ext) {\n  var gl = ext.gl;\n  this.ext = ext;\n  this.isAlive = true;\n  this.hasBeenBound = false;\n  this.elementArrayBuffer = null;\n  this.attribs = new Array(ext.maxVertexAttribs);\n\n  for (var n = 0; n < this.attribs.length; n++) {\n    var attrib = new WebGLVertexArrayObjectOES.VertexAttrib(gl);\n    this.attribs[n] = attrib;\n  }\n\n  this.maxAttrib = 0;\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib = function VertexAttrib(gl) {\n  this.enabled = false;\n  this.buffer = null;\n  this.size = 4;\n  this.type = 5126;\n  this.normalized = false;\n  this.stride = 16;\n  this.offset = 0;\n  this.cached = '';\n  this.recache();\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib.prototype.recache = function recache() {\n  this.cached = [this.size, this.type, this.normalized, this.stride, this.offset].join(':');\n};\n\nvar OESVertexArrayObject = function OESVertexArrayObject(gl) {\n  var self = this;\n  this.gl = gl;\n  wrapGLError(gl);\n  var original = this.original = {\n    getParameter: gl.getParameter,\n    enableVertexAttribArray: gl.enableVertexAttribArray,\n    disableVertexAttribArray: gl.disableVertexAttribArray,\n    bindBuffer: gl.bindBuffer,\n    getVertexAttrib: gl.getVertexAttrib,\n    vertexAttribPointer: gl.vertexAttribPointer\n  };\n\n  gl.getParameter = function getParameter(pname) {\n    if (pname === self.VERTEX_ARRAY_BINDING_OES) {\n      if (self.currentVertexArrayObject === self.defaultVertexArrayObject) {\n        return null;\n      }\n\n      return self.currentVertexArrayObject;\n    }\n\n    return original.getParameter.apply(this, arguments);\n  };\n\n  gl.enableVertexAttribArray = function enableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = true;\n    return original.enableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.disableVertexAttribArray = function disableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = false;\n    return original.disableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.bindBuffer = function bindBuffer(target, buffer) {\n    switch (target) {\n      case 34962:\n        self.currentArrayBuffer = buffer;\n        break;\n\n      case 34963:\n        self.currentVertexArrayObject.elementArrayBuffer = buffer;\n        break;\n\n      default:\n    }\n\n    return original.bindBuffer.apply(this, arguments);\n  };\n\n  gl.getVertexAttrib = function getVertexAttrib(index, pname) {\n    var vao = self.currentVertexArrayObject;\n    var attrib = vao.attribs[index];\n\n    switch (pname) {\n      case 34975:\n        return attrib.buffer;\n\n      case 34338:\n        return attrib.enabled;\n\n      case 34339:\n        return attrib.size;\n\n      case 34340:\n        return attrib.stride;\n\n      case 34341:\n        return attrib.type;\n\n      case 34922:\n        return attrib.normalized;\n\n      default:\n        return original.getVertexAttrib.apply(this, arguments);\n    }\n  };\n\n  gl.vertexAttribPointer = function vertexAttribPointer(indx, size, type, normalized, stride, offset) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, indx);\n    var attrib = vao.attribs[indx];\n    attrib.buffer = self.currentArrayBuffer;\n    attrib.size = size;\n    attrib.type = type;\n    attrib.normalized = normalized;\n    attrib.stride = stride;\n    attrib.offset = offset;\n    attrib.recache();\n    return original.vertexAttribPointer.apply(this, arguments);\n  };\n\n  if (gl.instrumentExtension) {\n    gl.instrumentExtension(this, 'OES_vertex_array_object');\n  }\n\n  if (gl.canvas) {\n    gl.canvas.addEventListener('webglcontextrestored', function () {\n      log('OESVertexArrayObject emulation library context restored');\n      self.reset_();\n    }, true);\n  }\n\n  this.reset_();\n};\n\nOESVertexArrayObject.prototype.VERTEX_ARRAY_BINDING_OES = 0x85b5;\n\nOESVertexArrayObject.prototype.reset_ = function reset_() {\n  var contextWasLost = this.vertexArrayObjects !== undefined;\n\n  if (contextWasLost) {\n    for (var ii = 0; ii < this.vertexArrayObjects.length; ++ii) {\n      this.vertexArrayObjects.isAlive = false;\n    }\n  }\n\n  var gl = this.gl;\n  this.maxVertexAttribs = gl.getParameter(34921);\n  this.defaultVertexArrayObject = new WebGLVertexArrayObjectOES(this);\n  this.currentVertexArrayObject = null;\n  this.currentArrayBuffer = null;\n  this.vertexArrayObjects = [this.defaultVertexArrayObject];\n  this.bindVertexArrayOES(null);\n};\n\nOESVertexArrayObject.prototype.createVertexArrayOES = function createVertexArrayOES() {\n  var arrayObject = new WebGLVertexArrayObjectOES(this);\n  this.vertexArrayObjects.push(arrayObject);\n  return arrayObject;\n};\n\nOESVertexArrayObject.prototype.deleteVertexArrayOES = function deleteVertexArrayOES(arrayObject) {\n  arrayObject.isAlive = false;\n  this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(arrayObject), 1);\n\n  if (this.currentVertexArrayObject === arrayObject) {\n    this.bindVertexArrayOES(null);\n  }\n};\n\nOESVertexArrayObject.prototype.isVertexArrayOES = function isVertexArrayOES(arrayObject) {\n  if (arrayObject && arrayObject instanceof WebGLVertexArrayObjectOES) {\n    if (arrayObject.hasBeenBound && arrayObject.ext === this) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nOESVertexArrayObject.prototype.bindVertexArrayOES = function bindVertexArrayOES(arrayObject) {\n  var gl = this.gl;\n\n  if (arrayObject && !arrayObject.isAlive) {\n    synthesizeGLError(1282, 'bindVertexArrayOES: attempt to bind deleted arrayObject');\n    return;\n  }\n\n  var original = this.original;\n  var oldVAO = this.currentVertexArrayObject;\n  this.currentVertexArrayObject = arrayObject || this.defaultVertexArrayObject;\n  this.currentVertexArrayObject.hasBeenBound = true;\n  var newVAO = this.currentVertexArrayObject;\n\n  if (oldVAO === newVAO) {\n    return;\n  }\n\n  if (!oldVAO || newVAO.elementArrayBuffer !== oldVAO.elementArrayBuffer) {\n    original.bindBuffer.call(gl, 34963, newVAO.elementArrayBuffer);\n  }\n\n  var currentBinding = this.currentArrayBuffer;\n  var maxAttrib = Math.max(oldVAO ? oldVAO.maxAttrib : 0, newVAO.maxAttrib);\n\n  for (var n = 0; n <= maxAttrib; n++) {\n    var attrib = newVAO.attribs[n];\n    var oldAttrib = oldVAO ? oldVAO.attribs[n] : null;\n\n    if (!oldVAO || attrib.enabled !== oldAttrib.enabled) {\n      if (attrib.enabled) {\n        original.enableVertexAttribArray.call(gl, n);\n      } else {\n        original.disableVertexAttribArray.call(gl, n);\n      }\n    }\n\n    if (attrib.enabled) {\n      var bufferChanged = false;\n\n      if (!oldVAO || attrib.buffer !== oldAttrib.buffer) {\n        if (currentBinding !== attrib.buffer) {\n          original.bindBuffer.call(gl, 34962, attrib.buffer);\n          currentBinding = attrib.buffer;\n        }\n\n        bufferChanged = true;\n      }\n\n      if (bufferChanged || attrib.cached !== oldAttrib.cached) {\n        original.vertexAttribPointer.call(gl, n, attrib.size, attrib.type, attrib.normalized, attrib.stride, attrib.offset);\n      }\n    }\n  }\n\n  if (this.currentArrayBuffer !== currentBinding) {\n    original.bindBuffer.call(gl, 34962, this.currentArrayBuffer);\n  }\n};\n\nexport function polyfillVertexArrayObject(gl) {\n  if (typeof gl.createVertexArray === 'function') {\n    return;\n  }\n\n  var original_getSupportedExtensions = gl.getSupportedExtensions;\n\n  gl.getSupportedExtensions = function getSupportedExtensions() {\n    var list = original_getSupportedExtensions.call(this) || [];\n\n    if (list.indexOf('OES_vertex_array_object') < 0) {\n      list.push('OES_vertex_array_object');\n    }\n\n    return list;\n  };\n\n  var original_getExtension = gl.getExtension;\n\n  gl.getExtension = function getExtension(name) {\n    var ext = original_getExtension.call(this, name);\n\n    if (ext) {\n      return ext;\n    }\n\n    if (name !== 'OES_vertex_array_object') {\n      return null;\n    }\n\n    if (!gl.__OESVertexArrayObject) {\n      this.__OESVertexArrayObject = new OESVertexArrayObject(this);\n    }\n\n    return this.__OESVertexArrayObject;\n  };\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _WEBGL_PARAMETERS;\n\nimport { isWebGL2 } from '../utils/webgl-checks';\nvar OES_element_index = 'OES_element_index';\nvar WEBGL_draw_buffers = 'WEBGL_draw_buffers';\nvar EXT_disjoint_timer_query = 'EXT_disjoint_timer_query';\nvar EXT_disjoint_timer_query_webgl2 = 'EXT_disjoint_timer_query_webgl2';\nvar EXT_texture_filter_anisotropic = 'EXT_texture_filter_anisotropic';\nvar WEBGL_debug_renderer_info = 'WEBGL_debug_renderer_info';\nvar GL_FRAGMENT_SHADER_DERIVATIVE_HINT = 0x8b8b;\nvar GL_DONT_CARE = 0x1100;\nvar GL_GPU_DISJOINT_EXT = 0x8fbb;\nvar GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT = 0x84ff;\nvar GL_UNMASKED_VENDOR_WEBGL = 0x9245;\nvar GL_UNMASKED_RENDERER_WEBGL = 0x9246;\n\nvar getWebGL2ValueOrZero = function getWebGL2ValueOrZero(gl) {\n  return !isWebGL2(gl) ? 0 : undefined;\n};\n\nvar WEBGL_PARAMETERS = (_WEBGL_PARAMETERS = {}, _defineProperty(_WEBGL_PARAMETERS, 3074, function _(gl) {\n  return !isWebGL2(gl) ? 36064 : undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, GL_FRAGMENT_SHADER_DERIVATIVE_HINT, function (gl) {\n  return !isWebGL2(gl) ? GL_DONT_CARE : undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, 35977, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 32937, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, GL_GPU_DISJOINT_EXT, function (gl, getParameter) {\n  var ext = isWebGL2(gl) ? gl.getExtension(EXT_disjoint_timer_query_webgl2) : gl.getExtension(EXT_disjoint_timer_query);\n  return ext && ext.GPU_DISJOINT_EXT ? getParameter(ext.GPU_DISJOINT_EXT) : 0;\n}), _defineProperty(_WEBGL_PARAMETERS, GL_UNMASKED_VENDOR_WEBGL, function (gl, getParameter) {\n  var ext = gl.getExtension(WEBGL_debug_renderer_info);\n  return getParameter(ext && ext.UNMASKED_VENDOR_WEBGL || 7936);\n}), _defineProperty(_WEBGL_PARAMETERS, GL_UNMASKED_RENDERER_WEBGL, function (gl, getParameter) {\n  var ext = gl.getExtension(WEBGL_debug_renderer_info);\n  return getParameter(ext && ext.UNMASKED_RENDERER_WEBGL || 7937);\n}), _defineProperty(_WEBGL_PARAMETERS, GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT, function (gl, getParameter) {\n  var ext = gl.luma.extensions[EXT_texture_filter_anisotropic];\n  return ext ? getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 1.0;\n}), _defineProperty(_WEBGL_PARAMETERS, 32883, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35071, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 37447, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 36063, function _(gl, getParameter) {\n  if (!isWebGL2(gl)) {\n    var ext = gl.getExtension(WEBGL_draw_buffers);\n    return ext ? getParameter(ext.MAX_COLOR_ATTACHMENTS_WEBGL) : 0;\n  }\n\n  return undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, 35379, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35374, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35377, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 34852, function _(gl) {\n  if (!isWebGL2(gl)) {\n    var ext = gl.getExtension(WEBGL_draw_buffers);\n    return ext ? ext.MAX_DRAW_BUFFERS_WEBGL : 0;\n  }\n\n  return undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, 36203, function _(gl) {\n  return gl.getExtension(OES_element_index) ? 2147483647 : 65535;\n}), _defineProperty(_WEBGL_PARAMETERS, 33001, function _(gl) {\n  return gl.getExtension(OES_element_index) ? 16777216 : 65535;\n}), _defineProperty(_WEBGL_PARAMETERS, 33000, function _(gl) {\n  return 16777216;\n}), _defineProperty(_WEBGL_PARAMETERS, 37157, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35373, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35657, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 36183, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 37137, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 34045, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35978, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35979, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35968, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35376, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35375, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35659, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 37154, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35371, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35658, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35076, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35077, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35380, getWebGL2ValueOrZero), _WEBGL_PARAMETERS);\nexport function getParameterPolyfill(gl, originalGetParameter, pname) {\n  var limit = WEBGL_PARAMETERS[pname];\n  var value = typeof limit === 'function' ? limit(gl, originalGetParameter, pname) : limit;\n  var result = value !== undefined ? value : originalGetParameter(pname);\n  return result;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _WEBGL2_CONTEXT_POLYF;\n\nimport { assert } from '../utils/assert';\nimport { isWebGL2 } from '../utils/webgl-checks';\nimport { getParameterPolyfill } from './get-parameter-polyfill';\nvar OES_vertex_array_object = 'OES_vertex_array_object';\nvar ANGLE_instanced_arrays = 'ANGLE_instanced_arrays';\nvar WEBGL_draw_buffers = 'WEBGL_draw_buffers';\nvar EXT_disjoint_timer_query = 'EXT_disjoint_timer_query';\nvar EXT_texture_filter_anisotropic = 'EXT_texture_filter_anisotropic';\nvar ERR_VAO_NOT_SUPPORTED = 'VertexArray requires WebGL2 or OES_vertex_array_object extension';\n\nfunction getExtensionData(gl, extension) {\n  return {\n    webgl2: isWebGL2(gl),\n    ext: gl.getExtension(extension)\n  };\n}\n\nexport var WEBGL2_CONTEXT_POLYFILLS = (_WEBGL2_CONTEXT_POLYF = {}, _defineProperty(_WEBGL2_CONTEXT_POLYF, OES_vertex_array_object, {\n  meta: {\n    suffix: 'OES'\n  },\n  createVertexArray: function createVertexArray() {\n    assert(false, ERR_VAO_NOT_SUPPORTED);\n  },\n  deleteVertexArray: function deleteVertexArray() {},\n  bindVertexArray: function bindVertexArray() {},\n  isVertexArray: function isVertexArray() {\n    return false;\n  }\n}), _defineProperty(_WEBGL2_CONTEXT_POLYF, ANGLE_instanced_arrays, {\n  meta: {\n    suffix: 'ANGLE'\n  },\n  vertexAttribDivisor: function vertexAttribDivisor(location, divisor) {\n    assert(divisor === 0, 'WebGL instanced rendering not supported');\n  },\n  drawElementsInstanced: function drawElementsInstanced() {},\n  drawArraysInstanced: function drawArraysInstanced() {}\n}), _defineProperty(_WEBGL2_CONTEXT_POLYF, WEBGL_draw_buffers, {\n  meta: {\n    suffix: 'WEBGL'\n  },\n  drawBuffers: function drawBuffers() {\n    assert(false);\n  }\n}), _defineProperty(_WEBGL2_CONTEXT_POLYF, EXT_disjoint_timer_query, {\n  meta: {\n    suffix: 'EXT'\n  },\n  createQuery: function createQuery() {\n    assert(false);\n  },\n  deleteQuery: function deleteQuery() {\n    assert(false);\n  },\n  beginQuery: function beginQuery() {\n    assert(false);\n  },\n  endQuery: function endQuery() {},\n  getQuery: function getQuery(handle, pname) {\n    return this.getQueryObject(handle, pname);\n  },\n  getQueryParameter: function getQueryParameter(handle, pname) {\n    return this.getQueryObject(handle, pname);\n  },\n  getQueryObject: function getQueryObject() {}\n}), _WEBGL2_CONTEXT_POLYF);\nexport var WEBGL2_CONTEXT_OVERRIDES = {\n  readBuffer: function readBuffer(gl, originalFunc, attachment) {\n    if (isWebGL2(gl)) {\n      originalFunc(attachment);\n    } else {}\n  },\n  getVertexAttrib: function getVertexAttrib(gl, originalFunc, location, pname) {\n    var _getExtensionData = getExtensionData(gl, ANGLE_instanced_arrays),\n        webgl2 = _getExtensionData.webgl2,\n        ext = _getExtensionData.ext;\n\n    var result;\n\n    switch (pname) {\n      case 35069:\n        result = !webgl2 ? false : undefined;\n        break;\n\n      case 35070:\n        result = !webgl2 && !ext ? 0 : undefined;\n        break;\n\n      default:\n    }\n\n    return result !== undefined ? result : originalFunc(location, pname);\n  },\n  getProgramParameter: function getProgramParameter(gl, originalFunc, program, pname) {\n    if (!isWebGL2(gl)) {\n      switch (pname) {\n        case 35967:\n          return 35981;\n\n        case 35971:\n          return 0;\n\n        case 35382:\n          return 0;\n\n        default:\n      }\n    }\n\n    return originalFunc(program, pname);\n  },\n  getInternalformatParameter: function getInternalformatParameter(gl, originalFunc, target, format, pname) {\n    if (!isWebGL2(gl)) {\n      switch (pname) {\n        case 32937:\n          return new Int32Array([0]);\n\n        default:\n      }\n    }\n\n    return gl.getInternalformatParameter(target, format, pname);\n  },\n  getTexParameter: function getTexParameter(gl, originalFunc, target, pname) {\n    switch (pname) {\n      case 34046:\n        var extensions = gl.luma.extensions;\n        var ext = extensions[EXT_texture_filter_anisotropic];\n        pname = ext && ext.TEXTURE_MAX_ANISOTROPY_EXT || 34046;\n        break;\n\n      default:\n    }\n\n    return originalFunc(target, pname);\n  },\n  getParameter: getParameterPolyfill,\n  hint: function hint(gl, originalFunc, pname, value) {\n    return originalFunc(pname, value);\n  }\n};","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _GL_PARAMETER_DEFAULT, _GL_PARAMETER_SETTERS, _GL_PARAMETER_GETTERS;\n\nimport { isWebGL2 } from '../utils/webgl-checks';\nexport var GL_PARAMETER_DEFAULTS = (_GL_PARAMETER_DEFAULT = {}, _defineProperty(_GL_PARAMETER_DEFAULT, 3042, false), _defineProperty(_GL_PARAMETER_DEFAULT, 32773, new Float32Array([0, 0, 0, 0])), _defineProperty(_GL_PARAMETER_DEFAULT, 32777, 32774), _defineProperty(_GL_PARAMETER_DEFAULT, 34877, 32774), _defineProperty(_GL_PARAMETER_DEFAULT, 32969, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 32968, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32971, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 32970, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3106, new Float32Array([0, 0, 0, 0])), _defineProperty(_GL_PARAMETER_DEFAULT, 3107, [true, true, true, true]), _defineProperty(_GL_PARAMETER_DEFAULT, 2884, false), _defineProperty(_GL_PARAMETER_DEFAULT, 2885, 1029), _defineProperty(_GL_PARAMETER_DEFAULT, 2929, false), _defineProperty(_GL_PARAMETER_DEFAULT, 2931, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 2932, 513), _defineProperty(_GL_PARAMETER_DEFAULT, 2928, new Float32Array([0, 1])), _defineProperty(_GL_PARAMETER_DEFAULT, 2930, true), _defineProperty(_GL_PARAMETER_DEFAULT, 3024, true), _defineProperty(_GL_PARAMETER_DEFAULT, 36006, null), _defineProperty(_GL_PARAMETER_DEFAULT, 2886, 2305), _defineProperty(_GL_PARAMETER_DEFAULT, 33170, 4352), _defineProperty(_GL_PARAMETER_DEFAULT, 2849, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 32823, false), _defineProperty(_GL_PARAMETER_DEFAULT, 32824, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 10752, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32938, 1.0), _defineProperty(_GL_PARAMETER_DEFAULT, 32939, false), _defineProperty(_GL_PARAMETER_DEFAULT, 3089, false), _defineProperty(_GL_PARAMETER_DEFAULT, 3088, new Int32Array([0, 0, 1024, 1024])), _defineProperty(_GL_PARAMETER_DEFAULT, 2960, false), _defineProperty(_GL_PARAMETER_DEFAULT, 2961, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 2968, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 36005, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 2962, 519), _defineProperty(_GL_PARAMETER_DEFAULT, 2967, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 2963, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 34816, 519), _defineProperty(_GL_PARAMETER_DEFAULT, 36003, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 36004, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 2964, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 2965, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 2966, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 34817, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 34818, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 34819, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 2978, [0, 0, 1024, 1024]), _defineProperty(_GL_PARAMETER_DEFAULT, 3333, 4), _defineProperty(_GL_PARAMETER_DEFAULT, 3317, 4), _defineProperty(_GL_PARAMETER_DEFAULT, 37440, false), _defineProperty(_GL_PARAMETER_DEFAULT, 37441, false), _defineProperty(_GL_PARAMETER_DEFAULT, 37443, 37444), _defineProperty(_GL_PARAMETER_DEFAULT, 35723, 4352), _defineProperty(_GL_PARAMETER_DEFAULT, 36010, null), _defineProperty(_GL_PARAMETER_DEFAULT, 35977, false), _defineProperty(_GL_PARAMETER_DEFAULT, 3330, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3332, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3331, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3314, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32878, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3316, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3315, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32877, 0), _GL_PARAMETER_DEFAULT);\n\nvar enable = function enable(gl, value, key) {\n  return value ? gl.enable(key) : gl.disable(key);\n};\n\nvar hint = function hint(gl, value, key) {\n  return gl.hint(key, value);\n};\n\nvar pixelStorei = function pixelStorei(gl, value, key) {\n  return gl.pixelStorei(key, value);\n};\n\nvar drawFramebuffer = function drawFramebuffer(gl, value) {\n  var target = isWebGL2(gl) ? 36009 : 36160;\n  return gl.bindFramebuffer(target, value);\n};\n\nvar readFramebuffer = function readFramebuffer(gl, value) {\n  return gl.bindFramebuffer(36008, value);\n};\n\nfunction isArray(array) {\n  return Array.isArray(array) || ArrayBuffer.isView(array);\n}\n\nexport var GL_PARAMETER_SETTERS = (_GL_PARAMETER_SETTERS = {}, _defineProperty(_GL_PARAMETER_SETTERS, 3042, enable), _defineProperty(_GL_PARAMETER_SETTERS, 32773, function _(gl, value) {\n  return gl.blendColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 32777, 'blendEquation'), _defineProperty(_GL_PARAMETER_SETTERS, 34877, 'blendEquation'), _defineProperty(_GL_PARAMETER_SETTERS, 32969, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 32968, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 32971, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 32970, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 3106, function _(gl, value) {\n  return gl.clearColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 3107, function _(gl, value) {\n  return gl.colorMask.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2884, enable), _defineProperty(_GL_PARAMETER_SETTERS, 2885, function _(gl, value) {\n  return gl.cullFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2929, enable), _defineProperty(_GL_PARAMETER_SETTERS, 2931, function _(gl, value) {\n  return gl.clearDepth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2932, function _(gl, value) {\n  return gl.depthFunc(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2928, function _(gl, value) {\n  return gl.depthRange.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2930, function _(gl, value) {\n  return gl.depthMask(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 3024, enable), _defineProperty(_GL_PARAMETER_SETTERS, 35723, hint), _defineProperty(_GL_PARAMETER_SETTERS, 36006, drawFramebuffer), _defineProperty(_GL_PARAMETER_SETTERS, 2886, function _(gl, value) {\n  return gl.frontFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 33170, hint), _defineProperty(_GL_PARAMETER_SETTERS, 2849, function _(gl, value) {\n  return gl.lineWidth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 32823, enable), _defineProperty(_GL_PARAMETER_SETTERS, 32824, 'polygonOffset'), _defineProperty(_GL_PARAMETER_SETTERS, 10752, 'polygonOffset'), _defineProperty(_GL_PARAMETER_SETTERS, 35977, enable), _defineProperty(_GL_PARAMETER_SETTERS, 32938, 'sampleCoverage'), _defineProperty(_GL_PARAMETER_SETTERS, 32939, 'sampleCoverage'), _defineProperty(_GL_PARAMETER_SETTERS, 3089, enable), _defineProperty(_GL_PARAMETER_SETTERS, 3088, function _(gl, value) {\n  return gl.scissor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2960, enable), _defineProperty(_GL_PARAMETER_SETTERS, 2961, function _(gl, value) {\n  return gl.clearStencil(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2968, function _(gl, value) {\n  return gl.stencilMaskSeparate(1028, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 36005, function _(gl, value) {\n  return gl.stencilMaskSeparate(1029, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2962, 'stencilFuncFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2967, 'stencilFuncFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2963, 'stencilFuncFront'), _defineProperty(_GL_PARAMETER_SETTERS, 34816, 'stencilFuncBack'), _defineProperty(_GL_PARAMETER_SETTERS, 36003, 'stencilFuncBack'), _defineProperty(_GL_PARAMETER_SETTERS, 36004, 'stencilFuncBack'), _defineProperty(_GL_PARAMETER_SETTERS, 2964, 'stencilOpFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2965, 'stencilOpFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2966, 'stencilOpFront'), _defineProperty(_GL_PARAMETER_SETTERS, 34817, 'stencilOpBack'), _defineProperty(_GL_PARAMETER_SETTERS, 34818, 'stencilOpBack'), _defineProperty(_GL_PARAMETER_SETTERS, 34819, 'stencilOpBack'), _defineProperty(_GL_PARAMETER_SETTERS, 2978, function _(gl, value) {\n  return gl.viewport.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 3333, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3317, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 37440, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 37441, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 37443, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3330, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3332, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3331, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 36010, readFramebuffer), _defineProperty(_GL_PARAMETER_SETTERS, 3314, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 32878, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3316, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3315, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 32877, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, \"framebuffer\", function framebuffer(gl, _framebuffer) {\n  var handle = _framebuffer && 'handle' in _framebuffer ? _framebuffer.handle : _framebuffer;\n  return gl.bindFramebuffer(36160, handle);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blend\", function blend(gl, value) {\n  return value ? gl.enable(3042) : gl.disable(3042);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blendColor\", function blendColor(gl, value) {\n  return gl.blendColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blendEquation\", function blendEquation(gl, args) {\n  args = isArray(args) ? args : [args, args];\n  gl.blendEquationSeparate.apply(gl, _toConsumableArray(args));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blendFunc\", function blendFunc(gl, args) {\n  args = isArray(args) && args.length === 2 ? [].concat(_toConsumableArray(args), _toConsumableArray(args)) : args;\n  gl.blendFuncSeparate.apply(gl, _toConsumableArray(args));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"clearColor\", function clearColor(gl, value) {\n  return gl.clearColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"clearDepth\", function clearDepth(gl, value) {\n  return gl.clearDepth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"clearStencil\", function clearStencil(gl, value) {\n  return gl.clearStencil(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"colorMask\", function colorMask(gl, value) {\n  return gl.colorMask.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"cull\", function cull(gl, value) {\n  return value ? gl.enable(2884) : gl.disable(2884);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"cullFace\", function cullFace(gl, value) {\n  return gl.cullFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthTest\", function depthTest(gl, value) {\n  return value ? gl.enable(2929) : gl.disable(2929);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthFunc\", function depthFunc(gl, value) {\n  return gl.depthFunc(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthMask\", function depthMask(gl, value) {\n  return gl.depthMask(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthRange\", function depthRange(gl, value) {\n  return gl.depthRange.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"dither\", function dither(gl, value) {\n  return value ? gl.enable(3024) : gl.disable(3024);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"derivativeHint\", function derivativeHint(gl, value) {\n  gl.hint(35723, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"frontFace\", function frontFace(gl, value) {\n  return gl.frontFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"mipmapHint\", function mipmapHint(gl, value) {\n  return gl.hint(33170, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"lineWidth\", function lineWidth(gl, value) {\n  return gl.lineWidth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"polygonOffsetFill\", function polygonOffsetFill(gl, value) {\n  return value ? gl.enable(32823) : gl.disable(32823);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"polygonOffset\", function polygonOffset(gl, value) {\n  return gl.polygonOffset.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"sampleCoverage\", function sampleCoverage(gl, value) {\n  return gl.sampleCoverage.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"scissorTest\", function scissorTest(gl, value) {\n  return value ? gl.enable(3089) : gl.disable(3089);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"scissor\", function scissor(gl, value) {\n  return gl.scissor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilTest\", function stencilTest(gl, value) {\n  return value ? gl.enable(2960) : gl.disable(2960);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilMask\", function stencilMask(gl, value) {\n  value = isArray(value) ? value : [value, value];\n\n  var _value = value,\n      _value2 = _slicedToArray(_value, 2),\n      mask = _value2[0],\n      backMask = _value2[1];\n\n  gl.stencilMaskSeparate(1028, mask);\n  gl.stencilMaskSeparate(1029, backMask);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilFunc\", function stencilFunc(gl, args) {\n  args = isArray(args) && args.length === 3 ? [].concat(_toConsumableArray(args), _toConsumableArray(args)) : args;\n\n  var _args = args,\n      _args2 = _slicedToArray(_args, 6),\n      func = _args2[0],\n      ref = _args2[1],\n      mask = _args2[2],\n      backFunc = _args2[3],\n      backRef = _args2[4],\n      backMask = _args2[5];\n\n  gl.stencilFuncSeparate(1028, func, ref, mask);\n  gl.stencilFuncSeparate(1029, backFunc, backRef, backMask);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilOp\", function stencilOp(gl, args) {\n  args = isArray(args) && args.length === 3 ? [].concat(_toConsumableArray(args), _toConsumableArray(args)) : args;\n\n  var _args3 = args,\n      _args4 = _slicedToArray(_args3, 6),\n      sfail = _args4[0],\n      dpfail = _args4[1],\n      dppass = _args4[2],\n      backSfail = _args4[3],\n      backDpfail = _args4[4],\n      backDppass = _args4[5];\n\n  gl.stencilOpSeparate(1028, sfail, dpfail, dppass);\n  gl.stencilOpSeparate(1029, backSfail, backDpfail, backDppass);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"viewport\", function viewport(gl, value) {\n  return gl.viewport.apply(gl, _toConsumableArray(value));\n}), _GL_PARAMETER_SETTERS);\n\nfunction getValue(glEnum, values, cache) {\n  return values[glEnum] !== undefined ? values[glEnum] : cache[glEnum];\n}\n\nexport var GL_COMPOSITE_PARAMETER_SETTERS = {\n  blendEquation: function blendEquation(gl, values, cache) {\n    return gl.blendEquationSeparate(getValue(32777, values, cache), getValue(34877, values, cache));\n  },\n  blendFunc: function blendFunc(gl, values, cache) {\n    return gl.blendFuncSeparate(getValue(32969, values, cache), getValue(32968, values, cache), getValue(32971, values, cache), getValue(32970, values, cache));\n  },\n  polygonOffset: function polygonOffset(gl, values, cache) {\n    return gl.polygonOffset(getValue(32824, values, cache), getValue(10752, values, cache));\n  },\n  sampleCoverage: function sampleCoverage(gl, values, cache) {\n    return gl.sampleCoverage(getValue(32938, values, cache), getValue(32939, values, cache));\n  },\n  stencilFuncFront: function stencilFuncFront(gl, values, cache) {\n    return gl.stencilFuncSeparate(1028, getValue(2962, values, cache), getValue(2967, values, cache), getValue(2963, values, cache));\n  },\n  stencilFuncBack: function stencilFuncBack(gl, values, cache) {\n    return gl.stencilFuncSeparate(1029, getValue(34816, values, cache), getValue(36003, values, cache), getValue(36004, values, cache));\n  },\n  stencilOpFront: function stencilOpFront(gl, values, cache) {\n    return gl.stencilOpSeparate(1028, getValue(2964, values, cache), getValue(2965, values, cache), getValue(2966, values, cache));\n  },\n  stencilOpBack: function stencilOpBack(gl, values, cache) {\n    return gl.stencilOpSeparate(1029, getValue(34817, values, cache), getValue(34818, values, cache), getValue(34819, values, cache));\n  }\n};\nexport var GL_HOOKED_SETTERS = {\n  enable: function enable(update, capability) {\n    return update(_defineProperty({}, capability, true));\n  },\n  disable: function disable(update, capability) {\n    return update(_defineProperty({}, capability, false));\n  },\n  pixelStorei: function pixelStorei(update, pname, value) {\n    return update(_defineProperty({}, pname, value));\n  },\n  hint: function hint(update, pname, _hint) {\n    return update(_defineProperty({}, pname, _hint));\n  },\n  bindFramebuffer: function bindFramebuffer(update, target, framebuffer) {\n    var _update5;\n\n    switch (target) {\n      case 36160:\n        return update((_update5 = {}, _defineProperty(_update5, 36006, framebuffer), _defineProperty(_update5, 36010, framebuffer), _update5));\n\n      case 36009:\n        return update(_defineProperty({}, 36006, framebuffer));\n\n      case 36008:\n        return update(_defineProperty({}, 36010, framebuffer));\n\n      default:\n        return null;\n    }\n  },\n  blendColor: function blendColor(update, r, g, b, a) {\n    return update(_defineProperty({}, 32773, new Float32Array([r, g, b, a])));\n  },\n  blendEquation: function blendEquation(update, mode) {\n    var _update9;\n\n    return update((_update9 = {}, _defineProperty(_update9, 32777, mode), _defineProperty(_update9, 34877, mode), _update9));\n  },\n  blendEquationSeparate: function blendEquationSeparate(update, modeRGB, modeAlpha) {\n    var _update10;\n\n    return update((_update10 = {}, _defineProperty(_update10, 32777, modeRGB), _defineProperty(_update10, 34877, modeAlpha), _update10));\n  },\n  blendFunc: function blendFunc(update, src, dst) {\n    var _update11;\n\n    return update((_update11 = {}, _defineProperty(_update11, 32969, src), _defineProperty(_update11, 32968, dst), _defineProperty(_update11, 32971, src), _defineProperty(_update11, 32970, dst), _update11));\n  },\n  blendFuncSeparate: function blendFuncSeparate(update, srcRGB, dstRGB, srcAlpha, dstAlpha) {\n    var _update12;\n\n    return update((_update12 = {}, _defineProperty(_update12, 32969, srcRGB), _defineProperty(_update12, 32968, dstRGB), _defineProperty(_update12, 32971, srcAlpha), _defineProperty(_update12, 32970, dstAlpha), _update12));\n  },\n  clearColor: function clearColor(update, r, g, b, a) {\n    return update(_defineProperty({}, 3106, new Float32Array([r, g, b, a])));\n  },\n  clearDepth: function clearDepth(update, depth) {\n    return update(_defineProperty({}, 2931, depth));\n  },\n  clearStencil: function clearStencil(update, s) {\n    return update(_defineProperty({}, 2961, s));\n  },\n  colorMask: function colorMask(update, r, g, b, a) {\n    return update(_defineProperty({}, 3107, [r, g, b, a]));\n  },\n  cullFace: function cullFace(update, mode) {\n    return update(_defineProperty({}, 2885, mode));\n  },\n  depthFunc: function depthFunc(update, func) {\n    return update(_defineProperty({}, 2932, func));\n  },\n  depthRange: function depthRange(update, zNear, zFar) {\n    return update(_defineProperty({}, 2928, new Float32Array([zNear, zFar])));\n  },\n  depthMask: function depthMask(update, mask) {\n    return update(_defineProperty({}, 2930, mask));\n  },\n  frontFace: function frontFace(update, face) {\n    return update(_defineProperty({}, 2886, face));\n  },\n  lineWidth: function lineWidth(update, width) {\n    return update(_defineProperty({}, 2849, width));\n  },\n  polygonOffset: function polygonOffset(update, factor, units) {\n    var _update23;\n\n    return update((_update23 = {}, _defineProperty(_update23, 32824, factor), _defineProperty(_update23, 10752, units), _update23));\n  },\n  sampleCoverage: function sampleCoverage(update, value, invert) {\n    var _update24;\n\n    return update((_update24 = {}, _defineProperty(_update24, 32938, value), _defineProperty(_update24, 32939, invert), _update24));\n  },\n  scissor: function scissor(update, x, y, width, height) {\n    return update(_defineProperty({}, 3088, new Int32Array([x, y, width, height])));\n  },\n  stencilMask: function stencilMask(update, mask) {\n    var _update26;\n\n    return update((_update26 = {}, _defineProperty(_update26, 2968, mask), _defineProperty(_update26, 36005, mask), _update26));\n  },\n  stencilMaskSeparate: function stencilMaskSeparate(update, face, mask) {\n    return update(_defineProperty({}, face === 1028 ? 2968 : 36005, mask));\n  },\n  stencilFunc: function stencilFunc(update, func, ref, mask) {\n    var _update28;\n\n    return update((_update28 = {}, _defineProperty(_update28, 2962, func), _defineProperty(_update28, 2967, ref), _defineProperty(_update28, 2963, mask), _defineProperty(_update28, 34816, func), _defineProperty(_update28, 36003, ref), _defineProperty(_update28, 36004, mask), _update28));\n  },\n  stencilFuncSeparate: function stencilFuncSeparate(update, face, func, ref, mask) {\n    var _update29;\n\n    return update((_update29 = {}, _defineProperty(_update29, face === 1028 ? 2962 : 34816, func), _defineProperty(_update29, face === 1028 ? 2967 : 36003, ref), _defineProperty(_update29, face === 1028 ? 2963 : 36004, mask), _update29));\n  },\n  stencilOp: function stencilOp(update, fail, zfail, zpass) {\n    var _update30;\n\n    return update((_update30 = {}, _defineProperty(_update30, 2964, fail), _defineProperty(_update30, 2965, zfail), _defineProperty(_update30, 2966, zpass), _defineProperty(_update30, 34817, fail), _defineProperty(_update30, 34818, zfail), _defineProperty(_update30, 34819, zpass), _update30));\n  },\n  stencilOpSeparate: function stencilOpSeparate(update, face, fail, zfail, zpass) {\n    var _update31;\n\n    return update((_update31 = {}, _defineProperty(_update31, face === 1028 ? 2964 : 34817, fail), _defineProperty(_update31, face === 1028 ? 2965 : 34818, zfail), _defineProperty(_update31, face === 1028 ? 2966 : 34819, zpass), _update31));\n  },\n  viewport: function viewport(update, x, y, width, height) {\n    return update(_defineProperty({}, 2978, [x, y, width, height]));\n  }\n};\n\nvar isEnabled = function isEnabled(gl, key) {\n  return gl.isEnabled(key);\n};\n\nexport var GL_PARAMETER_GETTERS = (_GL_PARAMETER_GETTERS = {}, _defineProperty(_GL_PARAMETER_GETTERS, 3042, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 2884, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 2929, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 3024, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 32823, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 32926, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 32928, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 3089, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 2960, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 35977, isEnabled), _GL_PARAMETER_GETTERS);","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { polyfillVertexArrayObject } from './polyfill-vertex-array-object';\nimport { assert } from '../utils/assert';\nimport { WEBGL2_CONTEXT_POLYFILLS, WEBGL2_CONTEXT_OVERRIDES } from './polyfill-table';\nexport function polyfillContext(gl) {\n  gl.luma = gl.luma || {};\n  var luma = gl.luma;\n\n  if (!luma.polyfilled) {\n    polyfillVertexArrayObject(gl);\n    initializeExtensions(gl);\n    installPolyfills(gl, WEBGL2_CONTEXT_POLYFILLS);\n    installOverrides(gl, {\n      target: luma,\n      target2: gl\n    });\n    luma.polyfilled = true;\n  }\n\n  return gl;\n}\nvar global_ = typeof global !== 'undefined' ? global : window;\nglobal_.polyfillContext = polyfillContext;\n\nfunction initializeExtensions(gl) {\n  gl.luma.extensions = {};\n  var EXTENSIONS = gl.getSupportedExtensions() || [];\n\n  var _iterator = _createForOfIteratorHelper(EXTENSIONS),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var extension = _step.value;\n      gl.luma[extension] = gl.getExtension(extension);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction installOverrides(gl, _ref) {\n  var target = _ref.target,\n      target2 = _ref.target2;\n  Object.keys(WEBGL2_CONTEXT_OVERRIDES).forEach(function (key) {\n    if (typeof WEBGL2_CONTEXT_OVERRIDES[key] === 'function') {\n      var originalFunc = gl[key] ? gl[key].bind(gl) : function () {};\n      var polyfill = WEBGL2_CONTEXT_OVERRIDES[key].bind(null, gl, originalFunc);\n      target[key] = polyfill;\n      target2[key] = polyfill;\n    }\n  });\n}\n\nfunction installPolyfills(gl, polyfills) {\n  var _iterator2 = _createForOfIteratorHelper(Object.getOwnPropertyNames(polyfills)),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var extension = _step2.value;\n\n      if (extension !== 'overrides') {\n        polyfillExtension(gl, {\n          extension: extension,\n          target: gl.luma,\n          target2: gl\n        });\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\n\nfunction polyfillExtension(gl, _ref2) {\n  var extension = _ref2.extension,\n      target = _ref2.target,\n      target2 = _ref2.target2;\n  var defaults = WEBGL2_CONTEXT_POLYFILLS[extension];\n  assert(defaults);\n  var _defaults$meta = defaults.meta,\n      meta = _defaults$meta === void 0 ? {} : _defaults$meta;\n  var _meta$suffix = meta.suffix,\n      suffix = _meta$suffix === void 0 ? '' : _meta$suffix;\n  var ext = gl.getExtension(extension);\n\n  var _loop = function _loop() {\n    var key = _Object$keys[_i];\n    var extKey = \"\".concat(key).concat(suffix);\n    var polyfill = null;\n\n    if (key === 'meta') {} else if (typeof gl[key] === 'function') {} else if (ext && typeof ext[extKey] === 'function') {\n      polyfill = function polyfill() {\n        return ext[extKey].apply(ext, arguments);\n      };\n    } else if (typeof defaults[key] === 'function') {\n      polyfill = defaults[key].bind(target);\n    }\n\n    if (polyfill) {\n      target[key] = polyfill;\n      target2[key] = polyfill;\n    }\n  };\n\n  for (var _i = 0, _Object$keys = Object.keys(defaults); _i < _Object$keys.length; _i++) {\n    _loop();\n  }\n}","export function isObjectEmpty(object) {\n  for (var key in object) {\n    return false;\n  }\n\n  return true;\n}\nexport function deepArrayEqual(x, y) {\n  if (x === y) {\n    return true;\n  }\n\n  var isArrayX = Array.isArray(x) || ArrayBuffer.isView(x);\n  var isArrayY = Array.isArray(y) || ArrayBuffer.isView(y);\n\n  if (isArrayX && isArrayY && x.length === y.length) {\n    for (var i = 0; i < x.length; ++i) {\n      if (x[i] !== y[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { GL_PARAMETER_DEFAULTS, GL_HOOKED_SETTERS } from './webgl-parameter-tables';\nimport { setParameters, getParameters } from './unified-parameter-api';\nimport { assert } from '../utils/assert';\nimport { deepArrayEqual } from '../utils/utils';\n\nfunction installGetterOverride(gl, functionName) {\n  var originalGetterFunc = gl[functionName].bind(gl);\n\n  gl[functionName] = function get() {\n    var pname = arguments.length <= 0 ? undefined : arguments[0];\n\n    if (!(pname in gl.state.cache)) {\n      return originalGetterFunc.apply(void 0, arguments);\n    }\n\n    return gl.state.enable ? gl.state.cache[pname] : originalGetterFunc.apply(void 0, arguments);\n  };\n\n  Object.defineProperty(gl[functionName], 'name', {\n    value: \"\".concat(functionName, \"-from-cache\"),\n    configurable: false\n  });\n}\n\nfunction installSetterSpy(gl, functionName, setter) {\n  var originalSetterFunc = gl[functionName].bind(gl);\n\n  gl[functionName] = function set() {\n    for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n      params[_key] = arguments[_key];\n    }\n\n    var _setter = setter.apply(void 0, [gl.state._updateCache].concat(params)),\n        valueChanged = _setter.valueChanged,\n        oldValue = _setter.oldValue;\n\n    if (valueChanged) {\n      originalSetterFunc.apply(void 0, params);\n    }\n\n    return oldValue;\n  };\n\n  Object.defineProperty(gl[functionName], 'name', {\n    value: \"\".concat(functionName, \"-to-cache\"),\n    configurable: false\n  });\n}\n\nfunction installProgramSpy(gl) {\n  var originalUseProgram = gl.useProgram.bind(gl);\n\n  gl.useProgram = function useProgramLuma(handle) {\n    if (gl.state.program !== handle) {\n      originalUseProgram(handle);\n      gl.state.program = handle;\n    }\n  };\n}\n\nvar GLState = /*#__PURE__*/function () {\n  function GLState(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$copyState = _ref.copyState,\n        copyState = _ref$copyState === void 0 ? false : _ref$copyState,\n        _ref$log = _ref.log,\n        log = _ref$log === void 0 ? function () {} : _ref$log;\n\n    _classCallCheck(this, GLState);\n\n    this.gl = gl;\n    this.program = null;\n    this.stateStack = [];\n    this.enable = true;\n    this.cache = copyState ? getParameters(gl) : Object.assign({}, GL_PARAMETER_DEFAULTS);\n    this.log = log;\n    this._updateCache = this._updateCache.bind(this);\n    Object.seal(this);\n  }\n\n  _createClass(GLState, [{\n    key: \"push\",\n    value: function push() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.stateStack.push({});\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      assert(this.stateStack.length > 0);\n      var oldValues = this.stateStack[this.stateStack.length - 1];\n      setParameters(this.gl, oldValues);\n      this.stateStack.pop();\n    }\n  }, {\n    key: \"_updateCache\",\n    value: function _updateCache(values) {\n      var valueChanged = false;\n      var oldValue;\n      var oldValues = this.stateStack.length > 0 && this.stateStack[this.stateStack.length - 1];\n\n      for (var key in values) {\n        assert(key !== undefined);\n        var value = values[key];\n        var cached = this.cache[key];\n\n        if (!deepArrayEqual(value, cached)) {\n          valueChanged = true;\n          oldValue = cached;\n\n          if (oldValues && !(key in oldValues)) {\n            oldValues[key] = cached;\n          }\n\n          this.cache[key] = value;\n        }\n      }\n\n      return {\n        valueChanged: valueChanged,\n        oldValue: oldValue\n      };\n    }\n  }]);\n\n  return GLState;\n}();\n\nexport function trackContextState(gl) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$enable = options.enable,\n      enable = _options$enable === void 0 ? true : _options$enable,\n      copyState = options.copyState;\n  assert(copyState !== undefined);\n\n  if (!gl.state) {\n    var global_ = typeof global !== 'undefined' ? global : window;\n    var polyfillContext = global_.polyfillContext;\n\n    if (polyfillContext) {\n      polyfillContext(gl);\n    }\n\n    gl.state = new GLState(gl, {\n      copyState: copyState\n    });\n    installProgramSpy(gl);\n\n    for (var key in GL_HOOKED_SETTERS) {\n      var setter = GL_HOOKED_SETTERS[key];\n      installSetterSpy(gl, key, setter);\n    }\n\n    installGetterOverride(gl, 'getParameter');\n    installGetterOverride(gl, 'isEnabled');\n  }\n\n  gl.state.enable = enable;\n  return gl;\n}\nexport function pushContextState(gl) {\n  if (!gl.state) {\n    trackContextState(gl, {\n      copyState: false\n    });\n  }\n\n  gl.state.push();\n}\nexport function popContextState(gl) {\n  assert(gl.state);\n  gl.state.pop();\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { GL_PARAMETER_DEFAULTS, GL_PARAMETER_SETTERS, GL_COMPOSITE_PARAMETER_SETTERS, GL_PARAMETER_GETTERS } from './webgl-parameter-tables';\nimport { pushContextState, popContextState } from './track-context-state';\nimport { assert } from '../utils/assert';\nimport { isWebGL } from '../utils/webgl-checks';\nimport { isObjectEmpty } from '../utils/utils';\nexport function setParameters(gl, values) {\n  assert(isWebGL(gl), 'setParameters requires a WebGL context');\n\n  if (isObjectEmpty(values)) {\n    return;\n  }\n\n  var compositeSetters = {};\n\n  for (var key in values) {\n    var glConstant = Number(key);\n    var setter = GL_PARAMETER_SETTERS[key];\n\n    if (setter) {\n      if (typeof setter === 'string') {\n        compositeSetters[setter] = true;\n      } else {\n        setter(gl, values[key], glConstant);\n      }\n    }\n  }\n\n  var cache = gl.state && gl.state.cache;\n\n  if (cache) {\n    for (var _key in compositeSetters) {\n      var compositeSetter = GL_COMPOSITE_PARAMETER_SETTERS[_key];\n      compositeSetter(gl, values, cache);\n    }\n  }\n}\nexport function getParameters(gl, parameters) {\n  parameters = parameters || GL_PARAMETER_DEFAULTS;\n\n  if (typeof parameters === 'number') {\n    var key = parameters;\n    var getter = GL_PARAMETER_GETTERS[key];\n    return getter ? getter(gl, key) : gl.getParameter(key);\n  }\n\n  var parameterKeys = Array.isArray(parameters) ? parameters : Object.keys(parameters);\n  var state = {};\n\n  var _iterator = _createForOfIteratorHelper(parameterKeys),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _key2 = _step.value;\n      var _getter = GL_PARAMETER_GETTERS[_key2];\n      state[_key2] = _getter ? _getter(gl, Number(_key2)) : gl.getParameter(Number(_key2));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return state;\n}\nexport function resetParameters(gl) {\n  setParameters(gl, GL_PARAMETER_DEFAULTS);\n}\nexport function withParameters(gl, parameters, func) {\n  if (isObjectEmpty(parameters)) {\n    return func(gl);\n  }\n\n  var _parameters$nocatch = parameters.nocatch,\n      nocatch = _parameters$nocatch === void 0 ? true : _parameters$nocatch;\n  pushContextState(gl);\n  setParameters(gl, parameters);\n  var value;\n\n  if (nocatch) {\n    value = func(gl);\n    popContextState(gl);\n  } else {\n    try {\n      value = func(gl);\n    } finally {\n      popContextState(gl);\n    }\n  }\n\n  return value;\n}","export function cssToDeviceRatio(gl) {\n  var luma = gl.luma;\n\n  if (gl.canvas && luma) {\n    var clientWidth = luma.canvasSizeInfo.clientWidth;\n    return clientWidth ? gl.drawingBufferWidth / clientWidth : 1;\n  }\n\n  return 1;\n}\nexport function cssToDevicePixels(gl, cssPixel) {\n  var yInvert = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var ratio = cssToDeviceRatio(gl);\n  var width = gl.drawingBufferWidth;\n  var height = gl.drawingBufferHeight;\n  return scalePixels(cssPixel, ratio, width, height, yInvert);\n}\nexport function getDevicePixelRatio(useDevicePixels) {\n  var windowRatio = typeof window === 'undefined' ? 1 : window.devicePixelRatio || 1;\n\n  if (Number.isFinite(useDevicePixels)) {\n    return useDevicePixels <= 0 ? 1 : useDevicePixels;\n  }\n\n  return useDevicePixels ? windowRatio : 1;\n}\n\nfunction scalePixels(pixel, ratio, width, height, yInvert) {\n  var x = scaleX(pixel[0], ratio, width);\n  var y = scaleY(pixel[1], ratio, height, yInvert);\n  var t = scaleX(pixel[0] + 1, ratio, width);\n  var xHigh = t === width - 1 ? t : t - 1;\n  t = scaleY(pixel[1] + 1, ratio, height, yInvert);\n  var yHigh;\n\n  if (yInvert) {\n    t = t === 0 ? t : t + 1;\n    yHigh = y;\n    y = t;\n  } else {\n    yHigh = t === height - 1 ? t : t - 1;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: Math.max(xHigh - x + 1, 1),\n    height: Math.max(yHigh - y + 1, 1)\n  };\n}\n\nfunction scaleX(x, ratio, width) {\n  var r = Math.min(Math.round(x * ratio), width - 1);\n  return r;\n}\n\nfunction scaleY(y, ratio, height, yInvert) {\n  return yInvert ? Math.max(0, height - 1 - Math.round(y * ratio)) : Math.min(Math.round(y * ratio), height - 1);\n}","import { global, isBrowser as getIsBrowser } from 'probe.gl/env';\nimport { trackContextState } from '../state-tracker/track-context-state';\nimport { log as _log } from '../utils/log';\nimport { assert } from '../utils/assert';\nimport { getDevicePixelRatio } from '../utils/device-pixels';\nimport { isWebGL2 } from '../utils/webgl-checks';\nvar isBrowser = getIsBrowser();\nvar isPage = isBrowser && typeof document !== 'undefined';\nvar CONTEXT_DEFAULTS = {\n  webgl2: true,\n  webgl1: true,\n  throwOnError: true,\n  manageState: true,\n  canvas: null,\n  debug: false,\n  width: 800,\n  height: 600\n};\nexport function createGLContext() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  assert(isBrowser, \"createGLContext only available in the browser.\\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils\");\n  options = Object.assign({}, CONTEXT_DEFAULTS, options);\n  var _options = options,\n      width = _options.width,\n      height = _options.height;\n\n  function onError(message) {\n    if (options.throwOnError) {\n      throw new Error(message);\n    }\n\n    console.error(message);\n    return null;\n  }\n\n  options.onError = onError;\n  var gl;\n  var _options2 = options,\n      canvas = _options2.canvas;\n  var targetCanvas = getCanvas({\n    canvas: canvas,\n    width: width,\n    height: height,\n    onError: onError\n  });\n  gl = createBrowserContext(targetCanvas, options);\n\n  if (!gl) {\n    return null;\n  }\n\n  gl = instrumentGLContext(gl, options);\n  logInfo(gl);\n  return gl;\n}\nexport function instrumentGLContext(gl) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!gl || gl._instrumented) {\n    return gl;\n  }\n\n  gl._version = gl._version || getVersion(gl);\n  gl.luma = gl.luma || {};\n  gl.luma.canvasSizeInfo = gl.luma.canvasSizeInfo || {};\n  options = Object.assign({}, CONTEXT_DEFAULTS, options);\n  var _options3 = options,\n      manageState = _options3.manageState,\n      debug = _options3.debug;\n\n  if (manageState) {\n    trackContextState(gl, {\n      copyState: false,\n      log: function log() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _log.log.apply(_log, [1].concat(args))();\n      }\n    });\n  }\n\n  if (isBrowser && debug) {\n    if (!global.makeDebugContext) {\n      _log.warn('WebGL debug mode not activated. import \"@luma.gl/debug\" to enable.')();\n    } else {\n      gl = global.makeDebugContext(gl, options);\n      _log.level = Math.max(_log.level, 1);\n    }\n  }\n\n  gl._instrumented = true;\n  return gl;\n}\nexport function getContextDebugInfo(gl) {\n  var vendorMasked = gl.getParameter(7936);\n  var rendererMasked = gl.getParameter(7937);\n  var ext = gl.getExtension('WEBGL_debug_renderer_info');\n  var vendorUnmasked = ext && gl.getParameter(ext.UNMASKED_VENDOR_WEBGL || 7936);\n  var rendererUnmasked = ext && gl.getParameter(ext.UNMASKED_RENDERER_WEBGL || 7937);\n  return {\n    vendor: vendorUnmasked || vendorMasked,\n    renderer: rendererUnmasked || rendererMasked,\n    vendorMasked: vendorMasked,\n    rendererMasked: rendererMasked,\n    version: gl.getParameter(7938),\n    shadingLanguageVersion: gl.getParameter(35724)\n  };\n}\nexport function resizeGLContext(gl) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (gl.canvas) {\n    var devicePixelRatio = getDevicePixelRatio(options.useDevicePixels);\n    setDevicePixelRatio(gl, devicePixelRatio, options);\n    return;\n  }\n\n  var ext = gl.getExtension('STACKGL_resize_drawingbuffer');\n\n  if (ext && \"width\" in options && \"height\" in options) {\n    ext.resize(options.width, options.height);\n  }\n}\n\nfunction createBrowserContext(canvas, options) {\n  var onError = options.onError;\n  var errorMessage = null;\n\n  var onCreateError = function onCreateError(error) {\n    return errorMessage = error.statusMessage || errorMessage;\n  };\n\n  canvas.addEventListener('webglcontextcreationerror', onCreateError, false);\n  var _options$webgl = options.webgl1,\n      webgl1 = _options$webgl === void 0 ? true : _options$webgl,\n      _options$webgl2 = options.webgl2,\n      webgl2 = _options$webgl2 === void 0 ? true : _options$webgl2;\n  var gl = null;\n\n  if (webgl2) {\n    gl = gl || canvas.getContext('webgl2', options);\n    gl = gl || canvas.getContext('experimental-webgl2', options);\n  }\n\n  if (webgl1) {\n    gl = gl || canvas.getContext('webgl', options);\n    gl = gl || canvas.getContext('experimental-webgl', options);\n  }\n\n  canvas.removeEventListener('webglcontextcreationerror', onCreateError, false);\n\n  if (!gl) {\n    return onError(\"Failed to create \".concat(webgl2 && !webgl1 ? 'WebGL2' : 'WebGL', \" context: \").concat(errorMessage || 'Unknown error'));\n  }\n\n  if (options.onContextLost) {\n    canvas.addEventListener('webglcontextlost', options.onContextLost, false);\n  }\n\n  if (options.onContextRestored) {\n    canvas.addEventListener('webglcontextrestored', options.onContextRestored, false);\n  }\n\n  return gl;\n}\n\nfunction getCanvas(_ref) {\n  var canvas = _ref.canvas,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 800 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 600 : _ref$height,\n      onError = _ref.onError;\n  var targetCanvas;\n\n  if (typeof canvas === 'string') {\n    var isPageLoaded = isPage && document.readyState === 'complete';\n\n    if (!isPageLoaded) {\n      onError(\"createGLContext called on canvas '\".concat(canvas, \"' before page was loaded\"));\n    }\n\n    targetCanvas = document.getElementById(canvas);\n  } else if (canvas) {\n    targetCanvas = canvas;\n  } else {\n    targetCanvas = document.createElement('canvas');\n    targetCanvas.id = 'lumagl-canvas';\n    targetCanvas.style.width = Number.isFinite(width) ? \"\".concat(width, \"px\") : '100%';\n    targetCanvas.style.height = Number.isFinite(height) ? \"\".concat(height, \"px\") : '100%';\n    document.body.insertBefore(targetCanvas, document.body.firstChild);\n  }\n\n  return targetCanvas;\n}\n\nfunction logInfo(gl) {\n  var webGL = isWebGL2(gl) ? 'WebGL2' : 'WebGL1';\n  var info = getContextDebugInfo(gl);\n  var driver = info ? \"(\".concat(info.vendor, \",\").concat(info.renderer, \")\") : '';\n  var debug = gl.debug ? ' debug' : '';\n\n  _log.info(1, \"\".concat(webGL).concat(debug, \" context \").concat(driver))();\n}\n\nfunction getVersion(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return 2;\n  }\n\n  return 1;\n}\n\nfunction setDevicePixelRatio(gl, devicePixelRatio, options) {\n  var clientWidth = 'width' in options ? options.width : gl.canvas.clientWidth;\n  var clientHeight = 'height' in options ? options.height : gl.canvas.clientHeight;\n\n  if (!clientWidth || !clientHeight) {\n    _log.log(1, 'Canvas clientWidth/clientHeight is 0')();\n\n    devicePixelRatio = 1;\n    clientWidth = gl.canvas.width || 1;\n    clientHeight = gl.canvas.height || 1;\n  }\n\n  gl.luma = gl.luma || {};\n  gl.luma.canvasSizeInfo = gl.luma.canvasSizeInfo || {};\n  var cachedSize = gl.luma.canvasSizeInfo;\n\n  if (cachedSize.clientWidth !== clientWidth || cachedSize.clientHeight !== clientHeight || cachedSize.devicePixelRatio !== devicePixelRatio) {\n    var clampedPixelRatio = devicePixelRatio;\n    var canvasWidth = Math.floor(clientWidth * clampedPixelRatio);\n    var canvasHeight = Math.floor(clientHeight * clampedPixelRatio);\n    gl.canvas.width = canvasWidth;\n    gl.canvas.height = canvasHeight;\n\n    if (gl.drawingBufferWidth !== canvasWidth || gl.drawingBufferHeight !== canvasHeight) {\n      _log.warn(\"Device pixel ratio clamped\")();\n\n      clampedPixelRatio = Math.min(gl.drawingBufferWidth / clientWidth, gl.drawingBufferHeight / clientHeight);\n      gl.canvas.width = Math.floor(clientWidth * clampedPixelRatio);\n      gl.canvas.height = Math.floor(clientHeight * clampedPixelRatio);\n    }\n\n    Object.assign(gl.luma.canvasSizeInfo, {\n      clientWidth: clientWidth,\n      clientHeight: clientHeight,\n      devicePixelRatio: devicePixelRatio\n    });\n  }\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { log } from '@luma.gl/gltools';\nimport { Stats } from 'probe.gl';\nimport { isBrowser, global } from 'probe.gl/env';\nvar VERSION = typeof \"8.5.10\" !== 'undefined' ? \"8.5.10\" : 'untranspiled source';\nvar STARTUP_MESSAGE = 'set luma.log.level=1 (or higher) to trace rendering';\n\nvar StatsManager = /*#__PURE__*/function () {\n  function StatsManager() {\n    _classCallCheck(this, StatsManager);\n\n    this.stats = new Map();\n  }\n\n  _createClass(StatsManager, [{\n    key: \"get\",\n    value: function get(name) {\n      if (!this.stats.has(name)) {\n        this.stats.set(name, new Stats({\n          id: name\n        }));\n      }\n\n      return this.stats.get(name);\n    }\n  }]);\n\n  return StatsManager;\n}();\n\nvar lumaStats = new StatsManager();\n\nif (global.luma && global.luma.VERSION !== VERSION) {\n  throw new Error(\"luma.gl - multiple VERSIONs detected: \".concat(global.luma.VERSION, \" vs \").concat(VERSION));\n}\n\nif (!global.luma) {\n  if (isBrowser()) {\n    log.log(1, \"luma.gl \".concat(VERSION, \" - \").concat(STARTUP_MESSAGE))();\n  }\n\n  global.luma = global.luma || {\n    VERSION: VERSION,\n    version: VERSION,\n    log: log,\n    stats: lumaStats,\n    globals: {\n      modules: {},\n      nodeIO: {}\n    }\n  };\n}\n\nexport { lumaStats };\nexport default global.luma;","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'luma.gl: assertion failed.');\n  }\n}","import { assert } from '../utils/assert';\nexport function getKeyValue(gl, name) {\n  if (typeof name !== 'string') {\n    return name;\n  }\n\n  var number = Number(name);\n\n  if (!isNaN(number)) {\n    return number;\n  }\n\n  name = name.replace(/^.*\\./, '');\n  var value = gl[name];\n  assert(value !== undefined, \"Accessing undefined constant GL.\".concat(name));\n  return value;\n}\nexport function getKey(gl, value) {\n  value = Number(value);\n\n  for (var key in gl) {\n    if (gl[key] === value) {\n      return \"GL.\".concat(key);\n    }\n  }\n\n  return String(value);\n}\nexport function getKeyType(gl, value) {\n  assert(value !== undefined, 'undefined key');\n  value = Number(value);\n\n  for (var key in gl) {\n    if (gl[key] === value) {\n      return \"GL.\".concat(key);\n    }\n  }\n\n  return String(value);\n}","import { assert } from './assert';\nvar uidCounters = {};\nexport function uid() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'id';\n  uidCounters[id] = uidCounters[id] || 1;\n  var count = uidCounters[id]++;\n  return \"\".concat(id, \"-\").concat(count);\n}\nexport function isPowerOfTwo(n) {\n  assert(typeof n === 'number', 'Input must be a number');\n  return n && (n & n - 1) === 0;\n}\nexport function isObjectEmpty(obj) {\n  var isEmpty = true;\n\n  for (var key in obj) {\n    isEmpty = false;\n    break;\n  }\n\n  return isEmpty;\n}","import { log } from '@luma.gl/gltools';\nexport function stubRemovedMethods(instance, className, version, methodNames) {\n  var upgradeMessage = \"See luma.gl \".concat(version, \" Upgrade Guide at https://luma.gl/docs/upgrade-guide\");\n  var prototype = Object.getPrototypeOf(instance);\n  methodNames.forEach(function (methodName) {\n    if (prototype.methodName) {\n      return;\n    }\n\n    prototype[methodName] = function () {\n      log.removed(\"Calling removed method \".concat(className, \".\").concat(methodName, \": \"), upgradeMessage)();\n      throw new Error(methodName);\n    };\n  });\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { isWebGL2, assertWebGLContext } from '@luma.gl/gltools';\nimport { lumaStats } from '../init';\nimport { getKey, getKeyValue } from '../webgl-utils/constants-to-keys';\nimport { assert } from '../utils/assert';\nimport { uid } from '../utils/utils';\nimport { stubRemovedMethods as _stubRemovedMethods } from '../utils/stub-methods';\nvar ERR_RESOURCE_METHOD_UNDEFINED = 'Resource subclass must define virtual methods';\n\nvar Resource = /*#__PURE__*/function () {\n  function Resource(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Resource);\n\n    assertWebGLContext(gl);\n    var id = opts.id,\n        _opts$userData = opts.userData,\n        userData = _opts$userData === void 0 ? {} : _opts$userData;\n    this.gl = gl;\n    this.gl2 = gl;\n    this.id = id || uid(this.constructor.name);\n    this.userData = userData;\n    this._bound = false;\n    this._handle = opts.handle;\n\n    if (this._handle === undefined) {\n      this._handle = this._createHandle();\n    }\n\n    this.byteLength = 0;\n\n    this._addStats();\n  }\n\n  _createClass(Resource, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.constructor.name, \"(\").concat(this.id, \")\");\n    }\n  }, {\n    key: \"handle\",\n    get: function get() {\n      return this._handle;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$deleteChildren = _ref.deleteChildren,\n          deleteChildren = _ref$deleteChildren === void 0 ? false : _ref$deleteChildren;\n\n      var children = this._handle && this._deleteHandle(this._handle);\n\n      if (this._handle) {\n        this._removeStats();\n      }\n\n      this._handle = null;\n\n      if (children && deleteChildren) {\n        children.filter(Boolean).forEach(function (child) {\n          return child.delete();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var funcOrHandle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.handle;\n\n      if (typeof funcOrHandle !== 'function') {\n        this._bindHandle(funcOrHandle);\n\n        return this;\n      }\n\n      var value;\n\n      if (!this._bound) {\n        this._bindHandle(this.handle);\n\n        this._bound = true;\n        value = funcOrHandle();\n        this._bound = false;\n\n        this._bindHandle(null);\n      } else {\n        value = funcOrHandle();\n      }\n\n      return value;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      this.bind(null);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      pname = getKeyValue(this.gl, pname);\n      assert(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = isWebGL2(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          var webgl1Default = parameter.webgl1;\n          var webgl2Default = 'webgl2' in parameter ? parameter.webgl2 : parameter.webgl1;\n          var defaultValue = isWebgl2 ? webgl2Default : webgl1Default;\n          return defaultValue;\n        }\n      }\n\n      return this._getParameter(pname, opts);\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var parameters = options.parameters,\n          keys = options.keys;\n      var PARAMETERS = this.constructor.PARAMETERS || {};\n      var isWebgl2 = isWebGL2(this.gl);\n      var values = {};\n      var parameterKeys = parameters || Object.keys(PARAMETERS);\n\n      var _iterator = _createForOfIteratorHelper(parameterKeys),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var pname = _step.value;\n          var parameter = PARAMETERS[pname];\n          var parameterAvailable = parameter && (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n          if (parameterAvailable) {\n            var key = keys ? getKey(this.gl, pname) : pname;\n            values[key] = this.getParameter(pname, options);\n\n            if (keys && parameter.type === 'GLenum') {\n              values[key] = getKey(this.gl, values[key]);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return values;\n    }\n  }, {\n    key: \"setParameter\",\n    value: function setParameter(pname, value) {\n      pname = getKeyValue(this.gl, pname);\n      assert(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = isWebGL2(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          throw new Error('Parameter not available on this platform');\n        }\n\n        if (parameter.type === 'GLenum') {\n          value = getKeyValue(value);\n        }\n      }\n\n      this._setParameter(pname, value);\n\n      return this;\n    }\n  }, {\n    key: \"setParameters\",\n    value: function setParameters(parameters) {\n      for (var pname in parameters) {\n        this.setParameter(pname, parameters[pname]);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"stubRemovedMethods\",\n    value: function stubRemovedMethods(className, version, methodNames) {\n      return _stubRemovedMethods(this, className, version, methodNames);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(opts) {}\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, opts) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, value) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_context\",\n    value: function _context() {\n      this.gl.luma = this.gl.luma || {};\n      return this.gl.luma;\n    }\n  }, {\n    key: \"_addStats\",\n    value: function _addStats() {\n      var name = this.constructor.name;\n      var stats = lumaStats.get('Resource Counts');\n      stats.get('Resources Created').incrementCount();\n      stats.get(\"\".concat(name, \"s Created\")).incrementCount();\n      stats.get(\"\".concat(name, \"s Active\")).incrementCount();\n    }\n  }, {\n    key: \"_removeStats\",\n    value: function _removeStats() {\n      var name = this.constructor.name;\n      var stats = lumaStats.get('Resource Counts');\n      stats.get(\"\".concat(name, \"s Active\")).decrementCount();\n    }\n  }, {\n    key: \"_trackAllocatedMemory\",\n    value: function _trackAllocatedMemory(bytes) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.constructor.name;\n      var stats = lumaStats.get('Memory Usage');\n      stats.get('GPU Memory').addCount(bytes);\n      stats.get(\"\".concat(name, \" Memory\")).addCount(bytes);\n      this.byteLength = bytes;\n    }\n  }, {\n    key: \"_trackDeallocatedMemory\",\n    value: function _trackDeallocatedMemory() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.constructor.name;\n      var stats = lumaStats.get('Memory Usage');\n      stats.get('GPU Memory').subtractCount(this.byteLength);\n      stats.get(\"\".concat(name, \" Memory\")).subtractCount(this.byteLength);\n      this.byteLength = 0;\n    }\n  }]);\n\n  return Resource;\n}();\n\nexport { Resource as default };","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","var ERR_TYPE_DEDUCTION = 'Failed to deduce GL constant from typed array';\nexport function getGLTypeFromTypedArray(arrayOrType) {\n  var type = ArrayBuffer.isView(arrayOrType) ? arrayOrType.constructor : arrayOrType;\n\n  switch (type) {\n    case Float32Array:\n      return 5126;\n\n    case Uint16Array:\n      return 5123;\n\n    case Uint32Array:\n      return 5125;\n\n    case Uint8Array:\n      return 5121;\n\n    case Uint8ClampedArray:\n      return 5121;\n\n    case Int8Array:\n      return 5120;\n\n    case Int16Array:\n      return 5122;\n\n    case Int32Array:\n      return 5124;\n\n    default:\n      throw new Error(ERR_TYPE_DEDUCTION);\n  }\n}\nexport function getTypedArrayFromGLType(glType) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clamped = _ref.clamped,\n      clamped = _ref$clamped === void 0 ? true : _ref$clamped;\n\n  switch (glType) {\n    case 5126:\n      return Float32Array;\n\n    case 5123:\n    case 33635:\n    case 32819:\n    case 32820:\n      return Uint16Array;\n\n    case 5125:\n      return Uint32Array;\n\n    case 5121:\n      return clamped ? Uint8ClampedArray : Uint8Array;\n\n    case 5120:\n      return Int8Array;\n\n    case 5122:\n      return Int16Array;\n\n    case 5124:\n      return Int32Array;\n\n    default:\n      throw new Error('Failed to deduce typed array type from GL constant');\n  }\n}\nexport function flipRows(_ref2) {\n  var data = _ref2.data,\n      width = _ref2.width,\n      height = _ref2.height,\n      _ref2$bytesPerPixel = _ref2.bytesPerPixel,\n      bytesPerPixel = _ref2$bytesPerPixel === void 0 ? 4 : _ref2$bytesPerPixel,\n      temp = _ref2.temp;\n  var bytesPerRow = width * bytesPerPixel;\n  temp = temp || new Uint8Array(bytesPerRow);\n\n  for (var y = 0; y < height / 2; ++y) {\n    var topOffset = y * bytesPerRow;\n    var bottomOffset = (height - y - 1) * bytesPerRow;\n    temp.set(data.subarray(topOffset, topOffset + bytesPerRow));\n    data.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n    data.set(temp, bottomOffset);\n  }\n}\nexport function scalePixels(_ref3) {\n  var data = _ref3.data,\n      width = _ref3.width,\n      height = _ref3.height;\n  var newWidth = Math.round(width / 2);\n  var newHeight = Math.round(height / 2);\n  var newData = new Uint8Array(newWidth * newHeight * 4);\n\n  for (var y = 0; y < newHeight; y++) {\n    for (var x = 0; x < newWidth; x++) {\n      for (var c = 0; c < 4; c++) {\n        newData[(y * newWidth + x) * 4 + c] = data[(y * 2 * width + x * 2) * 4 + c];\n      }\n    }\n  }\n\n  return {\n    data: newData,\n    width: newWidth,\n    height: newHeight\n  };\n}","import { log } from '@luma.gl/gltools';\nexport function checkProps(className, props, propChecks) {\n  var _propChecks$removedPr = propChecks.removedProps,\n      removedProps = _propChecks$removedPr === void 0 ? {} : _propChecks$removedPr,\n      _propChecks$deprecate = propChecks.deprecatedProps,\n      deprecatedProps = _propChecks$deprecate === void 0 ? {} : _propChecks$deprecate,\n      _propChecks$replacedP = propChecks.replacedProps,\n      replacedProps = _propChecks$replacedP === void 0 ? {} : _propChecks$replacedP;\n\n  for (var propName in removedProps) {\n    if (propName in props) {\n      var replacementProp = removedProps[propName];\n      var replacement = replacementProp ? \"\".concat(className, \".\").concat(removedProps[propName]) : 'N/A';\n      log.removed(\"\".concat(className, \".\").concat(propName), replacement)();\n    }\n  }\n\n  for (var _propName in deprecatedProps) {\n    if (_propName in props) {\n      var _replacementProp = deprecatedProps[_propName];\n      log.deprecated(\"\".concat(className, \".\").concat(_propName), \"\".concat(className, \".\").concat(_replacementProp))();\n    }\n  }\n\n  var newProps = null;\n\n  for (var _propName2 in replacedProps) {\n    if (_propName2 in props) {\n      var _replacementProp2 = replacedProps[_propName2];\n      log.deprecated(\"\".concat(className, \".\").concat(_propName2), \"\".concat(className, \".\").concat(_replacementProp2))();\n      newProps = newProps || Object.assign({}, props);\n      newProps[_replacementProp2] = props[_propName2];\n      delete newProps[_propName2];\n    }\n  }\n\n  return newProps || props;\n}","import _construct from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/construct\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { getTypedArrayFromGLType } from '../webgl-utils/typed-array-utils';\nimport { assert } from '../utils/assert';\nimport { checkProps } from '../utils/check-props';\nvar DEFAULT_ACCESSOR_VALUES = {\n  offset: 0,\n  stride: 0,\n  type: 5126,\n  size: 1,\n  divisor: 0,\n  normalized: false,\n  integer: false\n};\nvar PROP_CHECKS = {\n  deprecatedProps: {\n    instanced: 'divisor',\n    isInstanced: 'divisor'\n  }\n};\n\nvar Accessor = /*#__PURE__*/function () {\n  function Accessor() {\n    var _this = this;\n\n    _classCallCheck(this, Accessor);\n\n    for (var _len = arguments.length, accessors = new Array(_len), _key = 0; _key < _len; _key++) {\n      accessors[_key] = arguments[_key];\n    }\n\n    accessors.forEach(function (accessor) {\n      return _this._assign(accessor);\n    });\n    Object.freeze(this);\n  }\n\n  _createClass(Accessor, [{\n    key: \"toString\",\n    value: function toString() {\n      return JSON.stringify(this);\n    }\n  }, {\n    key: \"BYTES_PER_ELEMENT\",\n    get: function get() {\n      return Accessor.getBytesPerElement(this);\n    }\n  }, {\n    key: \"BYTES_PER_VERTEX\",\n    get: function get() {\n      return Accessor.getBytesPerVertex(this);\n    }\n  }, {\n    key: \"_assign\",\n    value: function _assign() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      props = checkProps('Accessor', props, PROP_CHECKS);\n\n      if (props.type !== undefined) {\n        this.type = props.type;\n\n        if (props.type === 5124 || props.type === 5125) {\n          this.integer = true;\n        }\n      }\n\n      if (props.size !== undefined) {\n        this.size = props.size;\n      }\n\n      if (props.offset !== undefined) {\n        this.offset = props.offset;\n      }\n\n      if (props.stride !== undefined) {\n        this.stride = props.stride;\n      }\n\n      if (props.normalized !== undefined) {\n        this.normalized = props.normalized;\n      }\n\n      if (props.integer !== undefined) {\n        this.integer = props.integer;\n      }\n\n      if (props.divisor !== undefined) {\n        this.divisor = props.divisor;\n      }\n\n      if (props.buffer !== undefined) {\n        this.buffer = props.buffer;\n      }\n\n      if (props.index !== undefined) {\n        if (typeof props.index === 'boolean') {\n          this.index = props.index ? 1 : 0;\n        } else {\n          this.index = props.index;\n        }\n      }\n\n      if (props.instanced !== undefined) {\n        this.divisor = props.instanced ? 1 : 0;\n      }\n\n      if (props.isInstanced !== undefined) {\n        this.divisor = props.isInstanced ? 1 : 0;\n      }\n\n      return this;\n    }\n  }], [{\n    key: \"getBytesPerElement\",\n    value: function getBytesPerElement(accessor) {\n      var ArrayType = getTypedArrayFromGLType(accessor.type || 5126);\n      return ArrayType.BYTES_PER_ELEMENT;\n    }\n  }, {\n    key: \"getBytesPerVertex\",\n    value: function getBytesPerVertex(accessor) {\n      assert(accessor.size);\n      var ArrayType = getTypedArrayFromGLType(accessor.type || 5126);\n      return ArrayType.BYTES_PER_ELEMENT * accessor.size;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve() {\n      for (var _len2 = arguments.length, accessors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        accessors[_key2] = arguments[_key2];\n      }\n\n      return _construct(Accessor, [DEFAULT_ACCESSOR_VALUES].concat(accessors));\n    }\n  }]);\n\n  return Accessor;\n}();\n\nexport { Accessor as default };\nexport { DEFAULT_ACCESSOR_VALUES };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Resource from './resource';\nimport Accessor from './accessor';\nimport { getGLTypeFromTypedArray, getTypedArrayFromGLType } from '../webgl-utils/typed-array-utils';\nimport { assertWebGL2Context, log } from '@luma.gl/gltools';\nimport { assert } from '../utils/assert';\nimport { checkProps } from '../utils/check-props';\nvar DEBUG_DATA_LENGTH = 10;\nvar DEPRECATED_PROPS = {\n  offset: 'accessor.offset',\n  stride: 'accessor.stride',\n  type: 'accessor.type',\n  size: 'accessor.size',\n  divisor: 'accessor.divisor',\n  normalized: 'accessor.normalized',\n  integer: 'accessor.integer',\n  instanced: 'accessor.divisor',\n  isInstanced: 'accessor.divisor'\n};\nvar PROP_CHECKS_INITIALIZE = {\n  removedProps: {},\n  replacedProps: {\n    bytes: 'byteLength'\n  },\n  deprecatedProps: DEPRECATED_PROPS\n};\nvar PROP_CHECKS_SET_PROPS = {\n  removedProps: DEPRECATED_PROPS\n};\n\nvar Buffer = /*#__PURE__*/function (_Resource) {\n  _inherits(Buffer, _Resource);\n\n  var _super = _createSuper(Buffer);\n\n  function Buffer(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Buffer);\n\n    _this = _super.call(this, gl, props);\n\n    _this.stubRemovedMethods('Buffer', 'v6.0', ['layout', 'setLayout', 'getIndexedParameter']);\n\n    _this.target = props.target || (_this.gl.webgl2 ? 36662 : 34962);\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Buffer, [{\n    key: \"getElementCount\",\n    value: function getElementCount() {\n      var accessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.accessor;\n      return Math.round(this.byteLength / Accessor.getBytesPerElement(accessor));\n    }\n  }, {\n    key: \"getVertexCount\",\n    value: function getVertexCount() {\n      var accessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.accessor;\n      return Math.round(this.byteLength / Accessor.getBytesPerVertex(accessor));\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (ArrayBuffer.isView(props)) {\n        props = {\n          data: props\n        };\n      }\n\n      if (Number.isFinite(props)) {\n        props = {\n          byteLength: props\n        };\n      }\n\n      props = checkProps('Buffer', props, PROP_CHECKS_INITIALIZE);\n      this.usage = props.usage || 35044;\n      this.debugData = null;\n      this.setAccessor(Object.assign({}, props, props.accessor));\n\n      if (props.data) {\n        this._setData(props.data, props.offset, props.byteLength);\n      } else {\n        this._setByteLength(props.byteLength || 0);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      props = checkProps('Buffer', props, PROP_CHECKS_SET_PROPS);\n\n      if ('accessor' in props) {\n        this.setAccessor(props.accessor);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setAccessor\",\n    value: function setAccessor(accessor) {\n      accessor = Object.assign({}, accessor);\n      delete accessor.buffer;\n      this.accessor = new Accessor(accessor);\n      return this;\n    }\n  }, {\n    key: \"reallocate\",\n    value: function reallocate(byteLength) {\n      if (byteLength > this.byteLength) {\n        this._setByteLength(byteLength);\n\n        return true;\n      }\n\n      this.bytesUsed = byteLength;\n      return false;\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(props) {\n      return this.initialize(props);\n    }\n  }, {\n    key: \"subData\",\n    value: function subData(props) {\n      if (ArrayBuffer.isView(props)) {\n        props = {\n          data: props\n        };\n      }\n\n      var _props = props,\n          data = _props.data,\n          _props$offset = _props.offset,\n          offset = _props$offset === void 0 ? 0 : _props$offset,\n          _props$srcOffset = _props.srcOffset,\n          srcOffset = _props$srcOffset === void 0 ? 0 : _props$srcOffset;\n      var byteLength = props.byteLength || props.length;\n      assert(data);\n      var target = this.gl.webgl2 ? 36663 : this.target;\n      this.gl.bindBuffer(target, this.handle);\n\n      if (srcOffset !== 0 || byteLength !== undefined) {\n        assertWebGL2Context(this.gl);\n        this.gl.bufferSubData(this.target, offset, data, srcOffset, byteLength);\n      } else {\n        this.gl.bufferSubData(target, offset, data);\n      }\n\n      this.gl.bindBuffer(target, null);\n      this.debugData = null;\n\n      this._inferType(data);\n\n      return this;\n    }\n  }, {\n    key: \"copyData\",\n    value: function copyData(_ref) {\n      var sourceBuffer = _ref.sourceBuffer,\n          _ref$readOffset = _ref.readOffset,\n          readOffset = _ref$readOffset === void 0 ? 0 : _ref$readOffset,\n          _ref$writeOffset = _ref.writeOffset,\n          writeOffset = _ref$writeOffset === void 0 ? 0 : _ref$writeOffset,\n          size = _ref.size;\n      var gl = this.gl;\n      assertWebGL2Context(gl);\n      gl.bindBuffer(36662, sourceBuffer.handle);\n      gl.bindBuffer(36663, this.handle);\n      gl.copyBufferSubData(36662, 36663, readOffset, writeOffset, size);\n      gl.bindBuffer(36662, null);\n      gl.bindBuffer(36663, null);\n      this.debugData = null;\n      return this;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$dstData = _ref2.dstData,\n          dstData = _ref2$dstData === void 0 ? null : _ref2$dstData,\n          _ref2$srcByteOffset = _ref2.srcByteOffset,\n          srcByteOffset = _ref2$srcByteOffset === void 0 ? 0 : _ref2$srcByteOffset,\n          _ref2$dstOffset = _ref2.dstOffset,\n          dstOffset = _ref2$dstOffset === void 0 ? 0 : _ref2$dstOffset,\n          _ref2$length = _ref2.length,\n          length = _ref2$length === void 0 ? 0 : _ref2$length;\n\n      assertWebGL2Context(this.gl);\n      var ArrayType = getTypedArrayFromGLType(this.accessor.type || 5126, {\n        clamped: false\n      });\n\n      var sourceAvailableElementCount = this._getAvailableElementCount(srcByteOffset);\n\n      var dstElementOffset = dstOffset;\n      var dstAvailableElementCount;\n      var dstElementCount;\n\n      if (dstData) {\n        dstElementCount = dstData.length;\n        dstAvailableElementCount = dstElementCount - dstElementOffset;\n      } else {\n        dstAvailableElementCount = Math.min(sourceAvailableElementCount, length || sourceAvailableElementCount);\n        dstElementCount = dstElementOffset + dstAvailableElementCount;\n      }\n\n      var copyElementCount = Math.min(sourceAvailableElementCount, dstAvailableElementCount);\n      length = length || copyElementCount;\n      assert(length <= copyElementCount);\n      dstData = dstData || new ArrayType(dstElementCount);\n      this.gl.bindBuffer(36662, this.handle);\n      this.gl.getBufferSubData(36662, srcByteOffset, dstData, dstOffset, length);\n      this.gl.bindBuffer(36662, null);\n      return dstData;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$target = _ref3.target,\n          target = _ref3$target === void 0 ? this.target : _ref3$target,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? this.accessor && this.accessor.index : _ref3$index,\n          _ref3$offset = _ref3.offset,\n          offset = _ref3$offset === void 0 ? 0 : _ref3$offset,\n          size = _ref3.size;\n\n      if (target === 35345 || target === 35982) {\n        if (size !== undefined) {\n          this.gl.bindBufferRange(target, index, this.handle, offset, size);\n        } else {\n          assert(offset === 0);\n          this.gl.bindBufferBase(target, index, this.handle);\n        }\n      } else {\n        this.gl.bindBuffer(target, this.handle);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$target = _ref4.target,\n          target = _ref4$target === void 0 ? this.target : _ref4$target,\n          _ref4$index = _ref4.index,\n          index = _ref4$index === void 0 ? this.accessor && this.accessor.index : _ref4$index;\n\n      var isIndexedBuffer = target === 35345 || target === 35982;\n\n      if (isIndexedBuffer) {\n        this.gl.bindBufferBase(target, index, null);\n      } else {\n        this.gl.bindBuffer(target, null);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getDebugData\",\n    value: function getDebugData() {\n      if (!this.debugData) {\n        this.debugData = this.getData({\n          length: Math.min(DEBUG_DATA_LENGTH, this.byteLength)\n        });\n        return {\n          data: this.debugData,\n          changed: true\n        };\n      }\n\n      return {\n        data: this.debugData,\n        changed: false\n      };\n    }\n  }, {\n    key: \"invalidateDebugData\",\n    value: function invalidateDebugData() {\n      this.debugData = null;\n    }\n  }, {\n    key: \"_setData\",\n    value: function _setData(data) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var byteLength = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : data.byteLength + offset;\n      assert(ArrayBuffer.isView(data));\n\n      this._trackDeallocatedMemory();\n\n      var target = this._getTarget();\n\n      this.gl.bindBuffer(target, this.handle);\n      this.gl.bufferData(target, byteLength, this.usage);\n      this.gl.bufferSubData(target, offset, data);\n      this.gl.bindBuffer(target, null);\n      this.debugData = data.slice(0, DEBUG_DATA_LENGTH);\n      this.bytesUsed = byteLength;\n\n      this._trackAllocatedMemory(byteLength);\n\n      var type = getGLTypeFromTypedArray(data);\n      assert(type);\n      this.setAccessor(new Accessor(this.accessor, {\n        type: type\n      }));\n      return this;\n    }\n  }, {\n    key: \"_setByteLength\",\n    value: function _setByteLength(byteLength) {\n      var usage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.usage;\n      assert(byteLength >= 0);\n\n      this._trackDeallocatedMemory();\n\n      var data = byteLength;\n\n      if (byteLength === 0) {\n        data = new Float32Array(0);\n      }\n\n      var target = this._getTarget();\n\n      this.gl.bindBuffer(target, this.handle);\n      this.gl.bufferData(target, data, usage);\n      this.gl.bindBuffer(target, null);\n      this.usage = usage;\n      this.debugData = null;\n      this.bytesUsed = byteLength;\n\n      this._trackAllocatedMemory(byteLength);\n\n      return this;\n    }\n  }, {\n    key: \"_getTarget\",\n    value: function _getTarget() {\n      return this.gl.webgl2 ? 36663 : this.target;\n    }\n  }, {\n    key: \"_getAvailableElementCount\",\n    value: function _getAvailableElementCount(srcByteOffset) {\n      var ArrayType = getTypedArrayFromGLType(this.accessor.type || 5126, {\n        clamped: false\n      });\n      var sourceElementOffset = srcByteOffset / ArrayType.BYTES_PER_ELEMENT;\n      return this.getElementCount() - sourceElementOffset;\n    }\n  }, {\n    key: \"_inferType\",\n    value: function _inferType(data) {\n      if (!this.accessor.type) {\n        this.setAccessor(new Accessor(this.accessor, {\n          type: getGLTypeFromTypedArray(data)\n        }));\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createBuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteBuffer(this.handle);\n\n      this._trackDeallocatedMemory();\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      this.gl.bindBuffer(this.target, this.handle);\n      var value = this.gl.getBufferParameter(this.target, pname);\n      this.gl.bindBuffer(this.target, null);\n      return value;\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      log.deprecated('Buffer.type', 'Buffer.accessor.type')();\n      return this.accessor.type;\n    }\n  }, {\n    key: \"bytes\",\n    get: function get() {\n      log.deprecated('Buffer.bytes', 'Buffer.byteLength')();\n      return this.byteLength;\n    }\n  }, {\n    key: \"setByteLength\",\n    value: function setByteLength(byteLength) {\n      log.deprecated('setByteLength', 'reallocate')();\n      return this.reallocate(byteLength);\n    }\n  }, {\n    key: \"updateAccessor\",\n    value: function updateAccessor(opts) {\n      log.deprecated('updateAccessor(...)', 'setAccessor(new Accessor(buffer.accessor, ...)')();\n      this.accessor = new Accessor(this.accessor, opts);\n      return this;\n    }\n  }]);\n\n  return Buffer;\n}(Resource);\n\nexport { Buffer as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _TEXTURE_FORMATS, _DATA_FORMAT_CHANNELS, _TYPE_SIZES;\n\nimport { isWebGL2 } from '@luma.gl/gltools';\nexport var TEXTURE_FORMATS = (_TEXTURE_FORMATS = {}, _defineProperty(_TEXTURE_FORMATS, 6407, {\n  dataFormat: 6407,\n  types: [5121, 33635]\n}), _defineProperty(_TEXTURE_FORMATS, 6408, {\n  dataFormat: 6408,\n  types: [5121, 32819, 32820]\n}), _defineProperty(_TEXTURE_FORMATS, 6406, {\n  dataFormat: 6406,\n  types: [5121]\n}), _defineProperty(_TEXTURE_FORMATS, 6409, {\n  dataFormat: 6409,\n  types: [5121]\n}), _defineProperty(_TEXTURE_FORMATS, 6410, {\n  dataFormat: 6410,\n  types: [5121]\n}), _defineProperty(_TEXTURE_FORMATS, 33326, {\n  dataFormat: 6403,\n  types: [5126],\n  gl2: true\n}), _defineProperty(_TEXTURE_FORMATS, 33328, {\n  dataFormat: 33319,\n  types: [5126],\n  gl2: true\n}), _defineProperty(_TEXTURE_FORMATS, 34837, {\n  dataFormat: 6407,\n  types: [5126],\n  gl2: true\n}), _defineProperty(_TEXTURE_FORMATS, 34836, {\n  dataFormat: 6408,\n  types: [5126],\n  gl2: true\n}), _TEXTURE_FORMATS);\nexport var DATA_FORMAT_CHANNELS = (_DATA_FORMAT_CHANNELS = {}, _defineProperty(_DATA_FORMAT_CHANNELS, 6403, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 36244, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 33319, 2), _defineProperty(_DATA_FORMAT_CHANNELS, 33320, 2), _defineProperty(_DATA_FORMAT_CHANNELS, 6407, 3), _defineProperty(_DATA_FORMAT_CHANNELS, 36248, 3), _defineProperty(_DATA_FORMAT_CHANNELS, 6408, 4), _defineProperty(_DATA_FORMAT_CHANNELS, 36249, 4), _defineProperty(_DATA_FORMAT_CHANNELS, 6402, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 34041, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 6406, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 6409, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 6410, 2), _DATA_FORMAT_CHANNELS);\nexport var TYPE_SIZES = (_TYPE_SIZES = {}, _defineProperty(_TYPE_SIZES, 5126, 4), _defineProperty(_TYPE_SIZES, 5125, 4), _defineProperty(_TYPE_SIZES, 5124, 4), _defineProperty(_TYPE_SIZES, 5123, 2), _defineProperty(_TYPE_SIZES, 5122, 2), _defineProperty(_TYPE_SIZES, 5131, 2), _defineProperty(_TYPE_SIZES, 5120, 1), _defineProperty(_TYPE_SIZES, 5121, 1), _TYPE_SIZES);\nexport function isFormatSupported(gl, format) {\n  var info = TEXTURE_FORMATS[format];\n\n  if (!info) {\n    return false;\n  }\n\n  if (info.gl1 === undefined && info.gl2 === undefined) {\n    return true;\n  }\n\n  var value = isWebGL2(gl) ? info.gl2 || info.gl1 : info.gl1;\n  return typeof value === 'string' ? gl.getExtension(value) : value;\n}\nexport function isLinearFilteringSupported(gl, format) {\n  var info = TEXTURE_FORMATS[format];\n\n  switch (info && info.types[0]) {\n    case 5126:\n      return gl.getExtension('OES_texture_float_linear');\n\n    case 5131:\n      return gl.getExtension('OES_texture_half_float_linear');\n\n    default:\n      return true;\n  }\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { isWebGL2, assertWebGL2Context, withParameters, log } from '@luma.gl/gltools';\nimport { global } from 'probe.gl/env';\nimport Resource from './resource';\nimport Buffer from './buffer';\nimport { TEXTURE_FORMATS, DATA_FORMAT_CHANNELS, TYPE_SIZES, isFormatSupported, isLinearFilteringSupported } from './texture-formats';\nimport { assert } from '../utils/assert';\nimport { uid, isPowerOfTwo } from '../utils/utils';\nvar NPOT_MIN_FILTERS = [9729, 9728];\n\nvar WebGLBuffer = global.WebGLBuffer || function WebGLBuffer() {};\n\nvar Texture = /*#__PURE__*/function (_Resource) {\n  _inherits(Texture, _Resource);\n\n  var _super = _createSuper(Texture);\n\n  function Texture(gl, props) {\n    var _this;\n\n    _classCallCheck(this, Texture);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? uid('texture') : _props$id,\n        handle = props.handle,\n        target = props.target;\n    _this = _super.call(this, gl, {\n      id: id,\n      handle: handle\n    });\n    _this.target = target;\n    _this.textureUnit = undefined;\n    _this.loaded = false;\n    _this.width = undefined;\n    _this.height = undefined;\n    _this.depth = undefined;\n    _this.format = undefined;\n    _this.type = undefined;\n    _this.dataFormat = undefined;\n    _this.border = undefined;\n    _this.textureUnit = undefined;\n    _this.mipmaps = undefined;\n    return _this;\n  }\n\n  _createClass(Texture, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"Texture(\".concat(this.id, \",\").concat(this.width, \"x\").concat(this.height, \")\");\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var data = props.data;\n\n      if (data instanceof Promise) {\n        data.then(function (resolvedImageData) {\n          return _this2.initialize(Object.assign({}, props, {\n            pixels: resolvedImageData,\n            data: resolvedImageData\n          }));\n        });\n        return this;\n      }\n\n      var isVideo = typeof HTMLVideoElement !== 'undefined' && data instanceof HTMLVideoElement;\n\n      if (isVideo && data.readyState < HTMLVideoElement.HAVE_METADATA) {\n        this._video = null;\n        data.addEventListener('loadeddata', function () {\n          return _this2.initialize(props);\n        });\n        return this;\n      }\n\n      var _props$pixels = props.pixels,\n          pixels = _props$pixels === void 0 ? null : _props$pixels,\n          _props$format = props.format,\n          format = _props$format === void 0 ? 6408 : _props$format,\n          _props$border = props.border,\n          border = _props$border === void 0 ? 0 : _props$border,\n          _props$recreate = props.recreate,\n          recreate = _props$recreate === void 0 ? false : _props$recreate,\n          _props$parameters = props.parameters,\n          parameters = _props$parameters === void 0 ? {} : _props$parameters,\n          _props$pixelStore = props.pixelStore,\n          pixelStore = _props$pixelStore === void 0 ? {} : _props$pixelStore,\n          _props$textureUnit = props.textureUnit,\n          textureUnit = _props$textureUnit === void 0 ? undefined : _props$textureUnit;\n\n      if (!data) {\n        data = pixels;\n      }\n\n      var width = props.width,\n          height = props.height,\n          dataFormat = props.dataFormat,\n          type = props.type,\n          _props$compressed = props.compressed,\n          compressed = _props$compressed === void 0 ? false : _props$compressed,\n          _props$mipmaps = props.mipmaps,\n          mipmaps = _props$mipmaps === void 0 ? true : _props$mipmaps;\n      var _props$depth = props.depth,\n          depth = _props$depth === void 0 ? 0 : _props$depth;\n\n      var _this$_deduceParamete = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      width = _this$_deduceParamete.width;\n      height = _this$_deduceParamete.height;\n      compressed = _this$_deduceParamete.compressed;\n      dataFormat = _this$_deduceParamete.dataFormat;\n      type = _this$_deduceParamete.type;\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n      this.format = format;\n      this.type = type;\n      this.dataFormat = dataFormat;\n      this.border = border;\n      this.textureUnit = textureUnit;\n\n      if (Number.isFinite(this.textureUnit)) {\n        this.gl.activeTexture(33984 + this.textureUnit);\n        this.gl.bindTexture(this.target, this.handle);\n      }\n\n      if (mipmaps && this._isNPOT()) {\n        log.warn(\"texture: \".concat(this, \" is Non-Power-Of-Two, disabling mipmaping\"))();\n        mipmaps = false;\n\n        this._updateForNPOT(parameters);\n      }\n\n      this.mipmaps = mipmaps;\n      this.setImageData({\n        data: data,\n        width: width,\n        height: height,\n        depth: depth,\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        border: border,\n        mipmaps: mipmaps,\n        parameters: pixelStore,\n        compressed: compressed\n      });\n\n      if (mipmaps) {\n        this.generateMipmap();\n      }\n\n      this.setParameters(parameters);\n\n      if (recreate) {\n        this.data = data;\n      }\n\n      if (isVideo) {\n        this._video = {\n          video: data,\n          parameters: parameters,\n          lastTime: data.readyState >= HTMLVideoElement.HAVE_CURRENT_DATA ? data.currentTime : -1\n        };\n      }\n\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this._video) {\n        var _this$_video = this._video,\n            video = _this$_video.video,\n            parameters = _this$_video.parameters,\n            lastTime = _this$_video.lastTime;\n\n        if (lastTime === video.currentTime || video.readyState < HTMLVideoElement.HAVE_CURRENT_DATA) {\n          return;\n        }\n\n        this.setSubImageData({\n          data: video,\n          parameters: parameters\n        });\n\n        if (this.mipmaps) {\n          this.generateMipmap();\n        }\n\n        this._video.lastTime = video.currentTime;\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref) {\n      var height = _ref.height,\n          width = _ref.width,\n          _ref$mipmaps = _ref.mipmaps,\n          mipmaps = _ref$mipmaps === void 0 ? false : _ref$mipmaps;\n\n      if (width !== this.width || height !== this.height) {\n        return this.initialize({\n          width: width,\n          height: height,\n          format: this.format,\n          type: this.type,\n          dataFormat: this.dataFormat,\n          border: this.border,\n          mipmaps: mipmaps\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"generateMipmap\",\n    value: function generateMipmap() {\n      var _this3 = this;\n\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._isNPOT()) {\n        log.warn(\"texture: \".concat(this, \" is Non-Power-Of-Two, disabling mipmaping\"))();\n        return this;\n      }\n\n      this.mipmaps = true;\n      this.gl.bindTexture(this.target, this.handle);\n      withParameters(this.gl, params, function () {\n        _this3.gl.generateMipmap(_this3.target);\n      });\n      this.gl.bindTexture(this.target, null);\n      return this;\n    }\n  }, {\n    key: \"setImageData\",\n    value: function setImageData(options) {\n      this._trackDeallocatedMemory('Texture');\n\n      var _options$target = options.target,\n          target = _options$target === void 0 ? this.target : _options$target,\n          _options$pixels = options.pixels,\n          pixels = _options$pixels === void 0 ? null : _options$pixels,\n          _options$level = options.level,\n          level = _options$level === void 0 ? 0 : _options$level,\n          _options$format = options.format,\n          format = _options$format === void 0 ? this.format : _options$format,\n          _options$border = options.border,\n          border = _options$border === void 0 ? this.border : _options$border,\n          _options$offset = options.offset,\n          offset = _options$offset === void 0 ? 0 : _options$offset,\n          _options$parameters = options.parameters,\n          parameters = _options$parameters === void 0 ? {} : _options$parameters;\n      var _options$data = options.data,\n          data = _options$data === void 0 ? null : _options$data,\n          _options$type = options.type,\n          type = _options$type === void 0 ? this.type : _options$type,\n          _options$width = options.width,\n          width = _options$width === void 0 ? this.width : _options$width,\n          _options$height = options.height,\n          height = _options$height === void 0 ? this.height : _options$height,\n          _options$dataFormat = options.dataFormat,\n          dataFormat = _options$dataFormat === void 0 ? this.dataFormat : _options$dataFormat,\n          _options$compressed = options.compressed,\n          compressed = _options$compressed === void 0 ? false : _options$compressed;\n\n      if (!data) {\n        data = pixels;\n      }\n\n      var _this$_deduceParamete2 = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      type = _this$_deduceParamete2.type;\n      dataFormat = _this$_deduceParamete2.dataFormat;\n      compressed = _this$_deduceParamete2.compressed;\n      width = _this$_deduceParamete2.width;\n      height = _this$_deduceParamete2.height;\n      var gl = this.gl;\n      gl.bindTexture(this.target, this.handle);\n      var dataType = null;\n\n      var _this$_getDataType = this._getDataType({\n        data: data,\n        compressed: compressed\n      });\n\n      data = _this$_getDataType.data;\n      dataType = _this$_getDataType.dataType;\n      var gl2;\n      withParameters(this.gl, parameters, function () {\n        switch (dataType) {\n          case 'null':\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data);\n            break;\n\n          case 'typed-array':\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data, offset);\n            break;\n\n          case 'buffer':\n            gl2 = assertWebGL2Context(gl);\n            gl2.bindBuffer(35052, data.handle || data);\n            gl2.texImage2D(target, level, format, width, height, border, dataFormat, type, offset);\n            gl2.bindBuffer(35052, null);\n            break;\n\n          case 'browser-object':\n            if (isWebGL2(gl)) {\n              gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data);\n            } else {\n              gl.texImage2D(target, level, format, dataFormat, type, data);\n            }\n\n            break;\n\n          case 'compressed':\n            var _iterator = _createForOfIteratorHelper(data.entries()),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var _step$value = _slicedToArray(_step.value, 2),\n                    levelIndex = _step$value[0],\n                    levelData = _step$value[1];\n\n                gl.compressedTexImage2D(target, levelIndex, levelData.format, levelData.width, levelData.height, border, levelData.data);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n            break;\n\n          default:\n            assert(false, 'Unknown image data type');\n        }\n      });\n\n      if (data && data.byteLength) {\n        this._trackAllocatedMemory(data.byteLength, 'Texture');\n      } else {\n        var channels = DATA_FORMAT_CHANNELS[this.dataFormat] || 4;\n        var channelSize = TYPE_SIZES[this.type] || 1;\n\n        this._trackAllocatedMemory(this.width * this.height * channels * channelSize, 'Texture');\n      }\n\n      this.loaded = true;\n      return this;\n    }\n  }, {\n    key: \"setSubImageData\",\n    value: function setSubImageData(_ref2) {\n      var _this4 = this;\n\n      var _ref2$target = _ref2.target,\n          target = _ref2$target === void 0 ? this.target : _ref2$target,\n          _ref2$pixels = _ref2.pixels,\n          pixels = _ref2$pixels === void 0 ? null : _ref2$pixels,\n          _ref2$data = _ref2.data,\n          data = _ref2$data === void 0 ? null : _ref2$data,\n          _ref2$x = _ref2.x,\n          x = _ref2$x === void 0 ? 0 : _ref2$x,\n          _ref2$y = _ref2.y,\n          y = _ref2$y === void 0 ? 0 : _ref2$y,\n          _ref2$width = _ref2.width,\n          width = _ref2$width === void 0 ? this.width : _ref2$width,\n          _ref2$height = _ref2.height,\n          height = _ref2$height === void 0 ? this.height : _ref2$height,\n          _ref2$level = _ref2.level,\n          level = _ref2$level === void 0 ? 0 : _ref2$level,\n          _ref2$format = _ref2.format,\n          format = _ref2$format === void 0 ? this.format : _ref2$format,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === void 0 ? this.type : _ref2$type,\n          _ref2$dataFormat = _ref2.dataFormat,\n          dataFormat = _ref2$dataFormat === void 0 ? this.dataFormat : _ref2$dataFormat,\n          _ref2$compressed = _ref2.compressed,\n          compressed = _ref2$compressed === void 0 ? false : _ref2$compressed,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? 0 : _ref2$offset,\n          _ref2$border = _ref2.border,\n          border = _ref2$border === void 0 ? this.border : _ref2$border,\n          _ref2$parameters = _ref2.parameters,\n          parameters = _ref2$parameters === void 0 ? {} : _ref2$parameters;\n\n      var _this$_deduceParamete3 = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      type = _this$_deduceParamete3.type;\n      dataFormat = _this$_deduceParamete3.dataFormat;\n      compressed = _this$_deduceParamete3.compressed;\n      width = _this$_deduceParamete3.width;\n      height = _this$_deduceParamete3.height;\n      assert(this.depth === 0, 'texSubImage not supported for 3D textures');\n\n      if (!data) {\n        data = pixels;\n      }\n\n      if (data && data.data) {\n        var ndarray = data;\n        data = ndarray.data;\n        width = ndarray.shape[0];\n        height = ndarray.shape[1];\n      }\n\n      if (data instanceof Buffer) {\n        data = data.handle;\n      }\n\n      this.gl.bindTexture(this.target, this.handle);\n      withParameters(this.gl, parameters, function () {\n        if (compressed) {\n          _this4.gl.compressedTexSubImage2D(target, level, x, y, width, height, format, data);\n        } else if (data === null) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, null);\n        } else if (ArrayBuffer.isView(data)) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, data, offset);\n        } else if (data instanceof WebGLBuffer) {\n          var gl2 = assertWebGL2Context(_this4.gl);\n          gl2.bindBuffer(35052, data);\n          gl2.texSubImage2D(target, level, x, y, width, height, dataFormat, type, offset);\n          gl2.bindBuffer(35052, null);\n        } else if (isWebGL2(_this4.gl)) {\n          var _gl = assertWebGL2Context(_this4.gl);\n\n          _gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, data);\n        } else {\n          _this4.gl.texSubImage2D(target, level, x, y, dataFormat, type, data);\n        }\n      });\n      this.gl.bindTexture(this.target, null);\n    }\n  }, {\n    key: \"copyFramebuffer\",\n    value: function copyFramebuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      log.error('Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})')();\n      return null;\n    }\n  }, {\n    key: \"getActiveUnit\",\n    value: function getActiveUnit() {\n      return this.gl.getParameter(34016) - 33984;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var textureUnit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.textureUnit;\n      var gl = this.gl;\n\n      if (textureUnit !== undefined) {\n        this.textureUnit = textureUnit;\n        gl.activeTexture(33984 + textureUnit);\n      }\n\n      gl.bindTexture(this.target, this.handle);\n      return textureUnit;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var textureUnit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.textureUnit;\n      var gl = this.gl;\n\n      if (textureUnit !== undefined) {\n        this.textureUnit = textureUnit;\n        gl.activeTexture(33984 + textureUnit);\n      }\n\n      gl.bindTexture(this.target, null);\n      return textureUnit;\n    }\n  }, {\n    key: \"_getDataType\",\n    value: function _getDataType(_ref3) {\n      var data = _ref3.data,\n          _ref3$compressed = _ref3.compressed,\n          compressed = _ref3$compressed === void 0 ? false : _ref3$compressed;\n\n      if (compressed) {\n        return {\n          data: data,\n          dataType: 'compressed'\n        };\n      }\n\n      if (data === null) {\n        return {\n          data: data,\n          dataType: 'null'\n        };\n      }\n\n      if (ArrayBuffer.isView(data)) {\n        return {\n          data: data,\n          dataType: 'typed-array'\n        };\n      }\n\n      if (data instanceof Buffer) {\n        return {\n          data: data.handle,\n          dataType: 'buffer'\n        };\n      }\n\n      if (data instanceof WebGLBuffer) {\n        return {\n          data: data,\n          dataType: 'buffer'\n        };\n      }\n\n      return {\n        data: data,\n        dataType: 'browser-object'\n      };\n    }\n  }, {\n    key: \"_deduceParameters\",\n    value: function _deduceParameters(opts) {\n      var format = opts.format,\n          data = opts.data;\n      var width = opts.width,\n          height = opts.height,\n          dataFormat = opts.dataFormat,\n          type = opts.type,\n          compressed = opts.compressed;\n      var textureFormat = TEXTURE_FORMATS[format];\n      dataFormat = dataFormat || textureFormat && textureFormat.dataFormat;\n      type = type || textureFormat && textureFormat.types[0];\n      compressed = compressed || textureFormat && textureFormat.compressed;\n\n      var _this$_deduceImageSiz = this._deduceImageSize(data, width, height);\n\n      width = _this$_deduceImageSiz.width;\n      height = _this$_deduceImageSiz.height;\n      return {\n        dataFormat: dataFormat,\n        type: type,\n        compressed: compressed,\n        width: width,\n        height: height,\n        format: format,\n        data: data\n      };\n    }\n  }, {\n    key: \"_deduceImageSize\",\n    value: function _deduceImageSize(data, width, height) {\n      var size;\n\n      if (typeof ImageData !== 'undefined' && data instanceof ImageData) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof HTMLImageElement !== 'undefined' && data instanceof HTMLImageElement) {\n        size = {\n          width: data.naturalWidth,\n          height: data.naturalHeight\n        };\n      } else if (typeof HTMLCanvasElement !== 'undefined' && data instanceof HTMLCanvasElement) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof ImageBitmap !== 'undefined' && data instanceof ImageBitmap) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof HTMLVideoElement !== 'undefined' && data instanceof HTMLVideoElement) {\n        size = {\n          width: data.videoWidth,\n          height: data.videoHeight\n        };\n      } else if (!data) {\n        size = {\n          width: width >= 0 ? width : 1,\n          height: height >= 0 ? height : 1\n        };\n      } else {\n        size = {\n          width: width,\n          height: height\n        };\n      }\n\n      assert(size, 'Could not deduced texture size');\n      assert(width === undefined || size.width === width, 'Deduced texture width does not match supplied width');\n      assert(height === undefined || size.height === height, 'Deduced texture height does not match supplied height');\n      return size;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createTexture();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteTexture(this.handle);\n\n      this._trackDeallocatedMemory('Texture');\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      switch (pname) {\n        case 4096:\n          return this.width;\n\n        case 4097:\n          return this.height;\n\n        default:\n          this.gl.bindTexture(this.target, this.handle);\n          var value = this.gl.getTexParameter(this.target, pname);\n          this.gl.bindTexture(this.target, null);\n          return value;\n      }\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, param) {\n      this.gl.bindTexture(this.target, this.handle);\n      param = this._getNPOTParam(pname, param);\n\n      switch (pname) {\n        case 33082:\n        case 33083:\n          this.gl.texParameterf(this.handle, pname, param);\n          break;\n\n        case 4096:\n        case 4097:\n          assert(false);\n          break;\n\n        default:\n          this.gl.texParameteri(this.target, pname, param);\n          break;\n      }\n\n      this.gl.bindTexture(this.target, null);\n      return this;\n    }\n  }, {\n    key: \"_isNPOT\",\n    value: function _isNPOT() {\n      if (isWebGL2(this.gl)) {\n        return false;\n      }\n\n      if (!this.width || !this.height) {\n        return false;\n      }\n\n      return !isPowerOfTwo(this.width) || !isPowerOfTwo(this.height);\n    }\n  }, {\n    key: \"_updateForNPOT\",\n    value: function _updateForNPOT(parameters) {\n      if (parameters[this.gl.TEXTURE_MIN_FILTER] === undefined) {\n        parameters[this.gl.TEXTURE_MIN_FILTER] = this.gl.LINEAR;\n      }\n\n      if (parameters[this.gl.TEXTURE_WRAP_S] === undefined) {\n        parameters[this.gl.TEXTURE_WRAP_S] = this.gl.CLAMP_TO_EDGE;\n      }\n\n      if (parameters[this.gl.TEXTURE_WRAP_T] === undefined) {\n        parameters[this.gl.TEXTURE_WRAP_T] = this.gl.CLAMP_TO_EDGE;\n      }\n    }\n  }, {\n    key: \"_getNPOTParam\",\n    value: function _getNPOTParam(pname, param) {\n      if (this._isNPOT()) {\n        switch (pname) {\n          case 10241:\n            if (NPOT_MIN_FILTERS.indexOf(param) === -1) {\n              param = 9729;\n            }\n\n            break;\n\n          case 10242:\n          case 10243:\n            if (param !== 33071) {\n              param = 33071;\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      return param;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var format = opts.format,\n          linearFiltering = opts.linearFiltering;\n      var supported = true;\n\n      if (format) {\n        supported = supported && isFormatSupported(gl, format);\n        supported = supported && (!linearFiltering || isLinearFilteringSupported(gl, format));\n      }\n\n      return supported;\n    }\n  }]);\n\n  return Texture;\n}(Resource);\n\nexport { Texture as default };","import { assert } from '../utils/assert';\nvar pathPrefix = '';\nexport function setPathPrefix(prefix) {\n  pathPrefix = prefix;\n}\nexport function loadFile(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  assert(typeof url === 'string');\n  url = pathPrefix + url;\n  var dataType = options.dataType || 'text';\n  return fetch(url, options).then(function (res) {\n    return res[dataType]();\n  });\n}\nexport function loadImage(url, opts) {\n  assert(typeof url === 'string');\n  url = pathPrefix + url;\n  return new Promise(function (resolve, reject) {\n    try {\n      var image = new Image();\n\n      image.onload = function () {\n        return resolve(image);\n      };\n\n      image.onerror = function () {\n        return reject(new Error(\"Could not load image \".concat(url, \".\")));\n      };\n\n      image.crossOrigin = opts && opts.crossOrigin || 'anonymous';\n      image.src = url;\n    } catch (error) {\n      reject(error);\n    }\n  });\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { assertWebGLContext } from '@luma.gl/gltools';\nimport Texture from './texture';\nimport { loadImage } from '../utils/load-file';\n\nvar Texture2D = /*#__PURE__*/function (_Texture) {\n  _inherits(Texture2D, _Texture);\n\n  var _super = _createSuper(Texture2D);\n\n  function Texture2D(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Texture2D);\n\n    assertWebGLContext(gl);\n\n    if (props instanceof Promise || typeof props === 'string') {\n      props = {\n        data: props\n      };\n    }\n\n    if (typeof props.data === 'string') {\n      props = Object.assign({}, props, {\n        data: loadImage(props.data)\n      });\n    }\n\n    _this = _super.call(this, gl, Object.assign({}, props, {\n      target: 3553\n    }));\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Texture2D, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl, opts) {\n      return Texture.isSupported(gl, opts);\n    }\n  }]);\n\n  return Texture2D;\n}(Texture);\n\nexport { Texture2D as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _$33190$36012$;\n\nvar EXT_FLOAT_WEBGL2 = 'EXT_color_buffer_float';\nexport default (_$33190$36012$ = {}, _defineProperty(_$33190$36012$, 33189, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33190, {\n  gl2: true,\n  bpp: 3\n}), _defineProperty(_$33190$36012$, 36012, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36168, {\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 34041, {\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 35056, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36013, {\n  gl2: true,\n  bpp: 5\n}), _defineProperty(_$33190$36012$, 32854, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 36194, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 32855, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33321, {\n  gl2: true,\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 33330, {\n  gl2: true,\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 33329, {\n  gl2: true,\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 33332, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33331, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33334, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33333, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33323, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33336, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33335, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33338, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33337, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33340, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 33339, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 32849, {\n  gl2: true,\n  bpp: 3\n}), _defineProperty(_$33190$36012$, 32856, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 32857, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36220, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36238, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36975, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36214, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 36232, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 36226, {\n  gl2: true,\n  bpp: 16\n}), _defineProperty(_$33190$36012$, 36208, {\n  gl2: true,\n  bpp: 16\n}), _defineProperty(_$33190$36012$, 33325, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33327, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 34842, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 33326, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33328, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 34836, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 16\n}), _defineProperty(_$33190$36012$, 35898, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 4\n}), _$33190$36012$);","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Resource from './resource';\nimport RENDERBUFFER_FORMATS from './renderbuffer-formats';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { assert } from '../utils/assert';\n\nfunction isFormatSupported(gl, format, formats) {\n  var info = formats[format];\n\n  if (!info) {\n    return false;\n  }\n\n  var value = isWebGL2(gl) ? info.gl2 || info.gl1 : info.gl1;\n\n  if (typeof value === 'string') {\n    return gl.getExtension(value);\n  }\n\n  return value;\n}\n\nvar Renderbuffer = /*#__PURE__*/function (_Resource) {\n  _inherits(Renderbuffer, _Resource);\n\n  var _super = _createSuper(Renderbuffer);\n\n  function Renderbuffer(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Renderbuffer);\n\n    _this = _super.call(this, gl, opts);\n\n    _this.initialize(opts);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Renderbuffer, [{\n    key: \"initialize\",\n    value: function initialize(_ref) {\n      var format = _ref.format,\n          _ref$width = _ref.width,\n          width = _ref$width === void 0 ? 1 : _ref$width,\n          _ref$height = _ref.height,\n          height = _ref$height === void 0 ? 1 : _ref$height,\n          _ref$samples = _ref.samples,\n          samples = _ref$samples === void 0 ? 0 : _ref$samples;\n      assert(format, 'Needs format');\n\n      this._trackDeallocatedMemory();\n\n      this.gl.bindRenderbuffer(36161, this.handle);\n\n      if (samples !== 0 && isWebGL2(this.gl)) {\n        this.gl.renderbufferStorageMultisample(36161, samples, format, width, height);\n      } else {\n        this.gl.renderbufferStorage(36161, format, width, height);\n      }\n\n      this.format = format;\n      this.width = width;\n      this.height = height;\n      this.samples = samples;\n\n      this._trackAllocatedMemory(this.width * this.height * (this.samples || 1) * RENDERBUFFER_FORMATS[this.format].bpp);\n\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref2) {\n      var width = _ref2.width,\n          height = _ref2.height;\n\n      if (width !== this.width || height !== this.height) {\n        return this.initialize({\n          width: width,\n          height: height,\n          format: this.format,\n          samples: this.samples\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createRenderbuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteRenderbuffer(this.handle);\n\n      this._trackDeallocatedMemory();\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindRenderbuffer(36161, handle);\n    }\n  }, {\n    key: \"_syncHandle\",\n    value: function _syncHandle(handle) {\n      this.format = this.getParameter(36164);\n      this.width = this.getParameter(36162);\n      this.height = this.getParameter(36163);\n      this.samples = this.getParameter(36011);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      this.gl.bindRenderbuffer(36161, this.handle);\n      var value = this.gl.getRenderbufferParameter(36161, pname);\n      return value;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        format: null\n      },\n          format = _ref3.format;\n\n      return !format || isFormatSupported(gl, format, RENDERBUFFER_FORMATS);\n    }\n  }, {\n    key: \"getSamplesForFormat\",\n    value: function getSamplesForFormat(gl, _ref4) {\n      var format = _ref4.format;\n      return gl.getInternalformatParameter(36161, format, 32937);\n    }\n  }]);\n\n  return Renderbuffer;\n}(Resource);\n\nexport { Renderbuffer as default };","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { assertWebGL2Context, withParameters } from '@luma.gl/gltools';\nimport { assert } from '../utils/assert';\nvar GL_DEPTH_BUFFER_BIT = 0x00000100;\nvar GL_STENCIL_BUFFER_BIT = 0x00000400;\nvar GL_COLOR_BUFFER_BIT = 0x00004000;\nvar GL_COLOR = 0x1800;\nvar GL_DEPTH = 0x1801;\nvar GL_STENCIL = 0x1802;\nvar GL_DEPTH_STENCIL = 0x84f9;\nvar ERR_ARGUMENTS = 'clear: bad arguments';\nexport function clear(gl) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$framebuffer = _ref.framebuffer,\n      framebuffer = _ref$framebuffer === void 0 ? null : _ref$framebuffer,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? null : _ref$color,\n      _ref$depth = _ref.depth,\n      depth = _ref$depth === void 0 ? null : _ref$depth,\n      _ref$stencil = _ref.stencil,\n      stencil = _ref$stencil === void 0 ? null : _ref$stencil;\n\n  var parameters = {};\n\n  if (framebuffer) {\n    parameters.framebuffer = framebuffer;\n  }\n\n  var clearFlags = 0;\n\n  if (color) {\n    clearFlags |= GL_COLOR_BUFFER_BIT;\n\n    if (color !== true) {\n      parameters.clearColor = color;\n    }\n  }\n\n  if (depth) {\n    clearFlags |= GL_DEPTH_BUFFER_BIT;\n\n    if (depth !== true) {\n      parameters.clearDepth = depth;\n    }\n  }\n\n  if (stencil) {\n    clearFlags |= GL_STENCIL_BUFFER_BIT;\n\n    if (depth !== true) {\n      parameters.clearStencil = depth;\n    }\n  }\n\n  assert(clearFlags !== 0, ERR_ARGUMENTS);\n  withParameters(gl, parameters, function () {\n    gl.clear(clearFlags);\n  });\n}\nexport function clearBuffer(gl) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$framebuffer = _ref2.framebuffer,\n      framebuffer = _ref2$framebuffer === void 0 ? null : _ref2$framebuffer,\n      _ref2$buffer = _ref2.buffer,\n      buffer = _ref2$buffer === void 0 ? GL_COLOR : _ref2$buffer,\n      _ref2$drawBuffer = _ref2.drawBuffer,\n      drawBuffer = _ref2$drawBuffer === void 0 ? 0 : _ref2$drawBuffer,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === void 0 ? [0, 0, 0, 0] : _ref2$value;\n\n  assertWebGL2Context(gl);\n  withParameters(gl, {\n    framebuffer: framebuffer\n  }, function () {\n    switch (buffer) {\n      case GL_COLOR:\n        switch (value.constructor) {\n          case Int32Array:\n            gl.clearBufferiv(buffer, drawBuffer, value);\n            break;\n\n          case Uint32Array:\n            gl.clearBufferuiv(buffer, drawBuffer, value);\n            break;\n\n          case Float32Array:\n          default:\n            gl.clearBufferfv(buffer, drawBuffer, value);\n        }\n\n        break;\n\n      case GL_DEPTH:\n        gl.clearBufferfv(GL_DEPTH, 0, [value]);\n        break;\n\n      case GL_STENCIL:\n        gl.clearBufferiv(GL_STENCIL, 0, [value]);\n        break;\n\n      case GL_DEPTH_STENCIL:\n        var _value = _slicedToArray(value, 2),\n            depth = _value[0],\n            stencil = _value[1];\n\n        gl.clearBufferfi(GL_DEPTH_STENCIL, 0, depth, stencil);\n        break;\n\n      default:\n        assert(false, ERR_ARGUMENTS);\n    }\n  });\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { log, assertWebGLContext } from '@luma.gl/gltools';\nimport Texture from './texture';\nvar FACES = [34069, 34070, 34071, 34072, 34073, 34074];\n\nvar TextureCube = /*#__PURE__*/function (_Texture) {\n  _inherits(TextureCube, _Texture);\n\n  var _super = _createSuper(TextureCube);\n\n  function TextureCube(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TextureCube);\n\n    assertWebGLContext(gl);\n    _this = _super.call(this, gl, Object.assign({}, props, {\n      target: 34067\n    }));\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TextureCube, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$mipmaps = props.mipmaps,\n          mipmaps = _props$mipmaps === void 0 ? true : _props$mipmaps,\n          _props$parameters = props.parameters,\n          parameters = _props$parameters === void 0 ? {} : _props$parameters;\n      this.opts = props;\n      this.setCubeMapImageData(props).then(function () {\n        _this2.loaded = true;\n\n        if (mipmaps) {\n          _this2.generateMipmap(props);\n        }\n\n        _this2.setParameters(parameters);\n      });\n      return this;\n    }\n  }, {\n    key: \"subImage\",\n    value: function subImage(_ref) {\n      var face = _ref.face,\n          data = _ref.data,\n          _ref$x = _ref.x,\n          x = _ref$x === void 0 ? 0 : _ref$x,\n          _ref$y = _ref.y,\n          y = _ref$y === void 0 ? 0 : _ref$y,\n          _ref$mipmapLevel = _ref.mipmapLevel,\n          mipmapLevel = _ref$mipmapLevel === void 0 ? 0 : _ref$mipmapLevel;\n      return this._subImage({\n        target: face,\n        data: data,\n        x: x,\n        y: y,\n        mipmapLevel: mipmapLevel\n      });\n    }\n  }, {\n    key: \"setCubeMapImageData\",\n    value: function () {\n      var _setCubeMapImageData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n        var _this3 = this;\n\n        var width, height, pixels, data, _ref2$border, border, _ref2$format, format, _ref2$type, type, gl, imageDataMap, resolvedFaces;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                width = _ref2.width, height = _ref2.height, pixels = _ref2.pixels, data = _ref2.data, _ref2$border = _ref2.border, border = _ref2$border === void 0 ? 0 : _ref2$border, _ref2$format = _ref2.format, format = _ref2$format === void 0 ? 6408 : _ref2$format, _ref2$type = _ref2.type, type = _ref2$type === void 0 ? 5121 : _ref2$type;\n                gl = this.gl;\n                imageDataMap = pixels || data;\n                _context.next = 5;\n                return Promise.all(FACES.map(function (face) {\n                  var facePixels = imageDataMap[face];\n                  return Promise.all(Array.isArray(facePixels) ? facePixels : [facePixels]);\n                }));\n\n              case 5:\n                resolvedFaces = _context.sent;\n                this.bind();\n                FACES.forEach(function (face, index) {\n                  if (resolvedFaces[index].length > 1 && _this3.opts.mipmaps !== false) {\n                    log.warn(\"\".concat(_this3.id, \" has mipmap and multiple LODs.\"))();\n                  }\n\n                  resolvedFaces[index].forEach(function (image, lodLevel) {\n                    if (width && height) {\n                      gl.texImage2D(face, lodLevel, format, width, height, border, format, type, image);\n                    } else {\n                      gl.texImage2D(face, lodLevel, format, format, type, image);\n                    }\n                  });\n                });\n                this.unbind();\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setCubeMapImageData(_x) {\n        return _setCubeMapImageData.apply(this, arguments);\n      }\n\n      return setCubeMapImageData;\n    }()\n  }, {\n    key: \"setImageDataForFace\",\n    value: function setImageDataForFace(options) {\n      var _this4 = this;\n\n      var face = options.face,\n          width = options.width,\n          height = options.height,\n          pixels = options.pixels,\n          data = options.data,\n          _options$border = options.border,\n          border = _options$border === void 0 ? 0 : _options$border,\n          _options$format = options.format,\n          format = _options$format === void 0 ? 6408 : _options$format,\n          _options$type = options.type,\n          type = _options$type === void 0 ? 5121 : _options$type;\n      var gl = this.gl;\n      var imageData = pixels || data;\n      this.bind();\n\n      if (imageData instanceof Promise) {\n        imageData.then(function (resolvedImageData) {\n          return _this4.setImageDataForFace(Object.assign({}, options, {\n            face: face,\n            data: resolvedImageData,\n            pixels: resolvedImageData\n          }));\n        });\n      } else if (this.width || this.height) {\n        gl.texImage2D(face, 0, format, width, height, border, format, type, imageData);\n      } else {\n        gl.texImage2D(face, 0, format, format, type, imageData);\n      }\n\n      return this;\n    }\n  }]);\n\n  return TextureCube;\n}(Texture);\n\nexport { TextureCube as default };\nTextureCube.FACES = FACES;","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { isWebGL2, assertWebGL2Context, withParameters } from '@luma.gl/gltools';\nimport Texture from './texture';\nimport { DATA_FORMAT_CHANNELS, TYPE_SIZES } from './texture-formats';\nimport Buffer from './buffer';\n\nvar Texture3D = /*#__PURE__*/function (_Texture) {\n  _inherits(Texture3D, _Texture);\n\n  var _super = _createSuper(Texture3D);\n\n  function Texture3D(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Texture3D);\n\n    assertWebGL2Context(gl);\n    props = Object.assign({\n      depth: 1\n    }, props, {\n      target: 32879,\n      unpackFlipY: false\n    });\n    _this = _super.call(this, gl, props);\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Texture3D, [{\n    key: \"setImageData\",\n    value: function setImageData(_ref) {\n      var _this2 = this;\n\n      var _ref$level = _ref.level,\n          level = _ref$level === void 0 ? 0 : _ref$level,\n          _ref$dataFormat = _ref.dataFormat,\n          dataFormat = _ref$dataFormat === void 0 ? 6408 : _ref$dataFormat,\n          width = _ref.width,\n          height = _ref.height,\n          _ref$depth = _ref.depth,\n          depth = _ref$depth === void 0 ? 1 : _ref$depth,\n          _ref$border = _ref.border,\n          border = _ref$border === void 0 ? 0 : _ref$border,\n          format = _ref.format,\n          _ref$type = _ref.type,\n          type = _ref$type === void 0 ? 5121 : _ref$type,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          data = _ref.data,\n          _ref$parameters = _ref.parameters,\n          parameters = _ref$parameters === void 0 ? {} : _ref$parameters;\n\n      this._trackDeallocatedMemory('Texture');\n\n      this.gl.bindTexture(this.target, this.handle);\n      withParameters(this.gl, parameters, function () {\n        if (ArrayBuffer.isView(data)) {\n          _this2.gl.texImage3D(_this2.target, level, dataFormat, width, height, depth, border, format, type, data);\n        }\n\n        if (data instanceof Buffer) {\n          _this2.gl.bindBuffer(35052, data.handle);\n\n          _this2.gl.texImage3D(_this2.target, level, dataFormat, width, height, depth, border, format, type, offset);\n        }\n      });\n\n      if (data && data.byteLength) {\n        this._trackAllocatedMemory(data.byteLength, 'Texture');\n      } else {\n        var channels = DATA_FORMAT_CHANNELS[this.dataFormat] || 4;\n        var channelSize = TYPE_SIZES[this.type] || 1;\n\n        this._trackAllocatedMemory(this.width * this.height * this.depth * channels * channelSize, 'Texture');\n      }\n\n      this.loaded = true;\n      return this;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      return isWebGL2(gl);\n    }\n  }]);\n\n  return Texture3D;\n}(Texture);\n\nexport { Texture3D as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _FEATURES$WEBGL2$FEAT;\n\nimport Framebuffer from '../classes/framebuffer';\nimport Texture2D from '../classes/texture-2d';\nexport var FEATURES = {\n  WEBGL2: 'WEBGL2',\n  VERTEX_ARRAY_OBJECT: 'VERTEX_ARRAY_OBJECT',\n  TIMER_QUERY: 'TIMER_QUERY',\n  INSTANCED_RENDERING: 'INSTANCED_RENDERING',\n  MULTIPLE_RENDER_TARGETS: 'MULTIPLE_RENDER_TARGETS',\n  ELEMENT_INDEX_UINT32: 'ELEMENT_INDEX_UINT32',\n  BLEND_EQUATION_MINMAX: 'BLEND_EQUATION_MINMAX',\n  FLOAT_BLEND: 'FLOAT_BLEND',\n  COLOR_ENCODING_SRGB: 'COLOR_ENCODING_SRGB',\n  TEXTURE_DEPTH: 'TEXTURE_DEPTH',\n  TEXTURE_FLOAT: 'TEXTURE_FLOAT',\n  TEXTURE_HALF_FLOAT: 'TEXTURE_HALF_FLOAT',\n  TEXTURE_FILTER_LINEAR_FLOAT: 'TEXTURE_FILTER_LINEAR_FLOAT',\n  TEXTURE_FILTER_LINEAR_HALF_FLOAT: 'TEXTURE_FILTER_LINEAR_HALF_FLOAT',\n  TEXTURE_FILTER_ANISOTROPIC: 'TEXTURE_FILTER_ANISOTROPIC',\n  COLOR_ATTACHMENT_RGBA32F: 'COLOR_ATTACHMENT_RGBA32F',\n  COLOR_ATTACHMENT_FLOAT: 'COLOR_ATTACHMENT_FLOAT',\n  COLOR_ATTACHMENT_HALF_FLOAT: 'COLOR_ATTACHMENT_HALF_FLOAT',\n  GLSL_FRAG_DATA: 'GLSL_FRAG_DATA',\n  GLSL_FRAG_DEPTH: 'GLSL_FRAG_DEPTH',\n  GLSL_DERIVATIVES: 'GLSL_DERIVATIVES',\n  GLSL_TEXTURE_LOD: 'GLSL_TEXTURE_LOD'\n};\n\nfunction checkFloat32ColorAttachment(gl) {\n  var testTexture = new Texture2D(gl, {\n    format: 6408,\n    type: 5126,\n    dataFormat: 6408\n  });\n  var testFb = new Framebuffer(gl, {\n    id: \"test-framebuffer\",\n    check: false,\n    attachments: _defineProperty({}, 36064, testTexture)\n  });\n  var status = testFb.getStatus();\n  testTexture.delete();\n  testFb.delete();\n  return status === 36053;\n}\n\nexport default (_FEATURES$WEBGL2$FEAT = {}, _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.WEBGL2, [false, true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.VERTEX_ARRAY_OBJECT, ['OES_vertex_array_object', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TIMER_QUERY, ['EXT_disjoint_timer_query', 'EXT_disjoint_timer_query_webgl2']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.INSTANCED_RENDERING, ['ANGLE_instanced_arrays', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.MULTIPLE_RENDER_TARGETS, ['WEBGL_draw_buffers', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.ELEMENT_INDEX_UINT32, ['OES_element_index_uint', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.BLEND_EQUATION_MINMAX, ['EXT_blend_minmax', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.FLOAT_BLEND, ['EXT_float_blend']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ENCODING_SRGB, ['EXT_sRGB', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_DEPTH, ['WEBGL_depth_texture', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FLOAT, ['OES_texture_float', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_HALF_FLOAT, ['OES_texture_half_float', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FILTER_LINEAR_FLOAT, ['OES_texture_float_linear']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FILTER_LINEAR_HALF_FLOAT, ['OES_texture_half_float_linear']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FILTER_ANISOTROPIC, ['EXT_texture_filter_anisotropic']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ATTACHMENT_RGBA32F, [checkFloat32ColorAttachment, 'EXT_color_buffer_float']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ATTACHMENT_FLOAT, [false, 'EXT_color_buffer_float']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ATTACHMENT_HALF_FLOAT, ['EXT_color_buffer_half_float']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_FRAG_DATA, ['WEBGL_draw_buffers', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_FRAG_DEPTH, ['EXT_frag_depth', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_DERIVATIVES, ['OES_standard_derivatives', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_TEXTURE_LOD, ['EXT_shader_texture_lod', true]), _FEATURES$WEBGL2$FEAT);","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport Texture2D from '../classes/texture-2d';\nimport TextureCube from '../classes/texture-cube';\nimport Texture3D from '../classes/texture-3d';\nimport Framebuffer from '../classes/framebuffer';\nimport { assert } from '../utils/assert';\nexport function cloneTextureFrom(refTexture, overrides) {\n  assert(refTexture instanceof Texture2D || refTexture instanceof TextureCube || refTexture instanceof Texture3D);\n  var TextureType = refTexture.constructor;\n  var gl = refTexture.gl,\n      width = refTexture.width,\n      height = refTexture.height,\n      format = refTexture.format,\n      type = refTexture.type,\n      dataFormat = refTexture.dataFormat,\n      border = refTexture.border,\n      mipmaps = refTexture.mipmaps;\n  var textureOptions = Object.assign({\n    width: width,\n    height: height,\n    format: format,\n    type: type,\n    dataFormat: dataFormat,\n    border: border,\n    mipmaps: mipmaps\n  }, overrides);\n  return new TextureType(gl, textureOptions);\n}\nexport function toFramebuffer(texture, opts) {\n  var gl = texture.gl,\n      width = texture.width,\n      height = texture.height,\n      id = texture.id;\n  var framebuffer = new Framebuffer(gl, Object.assign({}, opts, {\n    id: \"framebuffer-for-\".concat(id),\n    width: width,\n    height: height,\n    attachments: _defineProperty({}, 36064, texture)\n  }));\n  return framebuffer;\n}","import Buffer from './buffer';\nimport Framebuffer from './framebuffer';\nimport Texture from './texture';\nimport { assertWebGL2Context, withParameters, log } from '@luma.gl/gltools';\nimport { flipRows, scalePixels } from '../webgl-utils/typed-array-utils';\nimport { getTypedArrayFromGLType, getGLTypeFromTypedArray } from '../webgl-utils/typed-array-utils';\nimport { glFormatToComponents, glTypeToBytes } from '../webgl-utils/format-utils';\nimport { toFramebuffer } from '../webgl-utils/texture-utils';\nimport { assert } from '../utils/assert';\nexport function readPixelsToArray(source) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$sourceX = options.sourceX,\n      sourceX = _options$sourceX === void 0 ? 0 : _options$sourceX,\n      _options$sourceY = options.sourceY,\n      sourceY = _options$sourceY === void 0 ? 0 : _options$sourceY,\n      _options$sourceFormat = options.sourceFormat,\n      sourceFormat = _options$sourceFormat === void 0 ? 6408 : _options$sourceFormat;\n  var _options$sourceAttach = options.sourceAttachment,\n      sourceAttachment = _options$sourceAttach === void 0 ? 36064 : _options$sourceAttach,\n      _options$target = options.target,\n      target = _options$target === void 0 ? null : _options$target,\n      sourceWidth = options.sourceWidth,\n      sourceHeight = options.sourceHeight,\n      sourceType = options.sourceType;\n\n  var _getFramebuffer = getFramebuffer(source),\n      framebuffer = _getFramebuffer.framebuffer,\n      deleteFramebuffer = _getFramebuffer.deleteFramebuffer;\n\n  assert(framebuffer);\n  var gl = framebuffer.gl,\n      handle = framebuffer.handle,\n      attachments = framebuffer.attachments;\n  sourceWidth = sourceWidth || framebuffer.width;\n  sourceHeight = sourceHeight || framebuffer.height;\n\n  if (sourceAttachment === 36064 && handle === null) {\n    sourceAttachment = 1028;\n  }\n\n  assert(attachments[sourceAttachment]);\n  sourceType = sourceType || attachments[sourceAttachment].type;\n  target = getPixelArray(target, sourceType, sourceFormat, sourceWidth, sourceHeight);\n  sourceType = sourceType || getGLTypeFromTypedArray(target);\n  var prevHandle = gl.bindFramebuffer(36160, handle);\n  gl.readPixels(sourceX, sourceY, sourceWidth, sourceHeight, sourceFormat, sourceType, target);\n  gl.bindFramebuffer(36160, prevHandle || null);\n\n  if (deleteFramebuffer) {\n    framebuffer.delete();\n  }\n\n  return target;\n}\nexport function readPixelsToBuffer(source, _ref) {\n  var _ref$sourceX = _ref.sourceX,\n      sourceX = _ref$sourceX === void 0 ? 0 : _ref$sourceX,\n      _ref$sourceY = _ref.sourceY,\n      sourceY = _ref$sourceY === void 0 ? 0 : _ref$sourceY,\n      _ref$sourceFormat = _ref.sourceFormat,\n      sourceFormat = _ref$sourceFormat === void 0 ? 6408 : _ref$sourceFormat,\n      _ref$target = _ref.target,\n      target = _ref$target === void 0 ? null : _ref$target,\n      _ref$targetByteOffset = _ref.targetByteOffset,\n      targetByteOffset = _ref$targetByteOffset === void 0 ? 0 : _ref$targetByteOffset,\n      sourceWidth = _ref.sourceWidth,\n      sourceHeight = _ref.sourceHeight,\n      sourceType = _ref.sourceType;\n\n  var _getFramebuffer2 = getFramebuffer(source),\n      framebuffer = _getFramebuffer2.framebuffer,\n      deleteFramebuffer = _getFramebuffer2.deleteFramebuffer;\n\n  assert(framebuffer);\n  sourceWidth = sourceWidth || framebuffer.width;\n  sourceHeight = sourceHeight || framebuffer.height;\n  var gl2 = assertWebGL2Context(framebuffer.gl);\n  sourceType = sourceType || (target ? target.type : 5121);\n\n  if (!target) {\n    var components = glFormatToComponents(sourceFormat);\n    var byteCount = glTypeToBytes(sourceType);\n    var byteLength = targetByteOffset + sourceWidth * sourceHeight * components * byteCount;\n    target = new Buffer(gl2, {\n      byteLength: byteLength,\n      accessor: {\n        type: sourceType,\n        size: components\n      }\n    });\n  }\n\n  target.bind({\n    target: 35051\n  });\n  withParameters(gl2, {\n    framebuffer: framebuffer\n  }, function () {\n    gl2.readPixels(sourceX, sourceY, sourceWidth, sourceHeight, sourceFormat, sourceType, targetByteOffset);\n  });\n  target.unbind({\n    target: 35051\n  });\n\n  if (deleteFramebuffer) {\n    framebuffer.delete();\n  }\n\n  return target;\n}\nexport function copyToDataUrl(source) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$sourceAttachmen = _ref2.sourceAttachment,\n      sourceAttachment = _ref2$sourceAttachmen === void 0 ? 36064 : _ref2$sourceAttachmen,\n      _ref2$targetMaxHeight = _ref2.targetMaxHeight,\n      targetMaxHeight = _ref2$targetMaxHeight === void 0 ? Number.MAX_SAFE_INTEGER : _ref2$targetMaxHeight;\n\n  var data = readPixelsToArray(source, {\n    sourceAttachment: sourceAttachment\n  });\n  var width = source.width,\n      height = source.height;\n\n  while (height > targetMaxHeight) {\n    var _scalePixels = scalePixels({\n      data: data,\n      width: width,\n      height: height\n    });\n\n    data = _scalePixels.data;\n    width = _scalePixels.width;\n    height = _scalePixels.height;\n  }\n\n  flipRows({\n    data: data,\n    width: width,\n    height: height\n  });\n  var canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  var context = canvas.getContext('2d');\n  var imageData = context.createImageData(width, height);\n  imageData.data.set(data);\n  context.putImageData(imageData, 0, 0);\n  return canvas.toDataURL();\n}\nexport function copyToImage(source) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$sourceAttachmen = _ref3.sourceAttachment,\n      sourceAttachment = _ref3$sourceAttachmen === void 0 ? 36064 : _ref3$sourceAttachmen,\n      _ref3$targetImage = _ref3.targetImage,\n      targetImage = _ref3$targetImage === void 0 ? null : _ref3$targetImage;\n\n  var dataUrl = copyToDataUrl(source, {\n    sourceAttachment: sourceAttachment\n  });\n  targetImage = targetImage || new Image();\n  targetImage.src = dataUrl;\n  return targetImage;\n}\nexport function copyToTexture(source, target) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$sourceX2 = options.sourceX,\n      sourceX = _options$sourceX2 === void 0 ? 0 : _options$sourceX2,\n      _options$sourceY2 = options.sourceY,\n      sourceY = _options$sourceY2 === void 0 ? 0 : _options$sourceY2,\n      _options$targetMipmap = options.targetMipmaplevel,\n      targetMipmaplevel = _options$targetMipmap === void 0 ? 0 : _options$targetMipmap,\n      _options$targetIntern = options.targetInternalFormat,\n      targetInternalFormat = _options$targetIntern === void 0 ? 6408 : _options$targetIntern;\n  var targetX = options.targetX,\n      targetY = options.targetY,\n      targetZ = options.targetZ,\n      width = options.width,\n      height = options.height;\n\n  var _getFramebuffer3 = getFramebuffer(source),\n      framebuffer = _getFramebuffer3.framebuffer,\n      deleteFramebuffer = _getFramebuffer3.deleteFramebuffer;\n\n  assert(framebuffer);\n  var gl = framebuffer.gl,\n      handle = framebuffer.handle;\n  var isSubCopy = typeof targetX !== 'undefined' || typeof targetY !== 'undefined' || typeof targetZ !== 'undefined';\n  targetX = targetX || 0;\n  targetY = targetY || 0;\n  targetZ = targetZ || 0;\n  var prevHandle = gl.bindFramebuffer(36160, handle);\n  assert(target);\n  var texture = null;\n\n  if (target instanceof Texture) {\n    texture = target;\n    width = Number.isFinite(width) ? width : texture.width;\n    height = Number.isFinite(height) ? height : texture.height;\n    texture.bind(0);\n    target = texture.target;\n  }\n\n  if (!isSubCopy) {\n    gl.copyTexImage2D(target, targetMipmaplevel, targetInternalFormat, sourceX, sourceY, width, height, 0);\n  } else {\n    switch (target) {\n      case 3553:\n      case 34067:\n        gl.copyTexSubImage2D(target, targetMipmaplevel, targetX, targetY, sourceX, sourceY, width, height);\n        break;\n\n      case 35866:\n      case 32879:\n        var gl2 = assertWebGL2Context(gl);\n        gl2.copyTexSubImage3D(target, targetMipmaplevel, targetX, targetY, targetZ, sourceX, sourceY, width, height);\n        break;\n\n      default:\n    }\n  }\n\n  if (texture) {\n    texture.unbind();\n  }\n\n  gl.bindFramebuffer(36160, prevHandle || null);\n\n  if (deleteFramebuffer) {\n    framebuffer.delete();\n  }\n\n  return texture;\n}\nexport function blit(source, target) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$sourceX3 = options.sourceX0,\n      sourceX0 = _options$sourceX3 === void 0 ? 0 : _options$sourceX3,\n      _options$sourceY3 = options.sourceY0,\n      sourceY0 = _options$sourceY3 === void 0 ? 0 : _options$sourceY3,\n      _options$targetX = options.targetX0,\n      targetX0 = _options$targetX === void 0 ? 0 : _options$targetX,\n      _options$targetY = options.targetY0,\n      targetY0 = _options$targetY === void 0 ? 0 : _options$targetY,\n      _options$color = options.color,\n      color = _options$color === void 0 ? true : _options$color,\n      _options$depth = options.depth,\n      depth = _options$depth === void 0 ? false : _options$depth,\n      _options$stencil = options.stencil,\n      stencil = _options$stencil === void 0 ? false : _options$stencil,\n      _options$filter = options.filter,\n      filter = _options$filter === void 0 ? 9728 : _options$filter;\n  var sourceX1 = options.sourceX1,\n      sourceY1 = options.sourceY1,\n      targetX1 = options.targetX1,\n      targetY1 = options.targetY1,\n      _options$sourceAttach2 = options.sourceAttachment,\n      sourceAttachment = _options$sourceAttach2 === void 0 ? 36064 : _options$sourceAttach2,\n      _options$mask = options.mask,\n      mask = _options$mask === void 0 ? 0 : _options$mask;\n\n  var _getFramebuffer4 = getFramebuffer(source),\n      srcFramebuffer = _getFramebuffer4.framebuffer,\n      deleteSrcFramebuffer = _getFramebuffer4.deleteFramebuffer;\n\n  var _getFramebuffer5 = getFramebuffer(target),\n      dstFramebuffer = _getFramebuffer5.framebuffer,\n      deleteDstFramebuffer = _getFramebuffer5.deleteFramebuffer;\n\n  assert(srcFramebuffer);\n  assert(dstFramebuffer);\n  var gl = dstFramebuffer.gl,\n      handle = dstFramebuffer.handle,\n      width = dstFramebuffer.width,\n      height = dstFramebuffer.height,\n      readBuffer = dstFramebuffer.readBuffer;\n  var gl2 = assertWebGL2Context(gl);\n\n  if (!srcFramebuffer.handle && sourceAttachment === 36064) {\n    sourceAttachment = 1028;\n  }\n\n  if (color) {\n    mask |= 16384;\n  }\n\n  if (depth) {\n    mask |= 256;\n  }\n\n  if (stencil) {\n    mask |= 1024;\n  }\n\n  if (deleteSrcFramebuffer || deleteDstFramebuffer) {\n    if (mask & (256 | 1024)) {\n      mask = 16384;\n      log.warn('Blitting from or into a Texture object, forcing mask to GL.COLOR_BUFFER_BIT')();\n    }\n  }\n\n  assert(mask);\n  sourceX1 = sourceX1 === undefined ? srcFramebuffer.width : sourceX1;\n  sourceY1 = sourceY1 === undefined ? srcFramebuffer.height : sourceY1;\n  targetX1 = targetX1 === undefined ? width : targetX1;\n  targetY1 = targetY1 === undefined ? height : targetY1;\n  var prevDrawHandle = gl.bindFramebuffer(36009, handle);\n  var prevReadHandle = gl.bindFramebuffer(36008, srcFramebuffer.handle);\n  gl2.readBuffer(sourceAttachment);\n  gl2.blitFramebuffer(sourceX0, sourceY0, sourceX1, sourceY1, targetX0, targetY0, targetX1, targetY1, mask, filter);\n  gl2.readBuffer(readBuffer);\n  gl2.bindFramebuffer(36008, prevReadHandle || null);\n  gl2.bindFramebuffer(36009, prevDrawHandle || null);\n\n  if (deleteSrcFramebuffer) {\n    srcFramebuffer.delete();\n  }\n\n  if (deleteDstFramebuffer) {\n    dstFramebuffer.delete();\n  }\n\n  return dstFramebuffer;\n}\n\nfunction getFramebuffer(source) {\n  if (!(source instanceof Framebuffer)) {\n    return {\n      framebuffer: toFramebuffer(source),\n      deleteFramebuffer: true\n    };\n  }\n\n  return {\n    framebuffer: source,\n    deleteFramebuffer: false\n  };\n}\n\nfunction getPixelArray(pixelArray, type, format, width, height) {\n  if (pixelArray) {\n    return pixelArray;\n  }\n\n  type = type || 5121;\n  var ArrayType = getTypedArrayFromGLType(type, {\n    clamped: false\n  });\n  var components = glFormatToComponents(format);\n  return new ArrayType(width * height * components);\n}","import { assert } from '../utils/assert';\nexport function glFormatToComponents(format) {\n  switch (format) {\n    case 6406:\n    case 33326:\n    case 6403:\n      return 1;\n\n    case 33328:\n    case 33319:\n      return 2;\n\n    case 6407:\n    case 34837:\n      return 3;\n\n    case 6408:\n    case 34836:\n      return 4;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function glTypeToBytes(type) {\n  switch (type) {\n    case 5121:\n      return 1;\n\n    case 33635:\n    case 32819:\n    case 32820:\n      return 2;\n\n    case 5126:\n      return 4;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport WEBGL_FEATURES from './webgl-features-table';\nimport { isWebGL2, log } from '@luma.gl/gltools';\nimport { assert } from '../utils/assert';\nvar LOG_UNSUPPORTED_FEATURE = 2;\nexport function hasFeature(gl, feature) {\n  return hasFeatures(gl, feature);\n}\nexport function hasFeatures(gl, features) {\n  features = Array.isArray(features) ? features : [features];\n  return features.every(function (feature) {\n    return isFeatureSupported(gl, feature);\n  });\n}\nexport function getFeatures(gl) {\n  gl.luma = gl.luma || {};\n  gl.luma.caps = gl.luma.caps || {};\n\n  for (var cap in WEBGL_FEATURES) {\n    if (gl.luma.caps[cap] === undefined) {\n      gl.luma.caps[cap] = isFeatureSupported(gl, cap);\n    }\n  }\n\n  return gl.luma.caps;\n}\n\nfunction isFeatureSupported(gl, cap) {\n  gl.luma = gl.luma || {};\n  gl.luma.caps = gl.luma.caps || {};\n\n  if (gl.luma.caps[cap] === undefined) {\n    gl.luma.caps[cap] = queryFeature(gl, cap);\n  }\n\n  if (!gl.luma.caps[cap]) {\n    log.log(LOG_UNSUPPORTED_FEATURE, \"Feature: \".concat(cap, \" not supported\"))();\n  }\n\n  return gl.luma.caps[cap];\n}\n\nfunction queryFeature(gl, cap) {\n  var feature = WEBGL_FEATURES[cap];\n  assert(feature, cap);\n  var isSupported;\n  var featureDefinition = isWebGL2(gl) ? feature[1] || feature[0] : feature[0];\n\n  if (typeof featureDefinition === 'function') {\n    isSupported = featureDefinition(gl);\n  } else if (Array.isArray(featureDefinition)) {\n    isSupported = true;\n\n    var _iterator = _createForOfIteratorHelper(featureDefinition),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var extension = _step.value;\n        isSupported = isSupported && Boolean(gl.getExtension(extension));\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (typeof featureDefinition === 'string') {\n    isSupported = Boolean(gl.getExtension(featureDefinition));\n  } else if (typeof featureDefinition === 'boolean') {\n    isSupported = featureDefinition;\n  } else {\n    assert(false);\n  }\n\n  return isSupported;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { getWebGL2Context, assertWebGL2Context, log as _log } from '@luma.gl/gltools';\nimport Resource from './resource';\nimport Texture2D from './texture-2d';\nimport Renderbuffer from './renderbuffer';\nimport { clear as _clear, clearBuffer } from './clear';\nimport { copyToDataUrl } from './copy-and-blit.js';\nimport { getFeatures } from '../features';\nimport { getKey } from '../webgl-utils/constants-to-keys';\nimport { assert } from '../utils/assert';\nvar ERR_MULTIPLE_RENDERTARGETS = 'Multiple render targets not supported';\n\nvar Framebuffer = /*#__PURE__*/function (_Resource) {\n  _inherits(Framebuffer, _Resource);\n\n  var _super = _createSuper(Framebuffer);\n\n  function Framebuffer(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Framebuffer);\n\n    _this = _super.call(this, gl, opts);\n    _this.width = null;\n    _this.height = null;\n    _this.attachments = {};\n    _this.readBuffer = 36064;\n    _this.drawBuffers = [36064];\n    _this.ownResources = [];\n\n    _this.initialize(opts);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Framebuffer, [{\n    key: \"MAX_COLOR_ATTACHMENTS\",\n    get: function get() {\n      var gl2 = assertWebGL2Context(this.gl);\n      return gl2.getParameter(gl2.MAX_COLOR_ATTACHMENTS);\n    }\n  }, {\n    key: \"MAX_DRAW_BUFFERS\",\n    get: function get() {\n      var gl2 = assertWebGL2Context(this.gl);\n      return gl2.getParameter(gl2.MAX_DRAW_BUFFERS);\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      return this.attachments[36064] || null;\n    }\n  }, {\n    key: \"texture\",\n    get: function get() {\n      return this.attachments[36064] || null;\n    }\n  }, {\n    key: \"depth\",\n    get: function get() {\n      return this.attachments[36096] || this.attachments[33306] || null;\n    }\n  }, {\n    key: \"stencil\",\n    get: function get() {\n      return this.attachments[36128] || this.attachments[33306] || null;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(_ref) {\n      var _ref$width = _ref.width,\n          width = _ref$width === void 0 ? 1 : _ref$width,\n          _ref$height = _ref.height,\n          height = _ref$height === void 0 ? 1 : _ref$height,\n          _ref$attachments = _ref.attachments,\n          attachments = _ref$attachments === void 0 ? null : _ref$attachments,\n          _ref$color = _ref.color,\n          color = _ref$color === void 0 ? true : _ref$color,\n          _ref$depth = _ref.depth,\n          depth = _ref$depth === void 0 ? true : _ref$depth,\n          _ref$stencil = _ref.stencil,\n          stencil = _ref$stencil === void 0 ? false : _ref$stencil,\n          _ref$check = _ref.check,\n          check = _ref$check === void 0 ? true : _ref$check,\n          _ref$readBuffer = _ref.readBuffer,\n          readBuffer = _ref$readBuffer === void 0 ? undefined : _ref$readBuffer,\n          _ref$drawBuffers = _ref.drawBuffers,\n          drawBuffers = _ref$drawBuffers === void 0 ? undefined : _ref$drawBuffers;\n      assert(width >= 0 && height >= 0, 'Width and height need to be integers');\n      this.width = width;\n      this.height = height;\n\n      if (attachments) {\n        for (var attachment in attachments) {\n          var target = attachments[attachment];\n          var object = Array.isArray(target) ? target[0] : target;\n          object.resize({\n            width: width,\n            height: height\n          });\n        }\n      } else {\n        attachments = this._createDefaultAttachments(color, depth, stencil, width, height);\n      }\n\n      this.update({\n        clearAttachments: true,\n        attachments: attachments,\n        readBuffer: readBuffer,\n        drawBuffers: drawBuffers\n      });\n\n      if (attachments && check) {\n        this.checkStatus();\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _iterator = _createForOfIteratorHelper(this.ownResources),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var resource = _step.value;\n          resource.delete();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      _get(_getPrototypeOf(Framebuffer.prototype), \"delete\", this).call(this);\n\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref2) {\n      var _ref2$attachments = _ref2.attachments,\n          attachments = _ref2$attachments === void 0 ? {} : _ref2$attachments,\n          readBuffer = _ref2.readBuffer,\n          drawBuffers = _ref2.drawBuffers,\n          _ref2$clearAttachment = _ref2.clearAttachments,\n          clearAttachments = _ref2$clearAttachment === void 0 ? false : _ref2$clearAttachment,\n          _ref2$resizeAttachmen = _ref2.resizeAttachments,\n          resizeAttachments = _ref2$resizeAttachmen === void 0 ? true : _ref2$resizeAttachmen;\n      this.attach(attachments, {\n        clearAttachments: clearAttachments,\n        resizeAttachments: resizeAttachments\n      });\n      var gl = this.gl;\n      var prevHandle = gl.bindFramebuffer(36160, this.handle);\n\n      if (readBuffer) {\n        this._setReadBuffer(readBuffer);\n      }\n\n      if (drawBuffers) {\n        this._setDrawBuffers(drawBuffers);\n      }\n\n      gl.bindFramebuffer(36160, prevHandle || null);\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var width = options.width,\n          height = options.height;\n\n      if (this.handle === null) {\n        assert(width === undefined && height === undefined);\n        this.width = this.gl.drawingBufferWidth;\n        this.height = this.gl.drawingBufferHeight;\n        return this;\n      }\n\n      if (width === undefined) {\n        width = this.gl.drawingBufferWidth;\n      }\n\n      if (height === undefined) {\n        height = this.gl.drawingBufferHeight;\n      }\n\n      if (width !== this.width && height !== this.height) {\n        _log.log(2, \"Resizing framebuffer \".concat(this.id, \" to \").concat(width, \"x\").concat(height))();\n      }\n\n      for (var attachmentPoint in this.attachments) {\n        this.attachments[attachmentPoint].resize({\n          width: width,\n          height: height\n        });\n      }\n\n      this.width = width;\n      this.height = height;\n      return this;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(attachments) {\n      var _this2 = this;\n\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$clearAttachment = _ref3.clearAttachments,\n          clearAttachments = _ref3$clearAttachment === void 0 ? false : _ref3$clearAttachment,\n          _ref3$resizeAttachmen = _ref3.resizeAttachments,\n          resizeAttachments = _ref3$resizeAttachmen === void 0 ? true : _ref3$resizeAttachmen;\n\n      var newAttachments = {};\n\n      if (clearAttachments) {\n        Object.keys(this.attachments).forEach(function (key) {\n          newAttachments[key] = null;\n        });\n      }\n\n      Object.assign(newAttachments, attachments);\n      var prevHandle = this.gl.bindFramebuffer(36160, this.handle);\n\n      for (var key in newAttachments) {\n        assert(key !== undefined, 'Misspelled framebuffer binding point?');\n        var attachment = Number(key);\n        var descriptor = newAttachments[attachment];\n        var object = descriptor;\n\n        if (!object) {\n          this._unattach(attachment);\n        } else if (object instanceof Renderbuffer) {\n          this._attachRenderbuffer({\n            attachment: attachment,\n            renderbuffer: object\n          });\n        } else if (Array.isArray(descriptor)) {\n          var _descriptor = _slicedToArray(descriptor, 3),\n              texture = _descriptor[0],\n              _descriptor$ = _descriptor[1],\n              layer = _descriptor$ === void 0 ? 0 : _descriptor$,\n              _descriptor$2 = _descriptor[2],\n              level = _descriptor$2 === void 0 ? 0 : _descriptor$2;\n\n          object = texture;\n\n          this._attachTexture({\n            attachment: attachment,\n            texture: texture,\n            layer: layer,\n            level: level\n          });\n        } else {\n          this._attachTexture({\n            attachment: attachment,\n            texture: object,\n            layer: 0,\n            level: 0\n          });\n        }\n\n        if (resizeAttachments && object) {\n          object.resize({\n            width: this.width,\n            height: this.height\n          });\n        }\n      }\n\n      this.gl.bindFramebuffer(36160, prevHandle || null);\n      Object.assign(this.attachments, attachments);\n      Object.keys(this.attachments).filter(function (key) {\n        return !_this2.attachments[key];\n      }).forEach(function (key) {\n        delete _this2.attachments[key];\n      });\n    }\n  }, {\n    key: \"checkStatus\",\n    value: function checkStatus() {\n      var gl = this.gl;\n      var status = this.getStatus();\n\n      if (status !== 36053) {\n        throw new Error(_getFrameBufferStatus(status));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getStatus\",\n    value: function getStatus() {\n      var gl = this.gl;\n      var prevHandle = gl.bindFramebuffer(36160, this.handle);\n      var status = gl.checkFramebufferStatus(36160);\n      gl.bindFramebuffer(36160, prevHandle || null);\n      return status;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this3 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var color = options.color,\n          depth = options.depth,\n          stencil = options.stencil,\n          _options$drawBuffers = options.drawBuffers,\n          drawBuffers = _options$drawBuffers === void 0 ? [] : _options$drawBuffers;\n      var prevHandle = this.gl.bindFramebuffer(36160, this.handle);\n\n      if (color || depth || stencil) {\n        _clear(this.gl, {\n          color: color,\n          depth: depth,\n          stencil: stencil\n        });\n      }\n\n      drawBuffers.forEach(function (value, drawBuffer) {\n        clearBuffer(_this3.gl, {\n          drawBuffer: drawBuffer,\n          value: value\n        });\n      });\n      this.gl.bindFramebuffer(36160, prevHandle || null);\n      return this;\n    }\n  }, {\n    key: \"readPixels\",\n    value: function readPixels() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"readPixelsToBuffer\",\n    value: function readPixelsToBuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"copyToDataUrl\",\n    value: function copyToDataUrl() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"copyToImage\",\n    value: function copyToImage() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"copyToTexture\",\n    value: function copyToTexture() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})')();\n\n      return null;\n    }\n  }, {\n    key: \"blit\",\n    value: function blit() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)')();\n\n      return null;\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(_ref4) {\n      var _ref4$attachments = _ref4.attachments,\n          attachments = _ref4$attachments === void 0 ? [] : _ref4$attachments,\n          _ref4$x = _ref4.x,\n          x = _ref4$x === void 0 ? 0 : _ref4$x,\n          _ref4$y = _ref4.y,\n          y = _ref4$y === void 0 ? 0 : _ref4$y,\n          width = _ref4.width,\n          height = _ref4.height;\n      var gl2 = assertWebGL2Context(this.gl);\n      var prevHandle = gl2.bindFramebuffer(36008, this.handle);\n      var invalidateAll = x === 0 && y === 0 && width === undefined && height === undefined;\n\n      if (invalidateAll) {\n        gl2.invalidateFramebuffer(36008, attachments);\n      } else {\n        gl2.invalidateFramebuffer(36008, attachments, x, y, width, height);\n      }\n\n      gl2.bindFramebuffer(36008, prevHandle);\n      return this;\n    }\n  }, {\n    key: \"getAttachmentParameter\",\n    value: function getAttachmentParameter(attachment, pname, keys) {\n      var value = this._getAttachmentParameterFallback(pname);\n\n      if (value === null) {\n        this.gl.bindFramebuffer(36160, this.handle);\n        value = this.gl.getFramebufferAttachmentParameter(36160, attachment, pname);\n        this.gl.bindFramebuffer(36160, null);\n      }\n\n      if (keys && value > 1000) {\n        value = getKey(this.gl, value);\n      }\n\n      return value;\n    }\n  }, {\n    key: \"getAttachmentParameters\",\n    value: function getAttachmentParameters() {\n      var attachment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 36064;\n      var keys = arguments.length > 1 ? arguments[1] : undefined;\n      var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.constructor.ATTACHMENT_PARAMETERS || [];\n      var values = {};\n\n      var _iterator2 = _createForOfIteratorHelper(parameters),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var pname = _step2.value;\n          var key = keys ? getKey(this.gl, pname) : pname;\n          values[key] = this.getAttachmentParameter(attachment, pname, keys);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return values;\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var attachments = Object.keys(this.attachments);\n      var parameters = {};\n\n      for (var _i = 0, _attachments = attachments; _i < _attachments.length; _i++) {\n        var attachmentName = _attachments[_i];\n        var attachment = Number(attachmentName);\n        var key = keys ? getKey(this.gl, attachment) : attachment;\n        parameters[key] = this.getAttachmentParameters(attachment, keys);\n      }\n\n      return parameters;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (typeof window !== 'undefined') {\n        window.open(copyToDataUrl(this), 'luma-debug-texture');\n      }\n\n      return this;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var logLevel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (logLevel > _log.level || typeof window === 'undefined') {\n        return this;\n      }\n\n      message = message || \"Framebuffer \".concat(this.id);\n      var image = copyToDataUrl(this, {\n        targetMaxHeight: 100\n      });\n\n      _log.image({\n        logLevel: logLevel,\n        message: message,\n        image: image\n      }, message)();\n\n      return this;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$target = _ref5.target,\n          target = _ref5$target === void 0 ? 36160 : _ref5$target;\n\n      this.gl.bindFramebuffer(target, this.handle);\n      return this;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$target = _ref6.target,\n          target = _ref6$target === void 0 ? 36160 : _ref6$target;\n\n      this.gl.bindFramebuffer(target, null);\n      return this;\n    }\n  }, {\n    key: \"_createDefaultAttachments\",\n    value: function _createDefaultAttachments(color, depth, stencil, width, height) {\n      var defaultAttachments = null;\n\n      if (color) {\n        var _parameters;\n\n        defaultAttachments = defaultAttachments || {};\n        defaultAttachments[36064] = new Texture2D(this.gl, {\n          id: \"\".concat(this.id, \"-color0\"),\n          pixels: null,\n          format: 6408,\n          type: 5121,\n          width: width,\n          height: height,\n          mipmaps: false,\n          parameters: (_parameters = {}, _defineProperty(_parameters, 10241, 9729), _defineProperty(_parameters, 10240, 9729), _defineProperty(_parameters, 10242, 33071), _defineProperty(_parameters, 10243, 33071), _parameters)\n        });\n        this.ownResources.push(defaultAttachments[36064]);\n      }\n\n      if (depth && stencil) {\n        defaultAttachments = defaultAttachments || {};\n        defaultAttachments[33306] = new Renderbuffer(this.gl, {\n          id: \"\".concat(this.id, \"-depth-stencil\"),\n          format: 35056,\n          width: width,\n          height: 111\n        });\n        this.ownResources.push(defaultAttachments[33306]);\n      } else if (depth) {\n        defaultAttachments = defaultAttachments || {};\n        defaultAttachments[36096] = new Renderbuffer(this.gl, {\n          id: \"\".concat(this.id, \"-depth\"),\n          format: 33189,\n          width: width,\n          height: height\n        });\n        this.ownResources.push(defaultAttachments[36096]);\n      } else if (stencil) {\n        assert(false);\n      }\n\n      return defaultAttachments;\n    }\n  }, {\n    key: \"_unattach\",\n    value: function _unattach(attachment) {\n      var oldAttachment = this.attachments[attachment];\n\n      if (!oldAttachment) {\n        return;\n      }\n\n      if (oldAttachment instanceof Renderbuffer) {\n        this.gl.framebufferRenderbuffer(36160, attachment, 36161, null);\n      } else {\n        this.gl.framebufferTexture2D(36160, attachment, 3553, null, 0);\n      }\n\n      delete this.attachments[attachment];\n    }\n  }, {\n    key: \"_attachRenderbuffer\",\n    value: function _attachRenderbuffer(_ref7) {\n      var _ref7$attachment = _ref7.attachment,\n          attachment = _ref7$attachment === void 0 ? 36064 : _ref7$attachment,\n          renderbuffer = _ref7.renderbuffer;\n      var gl = this.gl;\n      gl.framebufferRenderbuffer(36160, attachment, 36161, renderbuffer.handle);\n      this.attachments[attachment] = renderbuffer;\n    }\n  }, {\n    key: \"_attachTexture\",\n    value: function _attachTexture(_ref8) {\n      var _ref8$attachment = _ref8.attachment,\n          attachment = _ref8$attachment === void 0 ? 36064 : _ref8$attachment,\n          texture = _ref8.texture,\n          layer = _ref8.layer,\n          level = _ref8.level;\n      var gl = this.gl;\n      gl.bindTexture(texture.target, texture.handle);\n\n      switch (texture.target) {\n        case 35866:\n        case 32879:\n          var gl2 = assertWebGL2Context(gl);\n          gl2.framebufferTextureLayer(36160, attachment, texture.target, level, layer);\n          break;\n\n        case 34067:\n          var face = mapIndexToCubeMapFace(layer);\n          gl.framebufferTexture2D(36160, attachment, face, texture.handle, level);\n          break;\n\n        case 3553:\n          gl.framebufferTexture2D(36160, attachment, 3553, texture.handle, level);\n          break;\n\n        default:\n          assert(false, 'Illegal texture type');\n      }\n\n      gl.bindTexture(texture.target, null);\n      this.attachments[attachment] = texture;\n    }\n  }, {\n    key: \"_setReadBuffer\",\n    value: function _setReadBuffer(readBuffer) {\n      var gl2 = getWebGL2Context(this.gl);\n\n      if (gl2) {\n        gl2.readBuffer(readBuffer);\n      } else {\n        assert(readBuffer === 36064 || readBuffer === 1029, ERR_MULTIPLE_RENDERTARGETS);\n      }\n\n      this.readBuffer = readBuffer;\n    }\n  }, {\n    key: \"_setDrawBuffers\",\n    value: function _setDrawBuffers(drawBuffers) {\n      var gl = this.gl;\n      var gl2 = assertWebGL2Context(gl);\n\n      if (gl2) {\n        gl2.drawBuffers(drawBuffers);\n      } else {\n        var ext = gl.getExtension('WEBGL_draw_buffers');\n\n        if (ext) {\n          ext.drawBuffersWEBGL(drawBuffers);\n        } else {\n          assert(drawBuffers.length === 1 && (drawBuffers[0] === 36064 || drawBuffers[0] === 1029), ERR_MULTIPLE_RENDERTARGETS);\n        }\n      }\n\n      this.drawBuffers = drawBuffers;\n    }\n  }, {\n    key: \"_getAttachmentParameterFallback\",\n    value: function _getAttachmentParameterFallback(pname) {\n      var caps = getFeatures(this.gl);\n\n      switch (pname) {\n        case 36052:\n          return !caps.WEBGL2 ? 0 : null;\n\n        case 33298:\n        case 33299:\n        case 33300:\n        case 33301:\n        case 33302:\n        case 33303:\n          return !caps.WEBGL2 ? 8 : null;\n\n        case 33297:\n          return !caps.WEBGL2 ? 5125 : null;\n\n        case 33296:\n          return !caps.WEBGL2 && !caps.EXT_sRGB ? 9729 : null;\n\n        default:\n          return null;\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createFramebuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteFramebuffer(this.handle);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      return this.gl.bindFramebuffer(36160, handle);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var colorBufferFloat = options.colorBufferFloat,\n          colorBufferHalfFloat = options.colorBufferHalfFloat;\n      var supported = true;\n\n      if (colorBufferFloat) {\n        supported = Boolean(gl.getExtension('EXT_color_buffer_float') || gl.getExtension('WEBGL_color_buffer_float') || gl.getExtension('OES_texture_float'));\n      }\n\n      if (colorBufferHalfFloat) {\n        supported = supported && Boolean(gl.getExtension('EXT_color_buffer_float') || gl.getExtension('EXT_color_buffer_half_float'));\n      }\n\n      return supported;\n    }\n  }, {\n    key: \"getDefaultFramebuffer\",\n    value: function getDefaultFramebuffer(gl) {\n      gl.luma = gl.luma || {};\n      gl.luma.defaultFramebuffer = gl.luma.defaultFramebuffer || new Framebuffer(gl, {\n        id: 'default-framebuffer',\n        handle: null,\n        attachments: {}\n      });\n      return gl.luma.defaultFramebuffer;\n    }\n  }]);\n\n  return Framebuffer;\n}(Resource);\n\nexport { Framebuffer as default };\n\nfunction mapIndexToCubeMapFace(layer) {\n  return layer < 34069 ? layer + 34069 : layer;\n}\n\nfunction _getFrameBufferStatus(status) {\n  var STATUS = Framebuffer.STATUS || {};\n  return STATUS[status] || \"Framebuffer error \".concat(status);\n}\n\nexport var FRAMEBUFFER_ATTACHMENT_PARAMETERS = [36049, 36048, 33296, 33298, 33299, 33300, 33301, 33302, 33303];\nFramebuffer.ATTACHMENT_PARAMETERS = FRAMEBUFFER_ATTACHMENT_PARAMETERS;","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _UNIFORM_SETTERS;\n\nimport { log } from '@luma.gl/gltools';\nimport Framebuffer from './framebuffer';\nimport Renderbuffer from './renderbuffer';\nimport Texture from './texture';\nimport { assert } from '../utils/assert';\nvar UNIFORM_SETTERS = (_UNIFORM_SETTERS = {}, _defineProperty(_UNIFORM_SETTERS, 5126, getArraySetter.bind(null, 'uniform1fv', toFloatArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35664, getArraySetter.bind(null, 'uniform2fv', toFloatArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35665, getArraySetter.bind(null, 'uniform3fv', toFloatArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35666, getArraySetter.bind(null, 'uniform4fv', toFloatArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 5124, getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35667, getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35668, getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35669, getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35670, getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35671, getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35672, getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35673, getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35674, getArraySetter.bind(null, 'uniformMatrix2fv', toFloatArray, 4, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35675, getArraySetter.bind(null, 'uniformMatrix3fv', toFloatArray, 9, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35676, getArraySetter.bind(null, 'uniformMatrix4fv', toFloatArray, 16, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35678, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 35680, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 5125, getArraySetter.bind(null, 'uniform1uiv', toUIntArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 36294, getArraySetter.bind(null, 'uniform2uiv', toUIntArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 36295, getArraySetter.bind(null, 'uniform3uiv', toUIntArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 36296, getArraySetter.bind(null, 'uniform4uiv', toUIntArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35685, getArraySetter.bind(null, 'uniformMatrix2x3fv', toFloatArray, 6, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35686, getArraySetter.bind(null, 'uniformMatrix2x4fv', toFloatArray, 8, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35687, getArraySetter.bind(null, 'uniformMatrix3x2fv', toFloatArray, 6, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35688, getArraySetter.bind(null, 'uniformMatrix3x4fv', toFloatArray, 12, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35689, getArraySetter.bind(null, 'uniformMatrix4x2fv', toFloatArray, 8, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35690, getArraySetter.bind(null, 'uniformMatrix4x3fv', toFloatArray, 12, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35678, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 35680, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 35679, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 35682, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36289, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36292, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36293, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36298, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36299, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36300, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36303, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36306, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36307, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36308, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36311, getSamplerSetter), _UNIFORM_SETTERS);\nvar FLOAT_ARRAY = {};\nvar INT_ARRAY = {};\nvar UINT_ARRAY = {};\nvar array1 = [0];\n\nfunction toTypedArray(value, uniformLength, Type, cache) {\n  if (uniformLength === 1 && typeof value === 'boolean') {\n    value = value ? 1 : 0;\n  }\n\n  if (Number.isFinite(value)) {\n    array1[0] = value;\n    value = array1;\n  }\n\n  var length = value.length;\n\n  if (length % uniformLength) {\n    log.warn(\"Uniform size should be multiples of \".concat(uniformLength), value)();\n  }\n\n  if (value instanceof Type) {\n    return value;\n  }\n\n  var result = cache[length];\n\n  if (!result) {\n    result = new Type(length);\n    cache[length] = result;\n  }\n\n  for (var i = 0; i < length; i++) {\n    result[i] = value[i];\n  }\n\n  return result;\n}\n\nfunction toFloatArray(value, uniformLength) {\n  return toTypedArray(value, uniformLength, Float32Array, FLOAT_ARRAY);\n}\n\nfunction toIntArray(value, uniformLength) {\n  return toTypedArray(value, uniformLength, Int32Array, INT_ARRAY);\n}\n\nfunction toUIntArray(value, uniformLength) {\n  return toTypedArray(value, uniformLength, Uint32Array, UINT_ARRAY);\n}\n\nexport function getUniformSetter(gl, location, info) {\n  var setter = UNIFORM_SETTERS[info.type];\n\n  if (!setter) {\n    throw new Error(\"Unknown GLSL uniform type \".concat(info.type));\n  }\n\n  return setter().bind(null, gl, location);\n}\nexport function parseUniformName(name) {\n  if (name[name.length - 1] !== ']') {\n    return {\n      name: name,\n      length: 1,\n      isArray: false\n    };\n  }\n\n  var UNIFORM_NAME_REGEXP = /([^[]*)(\\[[0-9]+\\])?/;\n  var matches = name.match(UNIFORM_NAME_REGEXP);\n\n  if (!matches || matches.length < 2) {\n    throw new Error(\"Failed to parse GLSL uniform name \".concat(name));\n  }\n\n  return {\n    name: matches[1],\n    length: matches[2] || 1,\n    isArray: Boolean(matches[2])\n  };\n}\nexport function checkUniformValues(uniforms, source, uniformMap) {\n  for (var uniformName in uniforms) {\n    var value = uniforms[uniformName];\n    var shouldCheck = !uniformMap || Boolean(uniformMap[uniformName]);\n\n    if (shouldCheck && !checkUniformValue(value)) {\n      source = source ? \"\".concat(source, \" \") : '';\n      console.error(\"\".concat(source, \" Bad uniform \").concat(uniformName), value);\n      throw new Error(\"\".concat(source, \" Bad uniform \").concat(uniformName));\n    }\n  }\n\n  return true;\n}\n\nfunction checkUniformValue(value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    return checkUniformArray(value);\n  }\n\n  if (isFinite(value)) {\n    return true;\n  } else if (value === true || value === false) {\n    return true;\n  } else if (value instanceof Texture) {\n    return true;\n  } else if (value instanceof Renderbuffer) {\n    return true;\n  } else if (value instanceof Framebuffer) {\n    return Boolean(value.texture);\n  }\n\n  return false;\n}\n\nexport function copyUniform(uniforms, key, value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    if (uniforms[key]) {\n      var dest = uniforms[key];\n\n      for (var i = 0, len = value.length; i < len; ++i) {\n        dest[i] = value[i];\n      }\n    } else {\n      uniforms[key] = value.slice();\n    }\n  } else {\n    uniforms[key] = value;\n  }\n}\n\nfunction checkUniformArray(value) {\n  if (value.length === 0) {\n    return false;\n  }\n\n  var checkLength = Math.min(value.length, 16);\n\n  for (var i = 0; i < checkLength; ++i) {\n    if (!Number.isFinite(value[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getSamplerSetter() {\n  var cache = null;\n  return function (gl, location, value) {\n    var update = cache !== value;\n\n    if (update) {\n      gl.uniform1i(location, value);\n      cache = value;\n    }\n\n    return update;\n  };\n}\n\nfunction getArraySetter(functionName, toArray, size, uniformSetter) {\n  var cache = null;\n  var cacheLength = null;\n  return function (gl, location, value) {\n    var arrayValue = toArray(value, size);\n    var length = arrayValue.length;\n    var update = false;\n\n    if (cache === null) {\n      cache = new Float32Array(length);\n      cacheLength = length;\n      update = true;\n    } else {\n      assert(cacheLength === length, 'Uniform length cannot change.');\n\n      for (var i = 0; i < length; ++i) {\n        if (arrayValue[i] !== cache[i]) {\n          update = true;\n          break;\n        }\n      }\n    }\n\n    if (update) {\n      uniformSetter(gl, functionName, location, arrayValue);\n      cache.set(arrayValue);\n    }\n\n    return update;\n  };\n}\n\nfunction setVectorUniform(gl, functionName, location, value) {\n  gl[functionName](location, value);\n}\n\nfunction setMatrixUniform(gl, functionName, location, value) {\n  gl[functionName](location, false, value);\n}","export default function getShaderName(shader) {\n  var defaultName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'unnamed';\n  var SHADER_NAME_REGEXP = /#define[\\s*]SHADER_NAME[\\s*]([A-Za-z0-9_-]+)[\\s*]/;\n  var match = shader.match(SHADER_NAME_REGEXP);\n  return match ? match[1] : defaultName;\n}","import getShaderName from './get-shader-name';\nimport getShaderTypeName from './get-shader-type-name';\nexport default function formatGLSLCompilerError(errLog, src, shaderType) {\n  var _parseGLSLCompilerErr = parseGLSLCompilerError(errLog, src, shaderType),\n      shaderName = _parseGLSLCompilerErr.shaderName,\n      errors = _parseGLSLCompilerErr.errors,\n      warnings = _parseGLSLCompilerErr.warnings;\n\n  return \"GLSL compilation error in \".concat(shaderName, \"\\n\\n\").concat(errors, \"\\n\").concat(warnings);\n}\nexport function parseGLSLCompilerError(errLog, src, shaderType, shaderName) {\n  var errorStrings = errLog.split(/\\r?\\n/);\n  var errors = {};\n  var warnings = {};\n  var name = shaderName || getShaderName(src) || '(unnamed)';\n  var shaderDescription = \"\".concat(getShaderTypeName(shaderType), \" shader \").concat(name);\n\n  for (var i = 0; i < errorStrings.length; i++) {\n    var errorString = errorStrings[i];\n\n    if (errorString.length <= 1) {\n      continue;\n    }\n\n    var segments = errorString.split(':');\n    var type = segments[0];\n    var line = parseInt(segments[2], 10);\n\n    if (isNaN(line)) {\n      throw new Error(\"GLSL compilation error in \".concat(shaderDescription, \": \").concat(errLog));\n    }\n\n    if (type !== 'WARNING') {\n      errors[line] = errorString;\n    } else {\n      warnings[line] = errorString;\n    }\n  }\n\n  var lines = addLineNumbers(src);\n  return {\n    shaderName: shaderDescription,\n    errors: formatErrors(errors, lines),\n    warnings: formatErrors(warnings, lines)\n  };\n}\n\nfunction formatErrors(errors, lines) {\n  var message = '';\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n\n    if (!errors[i + 3] && !errors[i + 2] && !errors[i + 1]) {\n      continue;\n    }\n\n    message += \"\".concat(line, \"\\n\");\n\n    if (errors[i + 1]) {\n      var error = errors[i + 1];\n      var segments = error.split(':', 3);\n      var type = segments[0];\n      var column = parseInt(segments[1], 10) || 0;\n      var err = error.substring(segments.join(':').length + 1).trim();\n      message += padLeft(\"^^^ \".concat(type, \": \").concat(err, \"\\n\\n\"), column);\n    }\n  }\n\n  return message;\n}\n\nfunction addLineNumbers(string) {\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var delim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ': ';\n  var lines = string.split(/\\r?\\n/);\n  var maxDigits = String(lines.length + start - 1).length;\n  return lines.map(function (line, i) {\n    var lineNumber = String(i + start);\n    var digits = lineNumber.length;\n    var prefix = padLeft(lineNumber, maxDigits - digits);\n    return prefix + delim + line;\n  });\n}\n\nfunction padLeft(string, digits) {\n  var result = '';\n\n  for (var i = 0; i < digits; ++i) {\n    result += ' ';\n  }\n\n  return \"\".concat(result).concat(string);\n}","var GL_FRAGMENT_SHADER = 0x8b30;\nvar GL_VERTEX_SHADER = 0x8b31;\nexport default function getShaderTypeName(type) {\n  switch (type) {\n    case GL_FRAGMENT_SHADER:\n      return 'fragment';\n\n    case GL_VERTEX_SHADER:\n      return 'vertex';\n\n    default:\n      return 'unknown type';\n  }\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { assertWebGLContext, log } from '@luma.gl/gltools';\nimport { parseGLSLCompilerError, getShaderName } from '../glsl-utils';\nimport { assert } from '../utils/assert';\nimport { uid } from '../utils/utils';\nimport Resource from './resource';\nvar ERR_SOURCE = 'Shader: GLSL source code must be a JavaScript string';\nexport var Shader = /*#__PURE__*/function (_Resource) {\n  _inherits(Shader, _Resource);\n\n  var _super = _createSuper(Shader);\n\n  function Shader(gl, props) {\n    var _this;\n\n    _classCallCheck(this, Shader);\n\n    assertWebGLContext(gl);\n    assert(typeof props.source === 'string', ERR_SOURCE);\n    var id = getShaderName(props.source, null) || props.id || uid(\"unnamed \".concat(Shader.getTypeName(props.shaderType)));\n    _this = _super.call(this, gl, {\n      id: id\n    });\n    _this.shaderType = props.shaderType;\n    _this.source = props.source;\n\n    _this.initialize(props);\n\n    return _this;\n  }\n\n  _createClass(Shader, [{\n    key: \"initialize\",\n    value: function initialize(_ref) {\n      var source = _ref.source;\n      var shaderName = getShaderName(source, null);\n\n      if (shaderName) {\n        this.id = uid(shaderName);\n      }\n\n      this._compile(source);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      return this.gl.getShaderParameter(this.handle, pname);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(Shader.getTypeName(this.shaderType), \":\").concat(this.id);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return getShaderName(this.source) || 'unnamed-shader';\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource() {\n      return this.gl.getShaderSource(this.handle);\n    }\n  }, {\n    key: \"getTranslatedSource\",\n    value: function getTranslatedSource() {\n      var extension = this.gl.getExtension('WEBGL_debug_shaders');\n      return extension ? extension.getTranslatedShaderSource(this.handle) : 'No translated source available. WEBGL_debug_shaders not implemented';\n    }\n  }, {\n    key: \"_compile\",\n    value: function _compile() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.source;\n\n      if (!source.startsWith('#version ')) {\n        source = \"#version 100\\n\".concat(source);\n      }\n\n      this.source = source;\n      this.gl.shaderSource(this.handle, this.source);\n      this.gl.compileShader(this.handle);\n      var compileStatus = this.getParameter(35713);\n\n      if (!compileStatus) {\n        var infoLog = this.gl.getShaderInfoLog(this.handle);\n\n        var _parseGLSLCompilerErr = parseGLSLCompilerError(infoLog, this.source, this.shaderType, this.id),\n            shaderName = _parseGLSLCompilerErr.shaderName,\n            errors = _parseGLSLCompilerErr.errors,\n            warnings = _parseGLSLCompilerErr.warnings;\n\n        log.error(\"GLSL compilation errors in \".concat(shaderName, \"\\n\").concat(errors))();\n        log.warn(\"GLSL compilation warnings in \".concat(shaderName, \"\\n\").concat(warnings))();\n        throw new Error(\"GLSL compilation errors in \".concat(shaderName));\n      }\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteShader(this.handle);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      return {\n        type: this.getParameter(35663),\n        source: this.getSource()\n      };\n    }\n  }], [{\n    key: \"getTypeName\",\n    value: function getTypeName(shaderType) {\n      switch (shaderType) {\n        case 35633:\n          return 'vertex-shader';\n\n        case 35632:\n          return 'fragment-shader';\n\n        default:\n          assert(false);\n          return 'unknown';\n      }\n    }\n  }]);\n\n  return Shader;\n}(Resource);\nexport var VertexShader = /*#__PURE__*/function (_Shader) {\n  _inherits(VertexShader, _Shader);\n\n  var _super2 = _createSuper(VertexShader);\n\n  function VertexShader(gl, props) {\n    _classCallCheck(this, VertexShader);\n\n    if (typeof props === 'string') {\n      props = {\n        source: props\n      };\n    }\n\n    return _super2.call(this, gl, Object.assign({}, props, {\n      shaderType: 35633\n    }));\n  }\n\n  _createClass(VertexShader, [{\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createShader(35633);\n    }\n  }]);\n\n  return VertexShader;\n}(Shader);\nexport var FragmentShader = /*#__PURE__*/function (_Shader2) {\n  _inherits(FragmentShader, _Shader2);\n\n  var _super3 = _createSuper(FragmentShader);\n\n  function FragmentShader(gl, props) {\n    _classCallCheck(this, FragmentShader);\n\n    if (typeof props === 'string') {\n      props = {\n        source: props\n      };\n    }\n\n    return _super3.call(this, gl, Object.assign({}, props, {\n      shaderType: 35632\n    }));\n  }\n\n  _createClass(FragmentShader, [{\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createShader(35632);\n    }\n  }]);\n\n  return FragmentShader;\n}(Shader);","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _COMPOSITE_GL_TYPES;\n\nimport { assert } from '../utils/assert';\nvar GL_BYTE = 0x1400;\nvar GL_UNSIGNED_BYTE = 0x1401;\nvar GL_SHORT = 0x1402;\nvar GL_UNSIGNED_SHORT = 0x1403;\nvar GL_POINTS = 0x0;\nvar GL_LINES = 0x1;\nvar GL_LINE_LOOP = 0x2;\nvar GL_LINE_STRIP = 0x3;\nvar GL_TRIANGLES = 0x4;\nvar GL_TRIANGLE_STRIP = 0x5;\nvar GL_TRIANGLE_FAN = 0x6;\nvar GL_FLOAT = 0x1406;\nvar GL_FLOAT_VEC2 = 0x8b50;\nvar GL_FLOAT_VEC3 = 0x8b51;\nvar GL_FLOAT_VEC4 = 0x8b52;\nvar GL_INT = 0x1404;\nvar GL_INT_VEC2 = 0x8b53;\nvar GL_INT_VEC3 = 0x8b54;\nvar GL_INT_VEC4 = 0x8b55;\nvar GL_UNSIGNED_INT = 0x1405;\nvar GL_UNSIGNED_INT_VEC2 = 0x8dc6;\nvar GL_UNSIGNED_INT_VEC3 = 0x8dc7;\nvar GL_UNSIGNED_INT_VEC4 = 0x8dc8;\nvar GL_BOOL = 0x8b56;\nvar GL_BOOL_VEC2 = 0x8b57;\nvar GL_BOOL_VEC3 = 0x8b58;\nvar GL_BOOL_VEC4 = 0x8b59;\nvar GL_FLOAT_MAT2 = 0x8b5a;\nvar GL_FLOAT_MAT3 = 0x8b5b;\nvar GL_FLOAT_MAT4 = 0x8b5c;\nvar GL_FLOAT_MAT2x3 = 0x8b65;\nvar GL_FLOAT_MAT2x4 = 0x8b66;\nvar GL_FLOAT_MAT3x2 = 0x8b67;\nvar GL_FLOAT_MAT3x4 = 0x8b68;\nvar GL_FLOAT_MAT4x2 = 0x8b69;\nvar GL_FLOAT_MAT4x3 = 0x8b6a;\nvar COMPOSITE_GL_TYPES = (_COMPOSITE_GL_TYPES = {}, _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT, [GL_FLOAT, 1, 'float']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_VEC2, [GL_FLOAT, 2, 'vec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_VEC3, [GL_FLOAT, 3, 'vec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_VEC4, [GL_FLOAT, 4, 'vec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT, [GL_INT, 1, 'int']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT_VEC2, [GL_INT, 2, 'ivec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT_VEC3, [GL_INT, 3, 'ivec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT_VEC4, [GL_INT, 4, 'ivec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT, [GL_UNSIGNED_INT, 1, 'uint']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT_VEC2, [GL_UNSIGNED_INT, 2, 'uvec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT_VEC3, [GL_UNSIGNED_INT, 3, 'uvec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT_VEC4, [GL_UNSIGNED_INT, 4, 'uvec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL, [GL_FLOAT, 1, 'bool']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL_VEC2, [GL_FLOAT, 2, 'bvec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL_VEC3, [GL_FLOAT, 3, 'bvec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL_VEC4, [GL_FLOAT, 4, 'bvec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT2, [GL_FLOAT, 8, 'mat2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT2x3, [GL_FLOAT, 8, 'mat2x3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT2x4, [GL_FLOAT, 8, 'mat2x4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT3, [GL_FLOAT, 12, 'mat3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT3x2, [GL_FLOAT, 12, 'mat3x2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT3x4, [GL_FLOAT, 12, 'mat3x4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT4, [GL_FLOAT, 16, 'mat4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT4x2, [GL_FLOAT, 16, 'mat4x2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT4x3, [GL_FLOAT, 16, 'mat4x3']), _COMPOSITE_GL_TYPES);\nexport function getPrimitiveDrawMode(drawMode) {\n  switch (drawMode) {\n    case GL_POINTS:\n      return GL_POINTS;\n\n    case GL_LINES:\n      return GL_LINES;\n\n    case GL_LINE_STRIP:\n      return GL_LINES;\n\n    case GL_LINE_LOOP:\n      return GL_LINES;\n\n    case GL_TRIANGLES:\n      return GL_TRIANGLES;\n\n    case GL_TRIANGLE_STRIP:\n      return GL_TRIANGLES;\n\n    case GL_TRIANGLE_FAN:\n      return GL_TRIANGLES;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function getPrimitiveCount(_ref) {\n  var drawMode = _ref.drawMode,\n      vertexCount = _ref.vertexCount;\n\n  switch (drawMode) {\n    case GL_POINTS:\n    case GL_LINE_LOOP:\n      return vertexCount;\n\n    case GL_LINES:\n      return vertexCount / 2;\n\n    case GL_LINE_STRIP:\n      return vertexCount - 1;\n\n    case GL_TRIANGLES:\n      return vertexCount / 3;\n\n    case GL_TRIANGLE_STRIP:\n    case GL_TRIANGLE_FAN:\n      return vertexCount - 2;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function getVertexCount(_ref2) {\n  var drawMode = _ref2.drawMode,\n      vertexCount = _ref2.vertexCount;\n  var primitiveCount = getPrimitiveCount({\n    drawMode: drawMode,\n    vertexCount: vertexCount\n  });\n\n  switch (getPrimitiveDrawMode(drawMode)) {\n    case GL_POINTS:\n      return primitiveCount;\n\n    case GL_LINES:\n      return primitiveCount * 2;\n\n    case GL_TRIANGLES:\n      return primitiveCount * 3;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function decomposeCompositeGLType(compositeGLType) {\n  var typeAndSize = COMPOSITE_GL_TYPES[compositeGLType];\n\n  if (!typeAndSize) {\n    return null;\n  }\n\n  var _typeAndSize = _slicedToArray(typeAndSize, 2),\n      type = _typeAndSize[0],\n      components = _typeAndSize[1];\n\n  return {\n    type: type,\n    components: components\n  };\n}\nexport function getCompositeGLType(type, components) {\n  switch (type) {\n    case GL_BYTE:\n    case GL_UNSIGNED_BYTE:\n    case GL_SHORT:\n    case GL_UNSIGNED_SHORT:\n      type = GL_FLOAT;\n      break;\n\n    default:\n  }\n\n  for (var glType in COMPOSITE_GL_TYPES) {\n    var _COMPOSITE_GL_TYPES$g = _slicedToArray(COMPOSITE_GL_TYPES[glType], 3),\n        compType = _COMPOSITE_GL_TYPES$g[0],\n        compComponents = _COMPOSITE_GL_TYPES$g[1],\n        name = _COMPOSITE_GL_TYPES$g[2];\n\n    if (compType === type && compComponents === components) {\n      return {\n        glType: glType,\n        name: name\n      };\n    }\n  }\n\n  return null;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport Accessor from './accessor';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { decomposeCompositeGLType } from '../webgl-utils/attribute-utils';\n\nvar ProgramConfiguration = /*#__PURE__*/function () {\n  function ProgramConfiguration(program) {\n    _classCallCheck(this, ProgramConfiguration);\n\n    this.id = program.id;\n    this.attributeInfos = [];\n    this.attributeInfosByName = {};\n    this.attributeInfosByLocation = [];\n    this.varyingInfos = [];\n    this.varyingInfosByName = {};\n    Object.seal(this);\n\n    this._readAttributesFromProgram(program);\n\n    this._readVaryingsFromProgram(program);\n  }\n\n  _createClass(ProgramConfiguration, [{\n    key: \"getAttributeInfo\",\n    value: function getAttributeInfo(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return this.attributeInfosByLocation[location];\n      }\n\n      return this.attributeInfosByName[locationOrName] || null;\n    }\n  }, {\n    key: \"getAttributeLocation\",\n    value: function getAttributeLocation(locationOrName) {\n      var attributeInfo = this.getAttributeInfo(locationOrName);\n      return attributeInfo ? attributeInfo.location : -1;\n    }\n  }, {\n    key: \"getAttributeAccessor\",\n    value: function getAttributeAccessor(locationOrName) {\n      var attributeInfo = this.getAttributeInfo(locationOrName);\n      return attributeInfo ? attributeInfo.accessor : null;\n    }\n  }, {\n    key: \"getVaryingInfo\",\n    value: function getVaryingInfo(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return this.varyingInfos[location];\n      }\n\n      return this.varyingInfosByName[locationOrName] || null;\n    }\n  }, {\n    key: \"getVaryingIndex\",\n    value: function getVaryingIndex(locationOrName) {\n      var varying = this.getVaryingInfo();\n      return varying ? varying.location : -1;\n    }\n  }, {\n    key: \"getVaryingAccessor\",\n    value: function getVaryingAccessor(locationOrName) {\n      var varying = this.getVaryingInfo();\n      return varying ? varying.accessor : null;\n    }\n  }, {\n    key: \"_readAttributesFromProgram\",\n    value: function _readAttributesFromProgram(program) {\n      var gl = program.gl;\n      var count = gl.getProgramParameter(program.handle, 35721);\n\n      for (var index = 0; index < count; index++) {\n        var _gl$getActiveAttrib = gl.getActiveAttrib(program.handle, index),\n            name = _gl$getActiveAttrib.name,\n            type = _gl$getActiveAttrib.type,\n            size = _gl$getActiveAttrib.size;\n\n        var location = gl.getAttribLocation(program.handle, name);\n\n        if (location >= 0) {\n          this._addAttribute(location, name, type, size);\n        }\n      }\n\n      this.attributeInfos.sort(function (a, b) {\n        return a.location - b.location;\n      });\n    }\n  }, {\n    key: \"_readVaryingsFromProgram\",\n    value: function _readVaryingsFromProgram(program) {\n      var gl = program.gl;\n\n      if (!isWebGL2(gl)) {\n        return;\n      }\n\n      var count = gl.getProgramParameter(program.handle, 35971);\n\n      for (var location = 0; location < count; location++) {\n        var _gl$getTransformFeedb = gl.getTransformFeedbackVarying(program.handle, location),\n            name = _gl$getTransformFeedb.name,\n            type = _gl$getTransformFeedb.type,\n            size = _gl$getTransformFeedb.size;\n\n        this._addVarying(location, name, type, size);\n      }\n\n      this.varyingInfos.sort(function (a, b) {\n        return a.location - b.location;\n      });\n    }\n  }, {\n    key: \"_addAttribute\",\n    value: function _addAttribute(location, name, compositeType, size) {\n      var _decomposeCompositeGL = decomposeCompositeGLType(compositeType),\n          type = _decomposeCompositeGL.type,\n          components = _decomposeCompositeGL.components;\n\n      var accessor = {\n        type: type,\n        size: size * components\n      };\n\n      this._inferProperties(location, name, accessor);\n\n      var attributeInfo = {\n        location: location,\n        name: name,\n        accessor: new Accessor(accessor)\n      };\n      this.attributeInfos.push(attributeInfo);\n      this.attributeInfosByLocation[location] = attributeInfo;\n      this.attributeInfosByName[attributeInfo.name] = attributeInfo;\n    }\n  }, {\n    key: \"_inferProperties\",\n    value: function _inferProperties(location, name, accessor) {\n      if (/instance/i.test(name)) {\n        accessor.divisor = 1;\n      }\n    }\n  }, {\n    key: \"_addVarying\",\n    value: function _addVarying(location, name, compositeType, size) {\n      var _decomposeCompositeGL2 = decomposeCompositeGLType(compositeType),\n          type = _decomposeCompositeGL2.type,\n          components = _decomposeCompositeGL2.components;\n\n      var accessor = new Accessor({\n        type: type,\n        size: size * components\n      });\n      var varying = {\n        location: location,\n        name: name,\n        accessor: accessor\n      };\n      this.varyingInfos.push(varying);\n      this.varyingInfosByName[varying.name] = varying;\n    }\n  }]);\n\n  return ProgramConfiguration;\n}();\n\nexport { ProgramConfiguration as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Resource from './resource';\nimport Texture from './texture';\nimport Framebuffer from './framebuffer';\nimport { parseUniformName, getUniformSetter } from './uniforms';\nimport { VertexShader, FragmentShader } from './shader';\nimport ProgramConfiguration from './program-configuration';\nimport { copyUniform, checkUniformValues } from './uniforms';\nimport { isWebGL2, assertWebGL2Context, withParameters, log } from '@luma.gl/gltools';\nimport { getKey } from '../webgl-utils/constants-to-keys';\nimport { getPrimitiveDrawMode } from '../webgl-utils/attribute-utils';\nimport { assert } from '../utils/assert';\nimport { uid } from '../utils/utils';\nvar LOG_PROGRAM_PERF_PRIORITY = 4;\nvar GL_SEPARATE_ATTRIBS = 0x8c8d;\nvar V6_DEPRECATED_METHODS = ['setVertexArray', 'setAttributes', 'setBuffers', 'unsetBuffers', 'use', 'getUniformCount', 'getUniformInfo', 'getUniformLocation', 'getUniformValue', 'getVarying', 'getFragDataLocation', 'getAttachedShaders', 'getAttributeCount', 'getAttributeLocation', 'getAttributeInfo'];\n\nvar Program = /*#__PURE__*/function (_Resource) {\n  _inherits(Program, _Resource);\n\n  var _super = _createSuper(Program);\n\n  function Program(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Program);\n\n    _this = _super.call(this, gl, props);\n\n    _this.stubRemovedMethods('Program', 'v6.0', V6_DEPRECATED_METHODS);\n\n    _this._isCached = false;\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n\n    _this._setId(props.id);\n\n    return _this;\n  }\n\n  _createClass(Program, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var hash = props.hash,\n          vs = props.vs,\n          fs = props.fs,\n          varyings = props.varyings,\n          _props$bufferMode = props.bufferMode,\n          bufferMode = _props$bufferMode === void 0 ? GL_SEPARATE_ATTRIBS : _props$bufferMode;\n      this.hash = hash || '';\n      this.vs = typeof vs === 'string' ? new VertexShader(this.gl, {\n        id: \"\".concat(props.id, \"-vs\"),\n        source: vs\n      }) : vs;\n      this.fs = typeof fs === 'string' ? new FragmentShader(this.gl, {\n        id: \"\".concat(props.id, \"-fs\"),\n        source: fs\n      }) : fs;\n      assert(this.vs instanceof VertexShader);\n      assert(this.fs instanceof FragmentShader);\n      this.uniforms = {};\n      this._textureUniforms = {};\n\n      if (varyings && varyings.length > 0) {\n        assertWebGL2Context(this.gl);\n        this.varyings = varyings;\n        this.gl2.transformFeedbackVaryings(this.handle, varyings, bufferMode);\n      }\n\n      this._compileAndLink();\n\n      this._readUniformLocationsFromLinkedProgram();\n\n      this.configuration = new ProgramConfiguration(this);\n      return this.setProps(props);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._isCached) {\n        return this;\n      }\n\n      return _get(_getPrototypeOf(Program.prototype), \"delete\", this).call(this, options);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('uniforms' in props) {\n        this.setUniforms(props.uniforms);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref) {\n      var _this2 = this;\n\n      var logPriority = _ref.logPriority,\n          _ref$drawMode = _ref.drawMode,\n          drawMode = _ref$drawMode === void 0 ? 4 : _ref$drawMode,\n          vertexCount = _ref.vertexCount,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          start = _ref.start,\n          end = _ref.end,\n          _ref$isIndexed = _ref.isIndexed,\n          isIndexed = _ref$isIndexed === void 0 ? false : _ref$isIndexed,\n          _ref$indexType = _ref.indexType,\n          indexType = _ref$indexType === void 0 ? 5123 : _ref$indexType,\n          _ref$instanceCount = _ref.instanceCount,\n          instanceCount = _ref$instanceCount === void 0 ? 0 : _ref$instanceCount,\n          _ref$isInstanced = _ref.isInstanced,\n          isInstanced = _ref$isInstanced === void 0 ? instanceCount > 0 : _ref$isInstanced,\n          _ref$vertexArray = _ref.vertexArray,\n          vertexArray = _ref$vertexArray === void 0 ? null : _ref$vertexArray,\n          transformFeedback = _ref.transformFeedback,\n          framebuffer = _ref.framebuffer,\n          _ref$parameters = _ref.parameters,\n          parameters = _ref$parameters === void 0 ? {} : _ref$parameters,\n          uniforms = _ref.uniforms,\n          samplers = _ref.samplers;\n\n      if (uniforms || samplers) {\n        log.deprecated('Program.draw({uniforms})', 'Program.setUniforms(uniforms)')();\n        this.setUniforms(uniforms || {});\n      }\n\n      if (log.priority >= logPriority) {\n        var fb = framebuffer ? framebuffer.id : 'default';\n        var message = \"mode=\".concat(getKey(this.gl, drawMode), \" verts=\").concat(vertexCount, \" \") + \"instances=\".concat(instanceCount, \" indexType=\").concat(getKey(this.gl, indexType), \" \") + \"isInstanced=\".concat(isInstanced, \" isIndexed=\").concat(isIndexed, \" \") + \"Framebuffer=\".concat(fb);\n        log.log(logPriority, message)();\n      }\n\n      assert(vertexArray);\n      this.gl.useProgram(this.handle);\n\n      if (!this._areTexturesRenderable() || vertexCount === 0 || isInstanced && instanceCount === 0) {\n        return false;\n      }\n\n      vertexArray.bindForDraw(vertexCount, instanceCount, function () {\n        if (framebuffer !== undefined) {\n          parameters = Object.assign({}, parameters, {\n            framebuffer: framebuffer\n          });\n        }\n\n        if (transformFeedback) {\n          var primitiveMode = getPrimitiveDrawMode(drawMode);\n          transformFeedback.begin(primitiveMode);\n        }\n\n        _this2._bindTextures();\n\n        withParameters(_this2.gl, parameters, function () {\n          if (isIndexed && isInstanced) {\n            _this2.gl2.drawElementsInstanced(drawMode, vertexCount, indexType, offset, instanceCount);\n          } else if (isIndexed && isWebGL2(_this2.gl) && !isNaN(start) && !isNaN(end)) {\n            _this2.gl2.drawRangeElements(drawMode, start, end, vertexCount, indexType, offset);\n          } else if (isIndexed) {\n            _this2.gl.drawElements(drawMode, vertexCount, indexType, offset);\n          } else if (isInstanced) {\n            _this2.gl2.drawArraysInstanced(drawMode, offset, vertexCount, instanceCount);\n          } else {\n            _this2.gl.drawArrays(drawMode, offset, vertexCount);\n          }\n        });\n\n        if (transformFeedback) {\n          transformFeedback.end();\n        }\n      });\n      return true;\n    }\n  }, {\n    key: \"setUniforms\",\n    value: function setUniforms() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (log.priority >= 2) {\n        checkUniformValues(uniforms, this.id, this._uniformSetters);\n      }\n\n      this.gl.useProgram(this.handle);\n\n      for (var uniformName in uniforms) {\n        var uniform = uniforms[uniformName];\n        var uniformSetter = this._uniformSetters[uniformName];\n\n        if (uniformSetter) {\n          var value = uniform;\n          var textureUpdate = false;\n\n          if (value instanceof Framebuffer) {\n            value = value.texture;\n          }\n\n          if (value instanceof Texture) {\n            textureUpdate = this.uniforms[uniformName] !== uniform;\n\n            if (textureUpdate) {\n              if (uniformSetter.textureIndex === undefined) {\n                uniformSetter.textureIndex = this._textureIndexCounter++;\n              }\n\n              var texture = value;\n              var textureIndex = uniformSetter.textureIndex;\n              texture.bind(textureIndex);\n              value = textureIndex;\n              this._textureUniforms[uniformName] = texture;\n            } else {\n              value = uniformSetter.textureIndex;\n            }\n          } else if (this._textureUniforms[uniformName]) {\n            delete this._textureUniforms[uniformName];\n          }\n\n          if (uniformSetter(value) || textureUpdate) {\n            copyUniform(this.uniforms, uniformName, uniform);\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_areTexturesRenderable\",\n    value: function _areTexturesRenderable() {\n      var texturesRenderable = true;\n\n      for (var uniformName in this._textureUniforms) {\n        var texture = this._textureUniforms[uniformName];\n        texture.update();\n        texturesRenderable = texturesRenderable && texture.loaded;\n      }\n\n      return texturesRenderable;\n    }\n  }, {\n    key: \"_bindTextures\",\n    value: function _bindTextures() {\n      for (var uniformName in this._textureUniforms) {\n        var textureIndex = this._uniformSetters[uniformName].textureIndex;\n\n        this._textureUniforms[uniformName].bind(textureIndex);\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createProgram();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteProgram(this.handle);\n    }\n  }, {\n    key: \"_getOptionsFromHandle\",\n    value: function _getOptionsFromHandle(handle) {\n      var shaderHandles = this.gl.getAttachedShaders(handle);\n      var opts = {};\n\n      var _iterator = _createForOfIteratorHelper(shaderHandles),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var shaderHandle = _step.value;\n          var type = this.gl.getShaderParameter(this.handle, 35663);\n\n          switch (type) {\n            case 35633:\n              opts.vs = new VertexShader({\n                handle: shaderHandle\n              });\n              break;\n\n            case 35632:\n              opts.fs = new FragmentShader({\n                handle: shaderHandle\n              });\n              break;\n\n            default:\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return opts;\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      return this.gl.getProgramParameter(this.handle, pname);\n    }\n  }, {\n    key: \"_setId\",\n    value: function _setId(id) {\n      if (!id) {\n        var programName = this._getName();\n\n        this.id = uid(programName);\n      }\n    }\n  }, {\n    key: \"_getName\",\n    value: function _getName() {\n      var programName = this.vs.getName() || this.fs.getName();\n      programName = programName.replace(/shader/i, '');\n      programName = programName ? \"\".concat(programName, \"-program\") : 'program';\n      return programName;\n    }\n  }, {\n    key: \"_compileAndLink\",\n    value: function _compileAndLink() {\n      var gl = this.gl;\n      gl.attachShader(this.handle, this.vs.handle);\n      gl.attachShader(this.handle, this.fs.handle);\n      log.time(LOG_PROGRAM_PERF_PRIORITY, \"linkProgram for \".concat(this._getName()))();\n      gl.linkProgram(this.handle);\n      log.timeEnd(LOG_PROGRAM_PERF_PRIORITY, \"linkProgram for \".concat(this._getName()))();\n\n      if (gl.debug || log.level > 0) {\n        var linked = gl.getProgramParameter(this.handle, 35714);\n\n        if (!linked) {\n          throw new Error(\"Error linking: \".concat(gl.getProgramInfoLog(this.handle)));\n        }\n\n        gl.validateProgram(this.handle);\n        var validated = gl.getProgramParameter(this.handle, 35715);\n\n        if (!validated) {\n          throw new Error(\"Error validating: \".concat(gl.getProgramInfoLog(this.handle)));\n        }\n      }\n    }\n  }, {\n    key: \"_readUniformLocationsFromLinkedProgram\",\n    value: function _readUniformLocationsFromLinkedProgram() {\n      var gl = this.gl;\n      this._uniformSetters = {};\n      this._uniformCount = this._getParameter(35718);\n\n      for (var i = 0; i < this._uniformCount; i++) {\n        var info = this.gl.getActiveUniform(this.handle, i);\n\n        var _parseUniformName = parseUniformName(info.name),\n            name = _parseUniformName.name;\n\n        var location = gl.getUniformLocation(this.handle, name);\n        this._uniformSetters[name] = getUniformSetter(gl, location, info);\n\n        if (info.size > 1) {\n          for (var l = 0; l < info.size; l++) {\n            location = gl.getUniformLocation(this.handle, \"\".concat(name, \"[\").concat(l, \"]\"));\n            this._uniformSetters[\"\".concat(name, \"[\").concat(l, \"]\")] = getUniformSetter(gl, location, info);\n          }\n        }\n      }\n\n      this._textureIndexCounter = 0;\n    }\n  }, {\n    key: \"getActiveUniforms\",\n    value: function getActiveUniforms(uniformIndices, pname) {\n      return this.gl2.getActiveUniforms(this.handle, uniformIndices, pname);\n    }\n  }, {\n    key: \"getUniformBlockIndex\",\n    value: function getUniformBlockIndex(blockName) {\n      return this.gl2.getUniformBlockIndex(this.handle, blockName);\n    }\n  }, {\n    key: \"getActiveUniformBlockParameter\",\n    value: function getActiveUniformBlockParameter(blockIndex, pname) {\n      return this.gl2.getActiveUniformBlockParameter(this.handle, blockIndex, pname);\n    }\n  }, {\n    key: \"uniformBlockBinding\",\n    value: function uniformBlockBinding(blockIndex, blockBinding) {\n      this.gl2.uniformBlockBinding(this.handle, blockIndex, blockBinding);\n    }\n  }]);\n\n  return Program;\n}(Resource);\n\nexport { Program as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { assembleShaders } from '@luma.gl/shadertools';\nimport { Program } from '@luma.gl/webgl';\n\nvar ProgramManager = /*#__PURE__*/function () {\n  function ProgramManager(gl) {\n    _classCallCheck(this, ProgramManager);\n\n    this.gl = gl;\n    this._programCache = {};\n    this._getUniforms = {};\n    this._registeredModules = {};\n    this._hookFunctions = [];\n    this._defaultModules = [];\n    this._hashes = {};\n    this._hashCounter = 0;\n    this.stateHash = 0;\n    this._useCounts = {};\n  }\n\n  _createClass(ProgramManager, [{\n    key: \"addDefaultModule\",\n    value: function addDefaultModule(module) {\n      if (!this._defaultModules.find(function (m) {\n        return m.name === module.name;\n      })) {\n        this._defaultModules.push(module);\n      }\n\n      this.stateHash++;\n    }\n  }, {\n    key: \"removeDefaultModule\",\n    value: function removeDefaultModule(module) {\n      var moduleName = typeof module === 'string' ? module : module.name;\n      this._defaultModules = this._defaultModules.filter(function (m) {\n        return m.name !== moduleName;\n      });\n      this.stateHash++;\n    }\n  }, {\n    key: \"addShaderHook\",\n    value: function addShaderHook(hook, opts) {\n      if (opts) {\n        hook = Object.assign(opts, {\n          hook: hook\n        });\n      }\n\n      this._hookFunctions.push(hook);\n\n      this.stateHash++;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var _this = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$vs = props.vs,\n          vs = _props$vs === void 0 ? '' : _props$vs,\n          _props$fs = props.fs,\n          fs = _props$fs === void 0 ? '' : _props$fs,\n          _props$defines = props.defines,\n          defines = _props$defines === void 0 ? {} : _props$defines,\n          _props$inject = props.inject,\n          inject = _props$inject === void 0 ? {} : _props$inject,\n          _props$varyings = props.varyings,\n          varyings = _props$varyings === void 0 ? [] : _props$varyings,\n          _props$bufferMode = props.bufferMode,\n          bufferMode = _props$bufferMode === void 0 ? 0x8c8d : _props$bufferMode,\n          _props$transpileToGLS = props.transpileToGLSL100,\n          transpileToGLSL100 = _props$transpileToGLS === void 0 ? false : _props$transpileToGLS;\n\n      var modules = this._getModuleList(props.modules);\n\n      var vsHash = this._getHash(vs);\n\n      var fsHash = this._getHash(fs);\n\n      var moduleHashes = modules.map(function (m) {\n        return _this._getHash(m.name);\n      }).sort();\n      var varyingHashes = varyings.map(function (v) {\n        return _this._getHash(v);\n      });\n      var defineKeys = Object.keys(defines).sort();\n      var injectKeys = Object.keys(inject).sort();\n      var defineHashes = [];\n      var injectHashes = [];\n\n      var _iterator = _createForOfIteratorHelper(defineKeys),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          defineHashes.push(this._getHash(key));\n          defineHashes.push(this._getHash(defines[key]));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(injectKeys),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n          injectHashes.push(this._getHash(_key));\n          injectHashes.push(this._getHash(inject[_key]));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var hash = \"\".concat(vsHash, \"/\").concat(fsHash, \"D\").concat(defineHashes.join('/'), \"M\").concat(moduleHashes.join('/'), \"I\").concat(injectHashes.join('/'), \"V\").concat(varyingHashes.join('/'), \"H\").concat(this.stateHash, \"B\").concat(bufferMode).concat(transpileToGLSL100 ? 'T' : '');\n\n      if (!this._programCache[hash]) {\n        var assembled = assembleShaders(this.gl, {\n          vs: vs,\n          fs: fs,\n          modules: modules,\n          inject: inject,\n          defines: defines,\n          hookFunctions: this._hookFunctions,\n          transpileToGLSL100: transpileToGLSL100\n        });\n        this._programCache[hash] = new Program(this.gl, {\n          hash: hash,\n          vs: assembled.vs,\n          fs: assembled.fs,\n          varyings: varyings,\n          bufferMode: bufferMode\n        });\n\n        this._getUniforms[hash] = assembled.getUniforms || function (x) {};\n\n        this._useCounts[hash] = 0;\n      }\n\n      this._useCounts[hash]++;\n      return this._programCache[hash];\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms(program) {\n      return this._getUniforms[program.hash] || null;\n    }\n  }, {\n    key: \"release\",\n    value: function release(program) {\n      var hash = program.hash;\n      this._useCounts[hash]--;\n\n      if (this._useCounts[hash] === 0) {\n        this._programCache[hash].delete();\n\n        delete this._programCache[hash];\n        delete this._getUniforms[hash];\n        delete this._useCounts[hash];\n      }\n    }\n  }, {\n    key: \"_getHash\",\n    value: function _getHash(key) {\n      if (this._hashes[key] === undefined) {\n        this._hashes[key] = this._hashCounter++;\n      }\n\n      return this._hashes[key];\n    }\n  }, {\n    key: \"_getModuleList\",\n    value: function _getModuleList() {\n      var appModules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var modules = new Array(this._defaultModules.length + appModules.length);\n      var seen = {};\n      var count = 0;\n\n      for (var i = 0, len = this._defaultModules.length; i < len; ++i) {\n        var module = this._defaultModules[i];\n        var name = module.name;\n        modules[count++] = module;\n        seen[name] = true;\n      }\n\n      for (var _i = 0, _len = appModules.length; _i < _len; ++_i) {\n        var _module = appModules[_i];\n        var _name = _module.name;\n\n        if (!seen[_name]) {\n          modules[count++] = _module;\n          seen[_name] = true;\n        }\n      }\n\n      modules.length = count;\n      return modules;\n    }\n  }], [{\n    key: \"getDefaultProgramManager\",\n    value: function getDefaultProgramManager(gl) {\n      gl.luma = gl.luma || {};\n      gl.luma.defaultProgramManager = gl.luma.defaultProgramManager || new ProgramManager(gl);\n      return gl.luma.defaultProgramManager;\n    }\n  }]);\n\n  return ProgramManager;\n}();\n\nexport { ProgramManager as default };","var fp32shader = \"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\\nconst float TWO_PI = 6.2831854820251465;\\nconst float PI_2 = 1.5707963705062866;\\nconst float PI_16 = 0.1963495463132858;\\n\\nconst float SIN_TABLE_0 = 0.19509032368659973;\\nconst float SIN_TABLE_1 = 0.3826834261417389;\\nconst float SIN_TABLE_2 = 0.5555702447891235;\\nconst float SIN_TABLE_3 = 0.7071067690849304;\\n\\nconst float COS_TABLE_0 = 0.9807852506637573;\\nconst float COS_TABLE_1 = 0.9238795042037964;\\nconst float COS_TABLE_2 = 0.8314695954322815;\\nconst float COS_TABLE_3 = 0.7071067690849304;\\n\\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\\n\\nfloat sin_taylor_fp32(float a) {\\n  float r, s, t, x;\\n\\n  if (a == 0.0) {\\n    return 0.0;\\n  }\\n\\n  x = -a * a;\\n  s = a;\\n  r = a;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_3;\\n  s = s + t;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_5;\\n  s = s + t;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_7;\\n  s = s + t;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_9;\\n  s = s + t;\\n\\n  return s;\\n}\\n\\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\\n  if (a == 0.0) {\\n    sin_t = 0.0;\\n    cos_t = 1.0;\\n  }\\n  sin_t = sin_taylor_fp32(a);\\n  cos_t = sqrt(1.0 - sin_t * sin_t);\\n}\\n\\nfloat tan_taylor_fp32(float a) {\\n    float sin_a;\\n    float cos_a;\\n\\n    if (a == 0.0) {\\n        return 0.0;\\n    }\\n    float z = floor(a / TWO_PI);\\n    float r = a - TWO_PI * z;\\n\\n    float t;\\n    float q = floor(r / PI_2 + 0.5);\\n    int j = int(q);\\n\\n    if (j < -2 || j > 2) {\\n        return 1.0 / 0.0;\\n    }\\n\\n    t = r - PI_2 * q;\\n\\n    q = floor(t / PI_16 + 0.5);\\n    int k = int(q);\\n    int abs_k = int(abs(float(k)));\\n\\n    if (abs_k > 4) {\\n        return 1.0 / 0.0;\\n    } else {\\n        t = t - PI_16 * q;\\n    }\\n\\n    float u = 0.0;\\n    float v = 0.0;\\n\\n    float sin_t, cos_t;\\n    float s, c;\\n    sincos_taylor_fp32(t, sin_t, cos_t);\\n\\n    if (k == 0) {\\n        s = sin_t;\\n        c = cos_t;\\n    } else {\\n        if (abs(float(abs_k) - 1.0) < 0.5) {\\n            u = COS_TABLE_0;\\n            v = SIN_TABLE_0;\\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\\n            u = COS_TABLE_1;\\n            v = SIN_TABLE_1;\\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\\n            u = COS_TABLE_2;\\n            v = SIN_TABLE_2;\\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\\n            u = COS_TABLE_3;\\n            v = SIN_TABLE_3;\\n        }\\n        if (k > 0) {\\n            s = u * sin_t + v * cos_t;\\n            c = u * cos_t - v * sin_t;\\n        } else {\\n            s = u * sin_t - v * cos_t;\\n            c = u * cos_t + v * sin_t;\\n        }\\n    }\\n\\n    if (j == 0) {\\n        sin_a = s;\\n        cos_a = c;\\n    } else if (j == 1) {\\n        sin_a = c;\\n        cos_a = -s;\\n    } else if (j == -1) {\\n        sin_a = -c;\\n        cos_a = s;\\n    } else {\\n        sin_a = -s;\\n        cos_a = -c;\\n    }\\n    return sin_a / cos_a;\\n}\\n#endif\\n\\nfloat tan_fp32(float a) {\\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\\n  return tan_taylor_fp32(a);\\n#else\\n  return tan(a);\\n#endif\\n}\\n\";\nexport var fp32 = {\n  name: 'fp32',\n  vs: fp32shader,\n  fs: null\n};","var vs = \"\\nstruct VertexGeometry {\\n  vec4 position;\\n  vec3 worldPosition;\\n  vec3 worldPositionAlt;\\n  vec3 normal;\\n  vec2 uv;\\n  vec3 pickingColor;\\n} geometry = VertexGeometry(\\n  vec4(0.0),\\n  vec3(0.0),\\n  vec3(0.0),\\n  vec3(0.0),\\n  vec2(0.0),\\n  vec3(0.0)\\n);\\n\";\nvar fs = \"\\n#define SMOOTH_EDGE_RADIUS 0.5\\n\\nstruct FragmentGeometry {\\n  vec2 uv;\\n} geometry;\\n\\nfloat smoothedge(float edge, float x) {\\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\\n}\\n\";\nexport default {\n  name: 'geometry',\n  vs: vs,\n  fs: fs\n};","import { COORDINATE_SYSTEM, PROJECTION_MODE, UNIT } from '../../lib/constants';\nvar COORDINATE_SYSTEM_GLSL_CONSTANTS = Object.keys(COORDINATE_SYSTEM).map(function (key) {\n  return \"const int COORDINATE_SYSTEM_\".concat(key, \" = \").concat(COORDINATE_SYSTEM[key], \";\");\n}).join('');\nvar PROJECTION_MODE_GLSL_CONSTANTS = Object.keys(PROJECTION_MODE).map(function (key) {\n  return \"const int PROJECTION_MODE_\".concat(key, \" = \").concat(PROJECTION_MODE[key], \";\");\n}).join('');\nvar UNIT_GLSL_CONSTANTS = Object.keys(UNIT).map(function (key) {\n  return \"const int UNIT_\".concat(key.toUpperCase(), \" = \").concat(UNIT[key], \";\");\n}).join('');\nexport default \"\".concat(COORDINATE_SYSTEM_GLSL_CONSTANTS, \"\\n\").concat(PROJECTION_MODE_GLSL_CONSTANTS, \"\\n\").concat(UNIT_GLSL_CONSTANTS, \"\\n\\nuniform int project_uCoordinateSystem;\\nuniform int project_uProjectionMode;\\nuniform float project_uScale;\\nuniform bool project_uWrapLongitude;\\nuniform vec3 project_uCommonUnitsPerMeter;\\nuniform vec3 project_uCommonUnitsPerWorldUnit;\\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\\nuniform vec4 project_uCenter;\\nuniform mat4 project_uModelMatrix;\\nuniform mat4 project_uViewProjectionMatrix;\\nuniform vec2 project_uViewportSize;\\nuniform float project_uDevicePixelRatio;\\nuniform float project_uFocalDistance;\\nuniform vec3 project_uCameraPosition;\\nuniform vec3 project_uCoordinateOrigin;\\nuniform vec3 project_uCommonOrigin;\\nuniform bool project_uPseudoMeters;\\n\\nconst float TILE_SIZE = 512.0;\\nconst float PI = 3.1415926536;\\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\\nconst vec3 ZERO_64_LOW = vec3(0.0);\\nconst float EARTH_RADIUS = 6370972.0;\\nconst float GLOBE_RADIUS = 256.0;\\nfloat project_size() {\\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\\n    project_uPseudoMeters == false) {\\n    \\n    if (geometry.position.w == 0.0) {\\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\\n      return 1.0 / cos(radians(y));\\n    }\\n  \\n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\\n    float y2 = y * y;\\n    float y4 = y2 * y2;\\n    float y6 = y4 * y2;\\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\\n  }\\n  return 1.0;\\n}\\nfloat project_size(float meters) {\\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\\n}\\n\\nvec2 project_size(vec2 meters) {\\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\\n}\\n\\nvec3 project_size(vec3 meters) {\\n  return meters * project_uCommonUnitsPerMeter * project_size();\\n}\\n\\nvec4 project_size(vec4 meters) {\\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\\n}\\nvec3 project_normal(vec3 vector) {\\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\\n  return normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\\n}\\n\\nvec4 project_offset_(vec4 offset) {\\n  float dy = offset.y;\\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\\n}\\nvec2 project_mercator_(vec2 lnglat) {\\n  float x = lnglat.x;\\n  if (project_uWrapLongitude) {\\n    x = mod(x + 180., 360.0) - 180.;\\n  }\\n  float y = clamp(lnglat.y, -89.9, 89.9);\\n  return vec2(\\n    radians(x) + PI,\\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\\n  ) * WORLD_SCALE;\\n}\\n\\nvec3 project_globe_(vec3 lnglatz) {\\n  float lambda = radians(lnglatz.x);\\n  float phi = radians(lnglatz.y);\\n  float cosPhi = cos(phi);\\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\\n\\n  return vec3(\\n    sin(lambda) * cosPhi,\\n    -cos(lambda) * cosPhi,\\n    sin(phi)\\n  ) * D;\\n}\\nvec4 project_position(vec4 position, vec3 position64Low) {\\n  vec4 position_world = project_uModelMatrix * position;\\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\\n      return vec4(\\n        project_mercator_(position_world.xy),\\n        project_size(position_world.z),\\n        position_world.w\\n      );\\n    }\\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\\n      position_world.xyz += project_uCoordinateOrigin;\\n    }\\n  }\\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\\n      return vec4(\\n        project_globe_(position_world.xyz),\\n        position_world.w\\n      );\\n    }\\n  }\\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\\n        return vec4(\\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\\n          project_size(position_world.z),\\n          position_world.w\\n        );\\n      }\\n    }\\n  }\\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\\n    position_world.xyz -= project_uCoordinateOrigin;\\n  }\\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\\n}\\n\\nvec4 project_position(vec4 position) {\\n  return project_position(position, ZERO_64_LOW);\\n}\\n\\nvec3 project_position(vec3 position, vec3 position64Low) {\\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\\n  return projected_position.xyz;\\n}\\n\\nvec3 project_position(vec3 position) {\\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\\n  return projected_position.xyz;\\n}\\n\\nvec2 project_position(vec2 position) {\\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\\n  return projected_position.xy;\\n}\\n\\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\\n  return viewProjectionMatrix * position + center;\\n}\\nvec4 project_common_position_to_clipspace(vec4 position) {\\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\\n}\\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\\n  return offset * project_uFocalDistance;\\n}\\n\\nfloat project_size_to_pixel(float meters) {\\n  return project_size(meters) * project_uScale;\\n}\\nfloat project_size_to_pixel(float size, int unit) {\\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\\n  if (unit == UNIT_COMMON) return size * project_uScale;\\n  return size;\\n}\\nfloat project_pixel_size(float pixels) {\\n  return pixels / project_uScale;\\n}\\nvec2 project_pixel_size(vec2 pixels) {\\n  return pixels / project_uScale;\\n}\\nmat3 project_get_orientation_matrix(vec3 up) {\\n  vec3 uz = normalize(up);\\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\\n  vec3 uy = cross(uz, ux);\\n  return mat3(ux, uy, uz);\\n}\\n\\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\\n    transform = project_get_orientation_matrix(commonPosition);\\n    return true;\\n  }\\n  return false;\\n}\\n\");","import \"core-js/modules/es.math.hypot.js\";\n\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","function isEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (Array.isArray(a)) {\n    var len = a.length;\n\n    if (!b || b.length !== len) {\n      return false;\n    }\n\n    for (var i = 0; i < len; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nexport default function memoize(compute) {\n  var cachedArgs = {};\n  var cachedResult;\n  return function (args) {\n    for (var key in args) {\n      if (!isEqual(args[key], cachedArgs[key])) {\n        cachedResult = compute(args);\n        cachedArgs = args;\n        break;\n      }\n    }\n\n    return cachedResult;\n  };\n}","import * as mat4 from 'gl-matrix/mat4';\nimport * as vec4 from 'gl-matrix/vec4';\nimport { COORDINATE_SYSTEM, PROJECTION_MODE } from '../../lib/constants';\nimport memoize from '../../utils/memoize';\nvar ZERO_VECTOR = [0, 0, 0, 0];\nvar VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nvar DEFAULT_PIXELS_PER_UNIT2 = [0, 0, 0];\nvar DEFAULT_COORDINATE_ORIGIN = [0, 0, 0];\nvar getMemoizedViewportUniforms = memoize(calculateViewportUniforms);\nexport function getOffsetOrigin(viewport, coordinateSystem) {\n  var coordinateOrigin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_COORDINATE_ORIGIN;\n  var shaderCoordinateOrigin = coordinateOrigin;\n  var geospatialOrigin;\n  var offsetMode = true;\n\n  if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT_OFFSETS || coordinateSystem === COORDINATE_SYSTEM.METER_OFFSETS) {\n    geospatialOrigin = coordinateOrigin;\n  } else {\n    geospatialOrigin = viewport.isGeospatial ? [Math.fround(viewport.longitude), Math.fround(viewport.latitude), 0] : null;\n  }\n\n  switch (viewport.projectionMode) {\n    case PROJECTION_MODE.WEB_MERCATOR:\n      if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT || coordinateSystem === COORDINATE_SYSTEM.CARTESIAN) {\n        geospatialOrigin = [0, 0, 0];\n        offsetMode = false;\n      }\n\n      break;\n\n    case PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:\n      if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT) {\n        shaderCoordinateOrigin = geospatialOrigin;\n      } else if (coordinateSystem === COORDINATE_SYSTEM.CARTESIAN) {\n        shaderCoordinateOrigin = [Math.fround(viewport.center[0]), Math.fround(viewport.center[1]), 0];\n        geospatialOrigin = viewport.unprojectPosition(shaderCoordinateOrigin);\n        shaderCoordinateOrigin[0] -= coordinateOrigin[0];\n        shaderCoordinateOrigin[1] -= coordinateOrigin[1];\n        shaderCoordinateOrigin[2] -= coordinateOrigin[2];\n      }\n\n      break;\n\n    case PROJECTION_MODE.IDENTITY:\n      shaderCoordinateOrigin = viewport.position.map(Math.fround);\n      break;\n\n    case PROJECTION_MODE.GLOBE:\n      offsetMode = false;\n      geospatialOrigin = null;\n      break;\n\n    default:\n      offsetMode = false;\n  }\n\n  shaderCoordinateOrigin[2] = shaderCoordinateOrigin[2] || 0;\n  return {\n    geospatialOrigin: geospatialOrigin,\n    shaderCoordinateOrigin: shaderCoordinateOrigin,\n    offsetMode: offsetMode\n  };\n}\n\nfunction calculateMatrixAndOffset(viewport, coordinateSystem, coordinateOrigin) {\n  var viewMatrixUncentered = viewport.viewMatrixUncentered,\n      projectionMatrix = viewport.projectionMatrix;\n  var viewMatrix = viewport.viewMatrix,\n      viewProjectionMatrix = viewport.viewProjectionMatrix;\n  var projectionCenter = ZERO_VECTOR;\n  var originCommon = ZERO_VECTOR;\n  var cameraPosCommon = viewport.cameraPosition;\n\n  var _getOffsetOrigin = getOffsetOrigin(viewport, coordinateSystem, coordinateOrigin),\n      geospatialOrigin = _getOffsetOrigin.geospatialOrigin,\n      shaderCoordinateOrigin = _getOffsetOrigin.shaderCoordinateOrigin,\n      offsetMode = _getOffsetOrigin.offsetMode;\n\n  if (offsetMode) {\n    originCommon = viewport.projectPosition(geospatialOrigin || shaderCoordinateOrigin);\n    cameraPosCommon = [cameraPosCommon[0] - originCommon[0], cameraPosCommon[1] - originCommon[1], cameraPosCommon[2] - originCommon[2]];\n    originCommon[3] = 1;\n    projectionCenter = vec4.transformMat4([], originCommon, viewProjectionMatrix);\n    viewMatrix = viewMatrixUncentered || viewMatrix;\n    viewProjectionMatrix = mat4.multiply([], projectionMatrix, viewMatrix);\n    viewProjectionMatrix = mat4.multiply([], viewProjectionMatrix, VECTOR_TO_POINT_MATRIX);\n  }\n\n  return {\n    viewMatrix: viewMatrix,\n    viewProjectionMatrix: viewProjectionMatrix,\n    projectionCenter: projectionCenter,\n    originCommon: originCommon,\n    cameraPosCommon: cameraPosCommon,\n    shaderCoordinateOrigin: shaderCoordinateOrigin,\n    geospatialOrigin: geospatialOrigin\n  };\n}\n\nexport function getUniformsFromViewport() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      viewport = _ref.viewport,\n      _ref$devicePixelRatio = _ref.devicePixelRatio,\n      devicePixelRatio = _ref$devicePixelRatio === void 0 ? 1 : _ref$devicePixelRatio,\n      _ref$modelMatrix = _ref.modelMatrix,\n      modelMatrix = _ref$modelMatrix === void 0 ? null : _ref$modelMatrix,\n      _ref$coordinateSystem = _ref.coordinateSystem,\n      coordinateSystem = _ref$coordinateSystem === void 0 ? COORDINATE_SYSTEM.DEFAULT : _ref$coordinateSystem,\n      coordinateOrigin = _ref.coordinateOrigin,\n      _ref$autoWrapLongitud = _ref.autoWrapLongitude,\n      autoWrapLongitude = _ref$autoWrapLongitud === void 0 ? false : _ref$autoWrapLongitud;\n\n  if (coordinateSystem === COORDINATE_SYSTEM.DEFAULT) {\n    coordinateSystem = viewport.isGeospatial ? COORDINATE_SYSTEM.LNGLAT : COORDINATE_SYSTEM.CARTESIAN;\n  }\n\n  var uniforms = getMemoizedViewportUniforms({\n    viewport: viewport,\n    devicePixelRatio: devicePixelRatio,\n    coordinateSystem: coordinateSystem,\n    coordinateOrigin: coordinateOrigin\n  });\n  uniforms.project_uWrapLongitude = autoWrapLongitude;\n  uniforms.project_uModelMatrix = modelMatrix || IDENTITY_MATRIX;\n  return uniforms;\n}\n\nfunction calculateViewportUniforms(_ref2) {\n  var viewport = _ref2.viewport,\n      devicePixelRatio = _ref2.devicePixelRatio,\n      coordinateSystem = _ref2.coordinateSystem,\n      coordinateOrigin = _ref2.coordinateOrigin;\n\n  var _calculateMatrixAndOf = calculateMatrixAndOffset(viewport, coordinateSystem, coordinateOrigin),\n      projectionCenter = _calculateMatrixAndOf.projectionCenter,\n      viewProjectionMatrix = _calculateMatrixAndOf.viewProjectionMatrix,\n      originCommon = _calculateMatrixAndOf.originCommon,\n      cameraPosCommon = _calculateMatrixAndOf.cameraPosCommon,\n      shaderCoordinateOrigin = _calculateMatrixAndOf.shaderCoordinateOrigin,\n      geospatialOrigin = _calculateMatrixAndOf.geospatialOrigin;\n\n  var distanceScales = viewport.getDistanceScales();\n  var viewportSize = [viewport.width * devicePixelRatio, viewport.height * devicePixelRatio];\n  var focalDistance = vec4.transformMat4([], [0, 0, -viewport.focalDistance, 1], viewport.projectionMatrix)[3] || 1;\n  var uniforms = {\n    project_uCoordinateSystem: coordinateSystem,\n    project_uProjectionMode: viewport.projectionMode,\n    project_uCoordinateOrigin: shaderCoordinateOrigin,\n    project_uCommonOrigin: originCommon.slice(0, 3),\n    project_uCenter: projectionCenter,\n    project_uPseudoMeters: Boolean(viewport._pseudoMeters),\n    project_uViewportSize: viewportSize,\n    project_uDevicePixelRatio: devicePixelRatio,\n    project_uFocalDistance: focalDistance,\n    project_uCommonUnitsPerMeter: distanceScales.unitsPerMeter,\n    project_uCommonUnitsPerWorldUnit: distanceScales.unitsPerMeter,\n    project_uCommonUnitsPerWorldUnit2: DEFAULT_PIXELS_PER_UNIT2,\n    project_uScale: viewport.scale,\n    project_uViewProjectionMatrix: viewProjectionMatrix,\n    project_uCameraPosition: cameraPosCommon\n  };\n\n  if (geospatialOrigin) {\n    var distanceScalesAtOrigin = viewport.getDistanceScales(geospatialOrigin);\n\n    switch (coordinateSystem) {\n      case COORDINATE_SYSTEM.METER_OFFSETS:\n        uniforms.project_uCommonUnitsPerWorldUnit = distanceScalesAtOrigin.unitsPerMeter;\n        uniforms.project_uCommonUnitsPerWorldUnit2 = distanceScalesAtOrigin.unitsPerMeter2;\n        break;\n\n      case COORDINATE_SYSTEM.LNGLAT:\n      case COORDINATE_SYSTEM.LNGLAT_OFFSETS:\n        if (!viewport._pseudoMeters) {\n          uniforms.project_uCommonUnitsPerMeter = distanceScalesAtOrigin.unitsPerMeter;\n        }\n\n        uniforms.project_uCommonUnitsPerWorldUnit = distanceScalesAtOrigin.unitsPerDegree;\n        uniforms.project_uCommonUnitsPerWorldUnit2 = distanceScalesAtOrigin.unitsPerDegree2;\n        break;\n\n      case COORDINATE_SYSTEM.CARTESIAN:\n        uniforms.project_uCommonUnitsPerWorldUnit = [1, 1, distanceScalesAtOrigin.unitsPerMeter[2]];\n        uniforms.project_uCommonUnitsPerWorldUnit2 = [0, 0, distanceScalesAtOrigin.unitsPerMeter2[2]];\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return uniforms;\n}","import { fp32 } from '@luma.gl/core';\nimport geometry from '../misc/geometry';\nimport projectShader from './project.glsl';\nimport { getUniformsFromViewport } from './viewport-uniforms';\nvar INITIAL_MODULE_OPTIONS = {};\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_MODULE_OPTIONS;\n\n  if (opts.viewport) {\n    return getUniformsFromViewport(opts);\n  }\n\n  return {};\n}\n\nexport default {\n  name: 'project',\n  dependencies: [fp32, geometry],\n  vs: projectShader,\n  getUniforms: getUniforms\n};","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { ProgramManager } from '@luma.gl/core';\nimport { gouraudLighting, phongLighting } from '@luma.gl/core';\nimport project from './project/project';\nimport project32 from './project32/project32';\nimport shadow from './shadow/shadow';\nimport picking from './picking/picking';\nvar DEFAULT_MODULES = [project];\nvar SHADER_HOOKS = ['vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)', 'vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)', 'vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)', 'fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)'];\nexport function createProgramManager(gl) {\n  var programManager = ProgramManager.getDefaultProgramManager(gl);\n\n  var _iterator = _createForOfIteratorHelper(DEFAULT_MODULES),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var shaderModule = _step.value;\n      programManager.addDefaultModule(shaderModule);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(SHADER_HOOKS),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var shaderHook = _step2.value;\n      programManager.addShaderHook(shaderHook);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return programManager;\n}\nexport { picking, project, project32, gouraudLighting, phongLighting, shadow };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Timeline } from '@luma.gl/core';\nimport { LIFECYCLE } from '../lifecycle/constants';\nimport log from '../utils/log';\nimport debug from '../debug';\nimport { flatten } from '../utils/flatten';\nimport { Stats } from 'probe.gl';\nimport ResourceManager from './resource/resource-manager';\nimport Viewport from '../viewports/viewport';\nimport { createProgramManager } from '../shaderlib';\nvar TRACE_SET_LAYERS = 'layerManager.setLayers';\nvar TRACE_ACTIVATE_VIEWPORT = 'layerManager.activateViewport';\nvar INITIAL_CONTEXT = Object.seal({\n  layerManager: null,\n  resourceManager: null,\n  deck: null,\n  gl: null,\n  stats: null,\n  shaderCache: null,\n  pickingFBO: null,\n  mousePosition: null,\n  userData: {}\n});\n\nvar LayerManager = /*#__PURE__*/function () {\n  function LayerManager(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        deck = _ref.deck,\n        stats = _ref.stats,\n        viewport = _ref.viewport,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, LayerManager);\n\n    this.lastRenderedLayers = [];\n    this.layers = [];\n    this.resourceManager = new ResourceManager({\n      gl: gl,\n      protocol: 'deck://'\n    });\n    this.context = _objectSpread(_objectSpread({}, INITIAL_CONTEXT), {}, {\n      layerManager: this,\n      gl: gl,\n      deck: deck,\n      programManager: gl && createProgramManager(gl),\n      stats: stats || new Stats({\n        id: 'deck.gl'\n      }),\n      viewport: viewport || new Viewport({\n        id: 'DEFAULT-INITIAL-VIEWPORT'\n      }),\n      timeline: timeline || new Timeline(),\n      resourceManager: this.resourceManager\n    });\n    this._nextLayers = null;\n    this._needsRedraw = 'Initial render';\n    this._needsUpdate = false;\n    this._debug = false;\n    this.activateViewport = this.activateViewport.bind(this);\n    Object.seal(this);\n  }\n\n  _createClass(LayerManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.resourceManager.finalize();\n\n      var _iterator = _createForOfIteratorHelper(this.layers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var layer = _step.value;\n\n          this._finalizeLayer(layer);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(this.layers),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var layer = _step2.value;\n          var layerNeedsRedraw = layer.getNeedsRedraw(opts);\n          redraw = redraw || layerNeedsRedraw;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      if (this._nextLayers && this._nextLayers !== this.lastRenderedLayers) {\n        return 'layers changed';\n      }\n\n      return this._needsUpdate;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw(reason) {\n      this._needsRedraw = this._needsRedraw || reason;\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate(reason) {\n      this._needsUpdate = this._needsUpdate || reason;\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$layerIds = _ref2.layerIds,\n          layerIds = _ref2$layerIds === void 0 ? null : _ref2$layerIds;\n\n      return layerIds ? this.layers.filter(function (layer) {\n        return layerIds.find(function (layerId) {\n          return layer.id.indexOf(layerId) === 0;\n        });\n      }) : this.layers;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('debug' in props) {\n        this._debug = props.debug;\n      }\n\n      if ('userData' in props) {\n        this.context.userData = props.userData;\n      }\n\n      if ('layers' in props) {\n        this._nextLayers = props.layers;\n      }\n\n      if ('onError' in props) {\n        this.context.onError = props.onError;\n      }\n    }\n  }, {\n    key: \"setLayers\",\n    value: function setLayers(newLayers, reason) {\n      debug(TRACE_SET_LAYERS, this, reason, newLayers);\n      this.lastRenderedLayers = newLayers;\n      newLayers = flatten(newLayers, Boolean);\n\n      var _iterator3 = _createForOfIteratorHelper(newLayers),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var layer = _step3.value;\n          layer.context = this.context;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      this._updateLayers(this.layers, newLayers);\n\n      return this;\n    }\n  }, {\n    key: \"updateLayers\",\n    value: function updateLayers() {\n      var reason = this.needsUpdate();\n\n      if (reason) {\n        this.setNeedsRedraw(\"updating layers: \".concat(reason));\n        this.setLayers(this._nextLayers || this.lastRenderedLayers, reason);\n      }\n\n      this._nextLayers = null;\n    }\n  }, {\n    key: \"activateViewport\",\n    value: function activateViewport(viewport) {\n      debug(TRACE_ACTIVATE_VIEWPORT, this, viewport);\n\n      if (viewport) {\n        this.context.viewport = viewport;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_handleError\",\n    value: function _handleError(stage, error, layer) {\n      layer.raiseError(error, \"\".concat(stage, \" of \").concat(layer));\n    }\n  }, {\n    key: \"_updateLayers\",\n    value: function _updateLayers(oldLayers, newLayers) {\n      var oldLayerMap = {};\n\n      var _iterator4 = _createForOfIteratorHelper(oldLayers),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var oldLayer = _step4.value;\n\n          if (oldLayerMap[oldLayer.id]) {\n            log.warn(\"Multiple old layers with same id \".concat(oldLayer.id))();\n          } else {\n            oldLayerMap[oldLayer.id] = oldLayer;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      var generatedLayers = [];\n\n      this._updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers);\n\n      this._finalizeOldLayers(oldLayerMap);\n\n      var needsUpdate = false;\n\n      for (var _i = 0, _generatedLayers = generatedLayers; _i < _generatedLayers.length; _i++) {\n        var layer = _generatedLayers[_i];\n\n        if (layer.hasUniformTransition()) {\n          needsUpdate = true;\n          break;\n        }\n      }\n\n      this._needsUpdate = needsUpdate;\n      this.layers = generatedLayers;\n    }\n  }, {\n    key: \"_updateSublayersRecursively\",\n    value: function _updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers) {\n      var _iterator5 = _createForOfIteratorHelper(newLayers),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var newLayer = _step5.value;\n          newLayer.context = this.context;\n          var oldLayer = oldLayerMap[newLayer.id];\n\n          if (oldLayer === null) {\n            log.warn(\"Multiple new layers with same id \".concat(newLayer.id))();\n          }\n\n          oldLayerMap[newLayer.id] = null;\n          var sublayers = null;\n\n          try {\n            if (this._debug && oldLayer !== newLayer) {\n              newLayer.validateProps();\n            }\n\n            if (!oldLayer) {\n              this._initializeLayer(newLayer);\n            } else {\n              this._transferLayerState(oldLayer, newLayer);\n\n              this._updateLayer(newLayer);\n            }\n\n            generatedLayers.push(newLayer);\n            sublayers = newLayer.isComposite && newLayer.getSubLayers();\n          } catch (err) {\n            this._handleError('matching', err, newLayer);\n          }\n\n          if (sublayers) {\n            this._updateSublayersRecursively(sublayers, oldLayerMap, generatedLayers);\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }, {\n    key: \"_finalizeOldLayers\",\n    value: function _finalizeOldLayers(oldLayerMap) {\n      for (var layerId in oldLayerMap) {\n        var layer = oldLayerMap[layerId];\n\n        if (layer) {\n          this._finalizeLayer(layer);\n        }\n      }\n    }\n  }, {\n    key: \"_initializeLayer\",\n    value: function _initializeLayer(layer) {\n      try {\n        layer._initialize();\n\n        layer.lifecycle = LIFECYCLE.INITIALIZED;\n      } catch (err) {\n        this._handleError('initialization', err, layer);\n      }\n    }\n  }, {\n    key: \"_transferLayerState\",\n    value: function _transferLayerState(oldLayer, newLayer) {\n      newLayer._transferState(oldLayer);\n\n      newLayer.lifecycle = LIFECYCLE.MATCHED;\n\n      if (newLayer !== oldLayer) {\n        oldLayer.lifecycle = LIFECYCLE.AWAITING_GC;\n      }\n    }\n  }, {\n    key: \"_updateLayer\",\n    value: function _updateLayer(layer) {\n      try {\n        layer._update();\n      } catch (err) {\n        this._handleError('update', err, layer);\n      }\n    }\n  }, {\n    key: \"_finalizeLayer\",\n    value: function _finalizeLayer(layer) {\n      this._needsRedraw = this._needsRedraw || \"finalized \".concat(layer);\n      layer.lifecycle = LIFECYCLE.AWAITING_FINALIZATION;\n\n      try {\n        layer._finalize();\n\n        layer.lifecycle = LIFECYCLE.FINALIZED;\n      } catch (err) {\n        this._handleError('finalization', err, layer);\n      }\n    }\n  }]);\n\n  return LayerManager;\n}();\n\nexport { LayerManager as default };","export function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  for (var key in a) {\n    var aValue = a[key];\n    var bValue = b[key];\n    var equals = aValue === bValue || Array.isArray(aValue) && Array.isArray(bValue) && deepEqual(aValue, bValue);\n\n    if (!equals) {\n      return false;\n    }\n  }\n\n  return true;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { deepEqual } from '../utils/deep-equal';\nimport log from '../utils/log';\nimport { flatten } from '../utils/flatten';\n\nvar ViewManager = /*#__PURE__*/function () {\n  function ViewManager() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ViewManager);\n\n    this.views = [];\n    this.width = 100;\n    this.height = 100;\n    this.viewState = {};\n    this.controllers = {};\n    this.timeline = props.timeline;\n    this._viewports = [];\n    this._viewportMap = {};\n    this._isUpdating = false;\n    this._needsRedraw = 'Initial render';\n    this._needsUpdate = true;\n    this._eventManager = props.eventManager;\n    this._eventCallbacks = {\n      onViewStateChange: props.onViewStateChange,\n      onInteractionStateChange: props.onInteractionStateChange\n    };\n    Object.seal(this);\n    this.setProps(props);\n  }\n\n  _createClass(ViewManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var key in this.controllers) {\n        if (this.controllers[key]) {\n          this.controllers[key].finalize();\n        }\n      }\n\n      this.controllers = {};\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate(reason) {\n      this._needsUpdate = this._needsUpdate || reason;\n      this._needsRedraw = this._needsRedraw || reason;\n    }\n  }, {\n    key: \"updateViewStates\",\n    value: function updateViewStates() {\n      for (var viewId in this.controllers) {\n        var controller = this.controllers[viewId];\n\n        if (controller) {\n          controller.updateTransition();\n        }\n      }\n    }\n  }, {\n    key: \"getViewports\",\n    value: function getViewports(rect) {\n      if (rect) {\n        return this._viewports.filter(function (viewport) {\n          return viewport.containsPixel(rect);\n        });\n      }\n\n      return this._viewports;\n    }\n  }, {\n    key: \"getViews\",\n    value: function getViews() {\n      var viewMap = {};\n      this.views.forEach(function (view) {\n        viewMap[view.id] = view;\n      });\n      return viewMap;\n    }\n  }, {\n    key: \"getView\",\n    value: function getView(viewOrViewId) {\n      return typeof viewOrViewId === 'string' ? this.views.find(function (view) {\n        return view.id === viewOrViewId;\n      }) : viewOrViewId;\n    }\n  }, {\n    key: \"getViewState\",\n    value: function getViewState(viewId) {\n      var view = this.getView(viewId);\n      var viewState = view && this.viewState[view.getViewStateId()] || this.viewState;\n      return view ? view.filterViewState(viewState) : viewState;\n    }\n  }, {\n    key: \"getViewport\",\n    value: function getViewport(viewId) {\n      return this._viewportMap[viewId];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz, opts) {\n      var viewports = this.getViewports();\n      var pixel = {\n        x: xyz[0],\n        y: xyz[1]\n      };\n\n      for (var i = viewports.length - 1; i >= 0; --i) {\n        var viewport = viewports[i];\n\n        if (viewport.containsPixel(pixel)) {\n          var p = xyz.slice();\n          p[0] -= viewport.x;\n          p[1] -= viewport.y;\n          return viewport.unproject(p, opts);\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('views' in props) {\n        this._setViews(props.views);\n      }\n\n      if ('viewState' in props) {\n        this._setViewState(props.viewState);\n      }\n\n      if ('width' in props || 'height' in props) {\n        this._setSize(props.width, props.height);\n      }\n\n      if (!this._isUpdating) {\n        this._update();\n      }\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      this._isUpdating = true;\n\n      if (this._needsUpdate) {\n        this._needsUpdate = false;\n\n        this._rebuildViewports();\n      }\n\n      if (this._needsUpdate) {\n        this._needsUpdate = false;\n\n        this._rebuildViewports();\n      }\n\n      this._isUpdating = false;\n    }\n  }, {\n    key: \"_setSize\",\n    value: function _setSize(width, height) {\n      if (width !== this.width || height !== this.height) {\n        this.width = width;\n        this.height = height;\n        this.setNeedsUpdate('Size changed');\n      }\n    }\n  }, {\n    key: \"_setViews\",\n    value: function _setViews(views) {\n      views = flatten(views, Boolean);\n\n      var viewsChanged = this._diffViews(views, this.views);\n\n      if (viewsChanged) {\n        this.setNeedsUpdate('views changed');\n      }\n\n      this.views = views;\n    }\n  }, {\n    key: \"_setViewState\",\n    value: function _setViewState(viewState) {\n      if (viewState) {\n        var viewStateChanged = !deepEqual(viewState, this.viewState);\n\n        if (viewStateChanged) {\n          this.setNeedsUpdate('viewState changed');\n        }\n\n        this.viewState = viewState;\n      } else {\n        log.warn('missing `viewState` or `initialViewState`')();\n      }\n    }\n  }, {\n    key: \"_onViewStateChange\",\n    value: function _onViewStateChange(viewId, event) {\n      event.viewId = viewId;\n\n      if (this._eventCallbacks.onViewStateChange) {\n        this._eventCallbacks.onViewStateChange(event);\n      }\n    }\n  }, {\n    key: \"_createController\",\n    value: function _createController(view, props) {\n      var Controller = props.type;\n      var controller = new Controller(_objectSpread({\n        timeline: this.timeline,\n        eventManager: this._eventManager,\n        onViewStateChange: this._onViewStateChange.bind(this, props.id),\n        onStateChange: this._eventCallbacks.onInteractionStateChange,\n        makeViewport: function makeViewport(viewState) {\n          return view._getViewport(viewState, {\n            width: viewState.width,\n            height: viewState.height\n          });\n        }\n      }, props));\n      return controller;\n    }\n  }, {\n    key: \"_updateController\",\n    value: function _updateController(view, viewState, viewport, controller) {\n      var controllerProps = view.controller;\n\n      if (controllerProps) {\n        controllerProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, viewState), view.props), controllerProps), {}, {\n          id: view.id,\n          x: viewport.x,\n          y: viewport.y,\n          width: viewport.width,\n          height: viewport.height\n        });\n\n        if (controller) {\n          controller.setProps(controllerProps);\n        } else {\n          controller = this._createController(view, controllerProps);\n        }\n\n        return controller;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_rebuildViewports\",\n    value: function _rebuildViewports() {\n      var width = this.width,\n          height = this.height,\n          views = this.views;\n      var oldControllers = this.controllers;\n      this._viewports = [];\n      this.controllers = {};\n      var invalidateControllers = false;\n\n      for (var i = views.length; i--;) {\n        var view = views[i];\n        var viewState = this.getViewState(view);\n        var viewport = view.makeViewport({\n          width: width,\n          height: height,\n          viewState: viewState\n        });\n        var oldController = oldControllers[view.id];\n\n        if (view.controller && !oldController) {\n          invalidateControllers = true;\n        }\n\n        if ((invalidateControllers || !view.controller) && oldController) {\n          oldController.finalize();\n          oldController = null;\n        }\n\n        this.controllers[view.id] = this._updateController(view, viewState, viewport, oldController);\n\n        this._viewports.unshift(viewport);\n      }\n\n      for (var id in oldControllers) {\n        if (oldControllers[id] && !this.controllers[id]) {\n          oldControllers[id].finalize();\n        }\n      }\n\n      this._buildViewportMap();\n    }\n  }, {\n    key: \"_buildViewportMap\",\n    value: function _buildViewportMap() {\n      var _this = this;\n\n      this._viewportMap = {};\n\n      this._viewports.forEach(function (viewport) {\n        if (viewport.id) {\n          _this._viewportMap[viewport.id] = _this._viewportMap[viewport.id] || viewport;\n        }\n      });\n    }\n  }, {\n    key: \"_diffViews\",\n    value: function _diffViews(newViews, oldViews) {\n      if (newViews.length !== oldViews.length) {\n        return true;\n      }\n\n      return newViews.some(function (_, i) {\n        return !newViews[i].equals(oldViews[i]);\n      });\n    }\n  }]);\n\n  return ViewManager;\n}();\n\nexport { ViewManager as default };","var PERCENT_OR_PIXELS_REGEX = /([0-9]+\\.?[0-9]*)(%|px)/;\nexport function parsePosition(value) {\n  switch (typeof value) {\n    case 'number':\n      return {\n        position: value,\n        relative: false\n      };\n\n    case 'string':\n      var match = value.match(PERCENT_OR_PIXELS_REGEX);\n\n      if (match && match.length >= 3) {\n        var relative = match[2] === '%';\n        var position = parseFloat(match[1]);\n        return {\n          position: relative ? position / 100 : position,\n          relative: relative\n        };\n      }\n\n    default:\n      throw new Error(\"Could not parse position string \".concat(value));\n  }\n}\nexport function getPosition(position, extent) {\n  return position.relative ? Math.round(position.position * extent) : position.position;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'deck.gl: assertion failed.');\n  }\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Viewport from '../viewports/viewport';\nimport { parsePosition, getPosition } from '../utils/positions';\nimport { deepEqual } from '../utils/deep-equal';\nimport assert from '../utils/assert';\n\nvar View = /*#__PURE__*/function () {\n  function View() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, View);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? null : _props$id,\n        _props$x = props.x,\n        x = _props$x === void 0 ? 0 : _props$x,\n        _props$y = props.y,\n        y = _props$y === void 0 ? 0 : _props$y,\n        _props$width = props.width,\n        width = _props$width === void 0 ? '100%' : _props$width,\n        _props$height = props.height,\n        height = _props$height === void 0 ? '100%' : _props$height,\n        viewportInstance = props.viewportInstance,\n        _props$type = props.type,\n        type = _props$type === void 0 ? Viewport : _props$type;\n    assert(!viewportInstance || viewportInstance instanceof Viewport);\n    this.viewportInstance = viewportInstance;\n    this.id = id || this.constructor.displayName || 'view';\n    this.type = type;\n    this.props = _objectSpread(_objectSpread({}, props), {}, {\n      id: this.id\n    });\n\n    this._parseDimensions({\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n\n    this.equals = this.equals.bind(this);\n    Object.seal(this);\n  }\n\n  _createClass(View, [{\n    key: \"equals\",\n    value: function equals(view) {\n      if (this === view) {\n        return true;\n      }\n\n      if (this.viewportInstance) {\n        return view.viewportInstance && this.viewportInstance.equals(view.viewportInstance);\n      }\n\n      var viewChanged = deepEqual(this.props, view.props);\n      return viewChanged;\n    }\n  }, {\n    key: \"makeViewport\",\n    value: function makeViewport(_ref) {\n      var width = _ref.width,\n          height = _ref.height,\n          viewState = _ref.viewState;\n\n      if (this.viewportInstance) {\n        return this.viewportInstance;\n      }\n\n      viewState = this.filterViewState(viewState);\n      var viewportDimensions = this.getDimensions({\n        width: width,\n        height: height\n      });\n      return this._getViewport(viewState, viewportDimensions);\n    }\n  }, {\n    key: \"getViewStateId\",\n    value: function getViewStateId() {\n      switch (typeof this.props.viewState) {\n        case 'string':\n          return this.props.viewState;\n\n        case 'object':\n          return this.props.viewState && this.props.viewState.id;\n\n        default:\n          return this.id;\n      }\n    }\n  }, {\n    key: \"filterViewState\",\n    value: function filterViewState(viewState) {\n      if (this.props.viewState && typeof this.props.viewState === 'object') {\n        if (!this.props.viewState.id) {\n          return this.props.viewState;\n        }\n\n        var newViewState = _objectSpread({}, viewState);\n\n        for (var key in this.props.viewState) {\n          if (key !== 'id') {\n            newViewState[key] = this.props.viewState[key];\n          }\n        }\n\n        return newViewState;\n      }\n\n      return viewState;\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions(_ref2) {\n      var width = _ref2.width,\n          height = _ref2.height;\n      return {\n        x: getPosition(this._x, width),\n        y: getPosition(this._y, height),\n        width: getPosition(this._width, width),\n        height: getPosition(this._height, height)\n      };\n    }\n  }, {\n    key: \"_getControllerProps\",\n    value: function _getControllerProps(defaultOpts) {\n      var opts = this.props.controller;\n\n      if (!opts) {\n        return null;\n      }\n\n      if (opts === true) {\n        return defaultOpts;\n      }\n\n      if (typeof opts === 'function') {\n        opts = {\n          type: opts\n        };\n      }\n\n      return _objectSpread(_objectSpread({}, defaultOpts), opts);\n    }\n  }, {\n    key: \"_getViewport\",\n    value: function _getViewport(viewState, viewportDimensions) {\n      var ViewportType = this.type;\n      return new ViewportType(_objectSpread(_objectSpread(_objectSpread({}, viewState), this.props), viewportDimensions));\n    }\n  }, {\n    key: \"_parseDimensions\",\n    value: function _parseDimensions(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          width = _ref3.width,\n          height = _ref3.height;\n      this._x = parsePosition(x);\n      this._y = parsePosition(y);\n      this._width = parsePosition(width);\n      this._height = parsePosition(height);\n    }\n  }]);\n\n  return View;\n}();\n\nexport { View as default };","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Viewport from './viewport';\nimport { pixelsToWorld, getViewMatrix, addMetersToLngLat as _addMetersToLngLat, getProjectionParameters, altitudeToFovy, fovyToAltitude, fitBounds as _fitBounds, getBounds as _getBounds } from '@math.gl/web-mercator';\nimport * as vec2 from 'gl-matrix/vec2';\nimport { Matrix4 } from 'math.gl';\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEGREES_TO_RADIANS = Math.PI / 180;\n\nfunction unitsPerMeter(latitude) {\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return TILE_SIZE / EARTH_CIRCUMFERENCE / latCosine;\n}\n\nvar WebMercatorViewport = /*#__PURE__*/function (_Viewport) {\n  _inherits(WebMercatorViewport, _Viewport);\n\n  var _super = _createSuper(WebMercatorViewport);\n\n  function WebMercatorViewport() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    var _opts$latitude = opts.latitude,\n        latitude = _opts$latitude === void 0 ? 0 : _opts$latitude,\n        _opts$longitude = opts.longitude,\n        longitude = _opts$longitude === void 0 ? 0 : _opts$longitude,\n        _opts$zoom = opts.zoom,\n        zoom = _opts$zoom === void 0 ? 11 : _opts$zoom,\n        _opts$pitch = opts.pitch,\n        pitch = _opts$pitch === void 0 ? 0 : _opts$pitch,\n        _opts$bearing = opts.bearing,\n        bearing = _opts$bearing === void 0 ? 0 : _opts$bearing,\n        _opts$nearZMultiplier = opts.nearZMultiplier,\n        nearZMultiplier = _opts$nearZMultiplier === void 0 ? 0.1 : _opts$nearZMultiplier,\n        _opts$farZMultiplier = opts.farZMultiplier,\n        farZMultiplier = _opts$farZMultiplier === void 0 ? 1.01 : _opts$farZMultiplier,\n        _opts$orthographic = opts.orthographic,\n        orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n        projectionMatrix = opts.projectionMatrix,\n        _opts$repeat = opts.repeat,\n        repeat = _opts$repeat === void 0 ? false : _opts$repeat,\n        _opts$worldOffset = opts.worldOffset,\n        worldOffset = _opts$worldOffset === void 0 ? 0 : _opts$worldOffset,\n        _opts$legacyMeterSize = opts.legacyMeterSizes,\n        legacyMeterSizes = _opts$legacyMeterSize === void 0 ? false : _opts$legacyMeterSize;\n    var width = opts.width,\n        height = opts.height,\n        _opts$altitude = opts.altitude,\n        altitude = _opts$altitude === void 0 ? 1.5 : _opts$altitude;\n    var scale = Math.pow(2, zoom);\n    width = width || 1;\n    height = height || 1;\n    var fovy;\n    var projectionParameters = null;\n\n    if (projectionMatrix) {\n      altitude = projectionMatrix[5] / 2;\n      fovy = altitudeToFovy(altitude);\n    } else {\n      if (opts.fovy) {\n        fovy = opts.fovy;\n        altitude = fovyToAltitude(fovy);\n      } else {\n        fovy = altitudeToFovy(altitude);\n      }\n\n      projectionParameters = getProjectionParameters({\n        width: width,\n        height: height,\n        pitch: pitch,\n        fovy: fovy,\n        nearZMultiplier: nearZMultiplier,\n        farZMultiplier: farZMultiplier\n      });\n    }\n\n    var viewMatrixUncentered = getViewMatrix({\n      height: height,\n      pitch: pitch,\n      bearing: bearing,\n      scale: scale,\n      altitude: altitude\n    });\n\n    if (worldOffset) {\n      var viewOffset = new Matrix4().translate([512 * worldOffset, 0, 0]);\n      viewMatrixUncentered = viewOffset.multiplyLeft(viewMatrixUncentered);\n    }\n\n    _this = _super.call(this, _objectSpread(_objectSpread(_objectSpread({}, opts), {}, {\n      width: width,\n      height: height,\n      viewMatrix: viewMatrixUncentered,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom\n    }, projectionParameters), {}, {\n      fovy: fovy,\n      focalDistance: altitude\n    }));\n    _this.latitude = latitude;\n    _this.longitude = longitude;\n    _this.zoom = zoom;\n    _this.pitch = pitch;\n    _this.bearing = bearing;\n    _this.altitude = altitude;\n    _this.fovy = fovy;\n    _this.orthographic = orthographic;\n    _this._subViewports = repeat ? [] : null;\n    _this._pseudoMeters = legacyMeterSizes;\n    Object.freeze(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"subViewports\",\n    get: function get() {\n      if (this._subViewports && !this._subViewports.length) {\n        var bounds = this.getBounds();\n        var minOffset = Math.floor((bounds[0] + 180) / 360);\n        var maxOffset = Math.ceil((bounds[2] - 180) / 360);\n\n        for (var x = minOffset; x <= maxOffset; x++) {\n          var offsetViewport = x ? new WebMercatorViewport(_objectSpread(_objectSpread({}, this), {}, {\n            worldOffset: x\n          })) : this;\n\n          this._subViewports.push(offsetViewport);\n        }\n      }\n\n      return this._subViewports;\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      if (this._pseudoMeters) {\n        return _get(_getPrototypeOf(WebMercatorViewport.prototype), \"projectPosition\", this).call(this, xyz);\n      }\n\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = _slicedToArray(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * unitsPerMeter(xyz[1]);\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      if (this._pseudoMeters) {\n        return _get(_getPrototypeOf(WebMercatorViewport.prototype), \"unprojectPosition\", this).call(this, xyz);\n      }\n\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = _slicedToArray(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) / unitsPerMeter(Y);\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"addMetersToLngLat\",\n    value: function addMetersToLngLat(lngLatZ, xyz) {\n      return _addMetersToLngLat(lngLatZ, xyz);\n    }\n  }, {\n    key: \"panByPosition\",\n    value: function panByPosition(coords, pixel) {\n      var fromLocation = pixelsToWorld(pixel, this.pixelUnprojectionMatrix);\n      var toLocation = this.projectFlat(coords);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n\n      var _this$unprojectFlat3 = this.unprojectFlat(newCenter),\n          _this$unprojectFlat4 = _slicedToArray(_this$unprojectFlat3, 2),\n          longitude = _this$unprojectFlat4[0],\n          latitude = _this$unprojectFlat4[1];\n\n      return {\n        longitude: longitude,\n        latitude: latitude\n      };\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var corners = _getBounds(this, options.z || 0);\n\n      return [Math.min(corners[0][0], corners[1][0], corners[2][0], corners[3][0]), Math.min(corners[0][1], corners[1][1], corners[2][1], corners[3][1]), Math.max(corners[0][0], corners[1][0], corners[2][0], corners[3][0]), Math.max(corners[0][1], corners[1][1], corners[2][1], corners[3][1])];\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(_objectSpread({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }]);\n\n  return WebMercatorViewport;\n}(Viewport);\n\nexport { WebMercatorViewport as default };\nWebMercatorViewport.displayName = 'WebMercatorViewport';","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction noop() {}\n\nvar DEFAULT_SETTINGS = {\n  onStart: noop,\n  onUpdate: noop,\n  onInterrupt: noop,\n  onEnd: noop\n};\n\nvar Transition = /*#__PURE__*/function () {\n  function Transition(timeline) {\n    _classCallCheck(this, Transition);\n\n    this._inProgress = false;\n    this._handle = null;\n    this.timeline = timeline;\n    this.settings = {};\n  }\n\n  _createClass(Transition, [{\n    key: \"inProgress\",\n    get: function get() {\n      return this._inProgress;\n    }\n  }, {\n    key: \"start\",\n    value: function start(props) {\n      this.cancel();\n      this.settings = _objectSpread(_objectSpread({}, DEFAULT_SETTINGS), props);\n      this._inProgress = true;\n      this.settings.onStart(this);\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      if (this._inProgress) {\n        this.timeline.removeChannel(this._handle);\n        this._handle = null;\n        this._inProgress = false;\n        this.settings.onEnd(this);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._inProgress) {\n        this.settings.onInterrupt(this);\n        this.timeline.removeChannel(this._handle);\n        this._handle = null;\n        this._inProgress = false;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this._inProgress) {\n        return false;\n      }\n\n      if (this._handle === null) {\n        var timeline = this.timeline,\n            settings = this.settings;\n        this._handle = timeline.addChannel({\n          delay: timeline.getTime(),\n          duration: settings.duration\n        });\n      }\n\n      this.time = this.timeline.getTime(this._handle);\n\n      this._onUpdate();\n\n      this.settings.onUpdate(this);\n\n      if (this.timeline.isFinished(this._handle)) {\n        this.end();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {}\n  }]);\n\n  return Transition;\n}();\n\nexport { Transition as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Transition from '../transitions/transition';\n\nvar noop = function noop() {};\n\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3\n};\nvar DEFAULT_PROPS = {\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\n\nvar TransitionManager = /*#__PURE__*/function () {\n  function TransitionManager(ControllerState) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TransitionManager);\n\n    this.ControllerState = ControllerState;\n    this.props = _objectSpread(_objectSpread({}, DEFAULT_PROPS), props);\n    this.propsInTransition = null;\n    this.transition = new Transition(props.timeline);\n    this.onViewStateChange = props.onViewStateChange || noop;\n    this.onStateChange = props.onStateChange || noop;\n    this._onTransitionUpdate = this._onTransitionUpdate.bind(this);\n  }\n\n  _createClass(TransitionManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.transition.cancel();\n    }\n  }, {\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this.propsInTransition;\n    }\n  }, {\n    key: \"processViewStateChange\",\n    value: function processViewStateChange(nextProps) {\n      var transitionTriggered = false;\n      var currentProps = this.props;\n      nextProps = _objectSpread(_objectSpread({}, DEFAULT_PROPS), nextProps);\n      this.props = nextProps;\n\n      if (this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return transitionTriggered;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var _this$transition$sett = this.transition.settings,\n            interruption = _this$transition$sett.interruption,\n            endProps = _this$transition$sett.endProps;\n\n        var startProps = _objectSpread(_objectSpread({}, currentProps), interruption === TRANSITION_EVENTS.SNAP_TO_END ? endProps : this.propsInTransition || currentProps);\n\n        this._triggerTransition(startProps, nextProps);\n\n        transitionTriggered = true;\n      } else {\n        this.transition.cancel();\n      }\n\n      return transitionTriggered;\n    }\n  }, {\n    key: \"updateTransition\",\n    value: function updateTransition() {\n      this.transition.update();\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.transition.inProgress) {\n        return this.transition.settings.interpolator.arePropsEqual(props, this.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (this.transition.inProgress) {\n        return this.transition.settings.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      } else if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      var startViewstate = new this.ControllerState(startProps);\n      var endViewStateProps = new this.ControllerState(endProps).shortestPathFrom(startViewstate);\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endViewStateProps);\n      this.propsInTransition = {};\n      this.duration = duration;\n      this.transition.start({\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        onStart: endProps.onTransitionStart,\n        onUpdate: this._onTransitionUpdate,\n        onInterrupt: this._onTransitionEnd(endProps.onTransitionInterrupt),\n        onEnd: this._onTransitionEnd(endProps.onTransitionEnd)\n      });\n      this.onStateChange({\n        inTransition: true\n      });\n      this.updateTransition();\n    }\n  }, {\n    key: \"_onTransitionEnd\",\n    value: function _onTransitionEnd(callback) {\n      var _this = this;\n\n      return function (transition) {\n        _this.propsInTransition = null;\n\n        _this.onStateChange({\n          inTransition: false,\n          isZooming: false,\n          isPanning: false,\n          isRotating: false\n        });\n\n        callback(transition);\n      };\n    }\n  }, {\n    key: \"_onTransitionUpdate\",\n    value: function _onTransitionUpdate(transition) {\n      var time = transition.time,\n          _transition$settings = transition.settings,\n          interpolator = _transition$settings.interpolator,\n          startProps = _transition$settings.startProps,\n          endProps = _transition$settings.endProps,\n          duration = _transition$settings.duration,\n          easing = _transition$settings.easing;\n      var t = easing(time / duration);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      this.propsInTransition = new this.ControllerState(_objectSpread(_objectSpread({}, this.props), viewport)).getViewportProps();\n      this.onViewStateChange({\n        viewState: this.propsInTransition,\n        oldViewState: this.props\n      });\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\nexport { TransitionManager as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { equals } from 'math.gl';\nimport assert from '../utils/assert';\n\nvar TransitionInterpolator = /*#__PURE__*/function () {\n  function TransitionInterpolator() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransitionInterpolator);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        compare: opts,\n        extract: opts,\n        required: opts\n      };\n    }\n\n    var _opts = opts,\n        compare = _opts.compare,\n        extract = _opts.extract,\n        required = _opts.required;\n    this._propsToCompare = compare;\n    this._propsToExtract = extract;\n    this._requiredProps = required;\n  }\n\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this._propsToCompare || Object.keys(nextProps)),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!(key in currentProps) || !(key in nextProps) || !equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var result;\n\n      if (this._propsToExtract) {\n        var startViewStateProps = {};\n        var endViewStateProps = {};\n\n        var _iterator2 = _createForOfIteratorHelper(this._propsToExtract),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var key = _step2.value;\n            startViewStateProps[key] = startProps[key];\n            endViewStateProps[key] = endProps[key];\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        result = {\n          start: startViewStateProps,\n          end: endViewStateProps\n        };\n      } else {\n        result = {\n          start: startProps,\n          end: endProps\n        };\n      }\n\n      this._checkRequiredProps(result.start);\n\n      this._checkRequiredProps(result.end);\n\n      return result;\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      return endProps;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }, {\n    key: \"_checkRequiredProps\",\n    value: function _checkRequiredProps(props) {\n      if (!this._requiredProps) {\n        return;\n      }\n\n      this._requiredProps.forEach(function (propName) {\n        var value = props[propName];\n        assert(Number.isFinite(value) || Array.isArray(value), \"\".concat(propName, \" is required for transition\"));\n      });\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\nexport { TransitionInterpolator as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport TransitionInterpolator from './transition-interpolator';\nimport { lerp } from 'math.gl';\nvar DEFAULT_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar DEFAULT_REQUIRED_PROPS = ['longitude', 'latitude', 'zoom'];\n\nvar LinearInterpolator = /*#__PURE__*/function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, LinearInterpolator);\n\n    var transitionProps = Array.isArray(opts) ? opts : opts.transitionProps;\n    _this = _super.call(this, transitionProps || {\n      compare: DEFAULT_PROPS,\n      extract: DEFAULT_PROPS,\n      required: DEFAULT_REQUIRED_PROPS\n    });\n    _this.opts = opts;\n    return _this;\n  }\n\n  _createClass(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var result = _get(_getPrototypeOf(LinearInterpolator.prototype), \"initializeProps\", this).call(this, startProps, endProps);\n\n      var _this$opts = this.opts,\n          makeViewport = _this$opts.makeViewport,\n          around = _this$opts.around;\n\n      if (makeViewport && around) {\n        var startViewport = makeViewport(startProps);\n        var endViewport = makeViewport(endProps);\n        var aroundPosition = startViewport.unproject(around);\n        result.start.around = around;\n        Object.assign(result.end, {\n          around: endViewport.project(aroundPosition),\n          aroundPosition: aroundPosition,\n          width: endProps.width,\n          height: endProps.height\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var propsInTransition = {};\n\n      var _iterator = _createForOfIteratorHelper(this._propsToExtract),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          propsInTransition[key] = lerp(startProps[key] || 0, endProps[key] || 0, t);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (endProps.aroundPosition) {\n        var viewport = this.opts.makeViewport(_objectSpread(_objectSpread({}, endProps), propsInTransition));\n        Object.assign(propsInTransition, viewport.panByPosition(endProps.aroundPosition, lerp(startProps.around, endProps.around, t)));\n      }\n\n      return propsInTransition;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(TransitionInterpolator);\n\nexport { LinearInterpolator as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport TransitionManager, { TRANSITION_EVENTS } from './transition-manager';\nimport LinearInterpolator from '../transitions/linear-interpolator';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nvar LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\n\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\n\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar Controller = /*#__PURE__*/function () {\n  function Controller(ControllerState) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Controller);\n\n    this.ControllerState = ControllerState;\n    this.controllerState = null;\n    this.controllerStateProps = null;\n    this.eventManager = null;\n    this.transitionManager = new TransitionManager(ControllerState, _objectSpread(_objectSpread({}, options), {}, {\n      onViewStateChange: this._onTransition.bind(this),\n      onStateChange: this._setInteractionState.bind(this)\n    }));\n    var linearTransitionProps = this.linearTransitionProps;\n    this._transition = linearTransitionProps && _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n      transitionInterpolator: new LinearInterpolator({\n        transitionProps: linearTransitionProps\n      })\n    });\n    this._events = null;\n    this._interactionState = {\n      isDragging: false\n    };\n    this._customEvents = [];\n    this.onViewStateChange = null;\n    this.onStateChange = null;\n    this.handleEvent = this.handleEvent.bind(this);\n    this.setProps(options);\n  }\n\n  _createClass(Controller, [{\n    key: \"linearTransitionProps\",\n    get: function get() {\n      return null;\n    }\n  }, {\n    key: \"events\",\n    set: function set(customEvents) {\n      this.toggleEvents(this._customEvents, false);\n      this.toggleEvents(customEvents, true);\n      this._customEvents = customEvents;\n      this.setProps(this.controllerStateProps);\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      for (var eventName in this._events) {\n        if (this._events[eventName]) {\n          this.eventManager.off(eventName, this.handleEvent);\n        }\n      }\n\n      this.transitionManager.finalize();\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var ControllerState = this.ControllerState;\n      this.controllerState = new ControllerState(_objectSpread(_objectSpread({\n        makeViewport: this.makeViewport\n      }, this.controllerStateProps), this._state));\n      var eventStartBlocked = this._eventStartBlocked;\n\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n\n        case 'tripanmove':\n          return this._onTriplePan(event);\n\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _this$controllerState = this.controllerStateProps,\n          x = _this$controllerState.x,\n          y = _this$controllerState.y;\n      var offsetCenter = event.offsetCenter;\n      return [offsetCenter.x - x, offsetCenter.y - y];\n    }\n  }, {\n    key: \"isPointInBounds\",\n    value: function isPointInBounds(pos, event) {\n      var _this$controllerState2 = this.controllerStateProps,\n          width = _this$controllerState2.width,\n          height = _this$controllerState2.height;\n\n      if (event && event.handled) {\n        return false;\n      }\n\n      var inside = pos[0] >= 0 && pos[0] <= width && pos[1] >= 0 && pos[1] <= height;\n\n      if (inside && event) {\n        event.stopPropagation();\n      }\n\n      return inside;\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this = this;\n\n      var timer = setTimeout(function () {\n        if (_this._eventStartBlocked === timer) {\n          _this._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('onViewStateChange' in props) {\n        this.onViewStateChange = props.onViewStateChange;\n      }\n\n      if ('onStateChange' in props) {\n        this.onStateChange = props.onStateChange;\n      }\n\n      if ('makeViewport' in props) {\n        this.makeViewport = props.makeViewport;\n      }\n\n      if ('dragMode' in props) {\n        this.dragMode = props.dragMode;\n      }\n\n      this.controllerStateProps = props;\n\n      if ('eventManager' in props && this.eventManager !== props.eventManager) {\n        this.eventManager = props.eventManager;\n        this._events = {};\n        this.toggleEvents(this._customEvents, true);\n      }\n\n      if (!('transitionInterpolator' in props)) {\n        props.transitionInterpolator = this._getTransitionProps().transitionInterpolator;\n      }\n\n      this.transitionManager.processViewStateChange(props);\n      var inertia = props.inertia;\n\n      if (inertia === true) {\n        inertia = DEFAULT_INERTIA;\n      }\n\n      this.inertia = inertia;\n      var _props$scrollZoom = props.scrollZoom,\n          scrollZoom = _props$scrollZoom === void 0 ? true : _props$scrollZoom,\n          _props$dragPan = props.dragPan,\n          dragPan = _props$dragPan === void 0 ? true : _props$dragPan,\n          _props$dragRotate = props.dragRotate,\n          dragRotate = _props$dragRotate === void 0 ? true : _props$dragRotate,\n          _props$doubleClickZoo = props.doubleClickZoom,\n          doubleClickZoom = _props$doubleClickZoo === void 0 ? true : _props$doubleClickZoo,\n          _props$touchZoom = props.touchZoom,\n          touchZoom = _props$touchZoom === void 0 ? true : _props$touchZoom,\n          _props$touchRotate = props.touchRotate,\n          touchRotate = _props$touchRotate === void 0 ? false : _props$touchRotate,\n          _props$keyboard = props.keyboard,\n          keyboard = _props$keyboard === void 0 ? true : _props$keyboard;\n      var isInteractive = Boolean(this.onViewStateChange);\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && scrollZoom);\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && (dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && (touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && touchRotate);\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && doubleClickZoom);\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && keyboard);\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"updateTransition\",\n    value: function updateTransition() {\n      this.transitionManager.updateTransition();\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this2 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this2._events[eventName] !== enabled) {\n            _this2._events[eventName] = enabled;\n\n            if (enabled) {\n              _this2.eventManager.on(eventName, _this2.handleEvent);\n            } else {\n              _this2.eventManager.off(eventName, _this2.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newControllerState) {\n      var extraProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var interactionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var viewState = _objectSpread(_objectSpread({}, newControllerState.getViewportProps()), extraProps);\n\n      var changed = this.controllerState !== newControllerState;\n      this._state = newControllerState.getState();\n\n      this._setInteractionState(interactionState);\n\n      if (changed) {\n        var oldViewState = this.controllerState ? this.controllerState.getViewportProps() : null;\n\n        if (this.onViewStateChange) {\n          this.onViewStateChange({\n            viewState: viewState,\n            interactionState: this._interactionState,\n            oldViewState: oldViewState\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_onTransition\",\n    value: function _onTransition(params) {\n      if (this.onViewStateChange) {\n        params.interactionState = this._interactionState;\n        this.onViewStateChange(params);\n      }\n    }\n  }, {\n    key: \"_setInteractionState\",\n    value: function _setInteractionState(newStates) {\n      Object.assign(this._interactionState, newStates);\n\n      if (this.onStateChange) {\n        this.onStateChange(this._interactionState);\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var alternateMode = this.isFunctionKeyPressed(event) || event.rightButton;\n\n      if (this.invertPan || this.dragMode === 'pan') {\n        alternateMode = !alternateMode;\n      }\n\n      var newControllerState = this.controllerState[alternateMode ? 'panStart' : 'rotateStart']({\n        pos: pos\n      });\n      this._panMove = alternateMode;\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panMove ? this._onPanMove(event) : this._onPanRotate(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panMove ? this._onPanMoveEnd(event) : this._onPanRotateEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newControllerState = this.controllerState.pan({\n        pos: pos\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      var inertia = this.inertia;\n\n      if (this.dragPan && inertia && event.velocity) {\n        var pos = this.getCenter(event);\n        var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n        var newControllerState = this.controllerState.pan({\n          pos: endPos\n        }).panEnd();\n        this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, this._getTransitionProps()), {}, {\n          transitionDuration: inertia,\n          transitionEasing: INERTIA_EASING\n        }), {\n          isDragging: false,\n          isPanning: true\n        });\n      } else {\n        var _newControllerState = this.controllerState.panEnd();\n\n        this.updateViewport(_newControllerState, null, {\n          isDragging: false,\n          isPanning: false\n        });\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newControllerState = this.controllerState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      var inertia = this.inertia;\n\n      if (this.dragRotate && inertia && event.velocity) {\n        var pos = this.getCenter(event);\n        var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n        var newControllerState = this.controllerState.rotate({\n          pos: endPos\n        }).rotateEnd();\n        this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, this._getTransitionProps()), {}, {\n          transitionDuration: inertia,\n          transitionEasing: INERTIA_EASING\n        }), {\n          isDragging: false,\n          isRotating: true\n        });\n      } else {\n        var _newControllerState2 = this.controllerState.rotateEnd();\n\n        this.updateViewport(_newControllerState2, null, {\n          isDragging: false,\n          isRotating: false\n        });\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      event.preventDefault();\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var _this$scrollZoom = this.scrollZoom,\n          _this$scrollZoom$spee = _this$scrollZoom.speed,\n          speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n          _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n          smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newControllerState = this.controllerState.zoom({\n        pos: pos,\n        scale: scale\n      });\n      this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, this._getTransitionProps({\n        around: pos\n      })), {}, {\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isZooming: true,\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var newControllerState = this.controllerState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.touchRotate) {\n        return false;\n      }\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newControllerState = this.controllerState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var inertia = this.inertia;\n\n      if (this.touchRotate && inertia && event.velocityY) {\n        var pos = this.getCenter(event);\n        var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n        var newControllerState = this.controllerState.rotate({\n          pos: endPos\n        });\n        this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, this._getTransitionProps()), {}, {\n          transitionDuration: inertia,\n          transitionEasing: INERTIA_EASING\n        }), {\n          isDragging: false,\n          isRotating: true\n        });\n        this.blockEvents(inertia);\n      } else {\n        var _newControllerState3 = this.controllerState.rotateEnd();\n\n        this.updateViewport(_newControllerState3, null, {\n          isDragging: false,\n          isRotating: false\n        });\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var newControllerState = this.controllerState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var newControllerState = this.controllerState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newControllerState = newControllerState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newControllerState = newControllerState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: this.touchZoom,\n        isZooming: this.touchZoom,\n        isRotating: this.touchRotate\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var inertia = this.inertia,\n          _lastPinchEvent = this._lastPinchEvent;\n\n      if (this.touchZoom && inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n        var pos = this.getCenter(event);\n        var newControllerState = this.controllerState.rotateEnd();\n        var z = Math.log2(event.scale);\n\n        var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n\n        var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n        newControllerState = newControllerState.zoom({\n          pos: pos,\n          scale: endScale\n        }).zoomEnd();\n        this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, this._getTransitionProps({\n          around: pos\n        })), {}, {\n          transitionDuration: inertia,\n          transitionEasing: INERTIA_EASING\n        }), {\n          isDragging: false,\n          isPanning: this.touchZoom,\n          isZooming: this.touchZoom,\n          isRotating: false\n        });\n        this.blockEvents(inertia);\n      } else {\n        var _newControllerState4 = this.controllerState.zoomEnd().rotateEnd();\n\n        this.updateViewport(_newControllerState4, null, {\n          isDragging: false,\n          isPanning: false,\n          isZooming: false,\n          isRotating: false\n        });\n      }\n\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newControllerState = this.controllerState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newControllerState, this._getTransitionProps({\n        around: pos\n      }), {\n        isZooming: true,\n        isPanning: true\n      });\n      this.blockEvents(100);\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n          zoomSpeed = _this$keyboard.zoomSpeed,\n          moveSpeed = _this$keyboard.moveSpeed,\n          rotateSpeedX = _this$keyboard.rotateSpeedX,\n          rotateSpeedY = _this$keyboard.rotateSpeedY;\n      var controllerState = this.controllerState;\n      var newControllerState;\n      var interactionState = {};\n\n      switch (event.srcEvent.code) {\n        case 'Minus':\n          newControllerState = funcKey ? controllerState.zoomOut(zoomSpeed).zoomOut(zoomSpeed) : controllerState.zoomOut(zoomSpeed);\n          interactionState.isZooming = true;\n          break;\n\n        case 'Equal':\n          newControllerState = funcKey ? controllerState.zoomIn(zoomSpeed).zoomIn(zoomSpeed) : controllerState.zoomIn(zoomSpeed);\n          interactionState.isZooming = true;\n          break;\n\n        case 'ArrowLeft':\n          if (funcKey) {\n            newControllerState = controllerState.rotateLeft(rotateSpeedX);\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveLeft(moveSpeed);\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        case 'ArrowRight':\n          if (funcKey) {\n            newControllerState = controllerState.rotateRight(rotateSpeedX);\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveRight(moveSpeed);\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        case 'ArrowUp':\n          if (funcKey) {\n            newControllerState = controllerState.rotateUp(rotateSpeedY);\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveUp(moveSpeed);\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        case 'ArrowDown':\n          if (funcKey) {\n            newControllerState = controllerState.rotateDown(rotateSpeedY);\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveDown(moveSpeed);\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      this.updateViewport(newControllerState, this._getTransitionProps(), interactionState);\n      return true;\n    }\n  }, {\n    key: \"_getTransitionProps\",\n    value: function _getTransitionProps(opts) {\n      var _transition = this._transition;\n\n      if (!_transition) {\n        return NO_TRANSITION_PROPS;\n      }\n\n      return opts ? _objectSpread(_objectSpread({}, _transition), {}, {\n        transitionInterpolator: new LinearInterpolator(_objectSpread(_objectSpread({}, opts), {}, {\n          transitionProps: this.linearTransitionProps,\n          makeViewport: this.controllerState.makeViewport\n        }))\n      }) : _transition;\n    }\n  }]);\n\n  return Controller;\n}();\n\nexport { Controller as default };","import _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { clamp } from 'math.gl';\nimport Controller from './controller';\nimport ViewState from './view-state';\nimport { normalizeViewportProps } from '@math.gl/web-mercator';\nimport assert from '../utils/assert';\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5,\n  minZoom: 0,\n  maxZoom: 20,\n  minPitch: 0,\n  maxPitch: 60\n};\nexport var MapState = /*#__PURE__*/function (_ViewState) {\n  _inherits(MapState, _ViewState);\n\n  var _super = _createSuper(MapState);\n\n  function MapState() {\n    var _this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        makeViewport = _ref.makeViewport,\n        width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? DEFAULT_STATE.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? DEFAULT_STATE.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? DEFAULT_STATE.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? DEFAULT_STATE.minPitch : _ref$minPitch,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startRotatePos = _ref.startRotatePos,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom,\n        normalize = _ref.normalize;\n\n    _classCallCheck(this, MapState);\n\n    assert(Number.isFinite(longitude));\n    assert(Number.isFinite(latitude));\n    assert(Number.isFinite(zoom));\n    _this = _super.call(this, {\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      normalize: normalize\n    });\n    _this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n    _this.makeViewport = makeViewport;\n    return _this;\n  }\n\n  _createClass(MapState, [{\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var viewport = this.makeViewport(this._viewportProps);\n      var newProps = viewport.panByPosition(startPanLngLat, pos);\n      return this._getUpdatedState(newProps);\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n          _ref5$deltaAngleX = _ref5.deltaAngleX,\n          deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n          _ref5$deltaAngleY = _ref5.deltaAngleY,\n          deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n          startRotatePos = _this$_state.startRotatePos,\n          startBearing = _this$_state.startBearing,\n          startPitch = _this$_state.startPitch;\n\n      if (!startRotatePos || !Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var newRotation;\n\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n\n      return this._getUpdatedState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      var _this$_state2 = this._state,\n          startZoom = _this$_state2.startZoom,\n          startZoomLngLat = _this$_state2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom\n      });\n\n      var zoomedViewport = this.makeViewport(_objectSpread(_objectSpread({}, this._viewportProps), {}, {\n        zoom: zoom\n      }));\n      return this._getUpdatedState(_objectSpread({\n        zoom: zoom\n      }, zoomedViewport.panByPosition(startZoomLngLat, pos)));\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      return this._zoomFromCenter(speed);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      return this._zoomFromCenter(1 / speed);\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n      return this._panFromCenter([speed, 0]);\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n      return this._panFromCenter([-speed, 0]);\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n      return this._panFromCenter([0, speed]);\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n      return this._panFromCenter([0, -speed]);\n    }\n  }, {\n    key: \"rotateLeft\",\n    value: function rotateLeft() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 15;\n      return this._getUpdatedState({\n        bearing: this._viewportProps.bearing - speed\n      });\n    }\n  }, {\n    key: \"rotateRight\",\n    value: function rotateRight() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 15;\n      return this._getUpdatedState({\n        bearing: this._viewportProps.bearing + speed\n      });\n    }\n  }, {\n    key: \"rotateUp\",\n    value: function rotateUp() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      return this._getUpdatedState({\n        pitch: this._viewportProps.pitch + speed\n      });\n    }\n  }, {\n    key: \"rotateDown\",\n    value: function rotateDown() {\n      var speed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      return this._getUpdatedState({\n        pitch: this._viewportProps.pitch - speed\n      });\n    }\n  }, {\n    key: \"shortestPathFrom\",\n    value: function shortestPathFrom(viewState) {\n      var fromProps = viewState.getViewportProps();\n\n      var props = _objectSpread({}, this._viewportProps);\n\n      var bearing = props.bearing,\n          longitude = props.longitude;\n\n      if (Math.abs(bearing - fromProps.bearing) > 180) {\n        props.bearing = bearing < 0 ? bearing + 360 : bearing - 360;\n      }\n\n      if (Math.abs(longitude - fromProps.longitude) > 180) {\n        props.longitude = longitude < 0 ? longitude + 360 : longitude - 360;\n      }\n\n      return props;\n    }\n  }, {\n    key: \"_zoomFromCenter\",\n    value: function _zoomFromCenter(scale) {\n      var _this$_viewportProps = this._viewportProps,\n          width = _this$_viewportProps.width,\n          height = _this$_viewportProps.height;\n      return this.zoom({\n        pos: [width / 2, height / 2],\n        scale: scale\n      });\n    }\n  }, {\n    key: \"_panFromCenter\",\n    value: function _panFromCenter(offset) {\n      var _this$_viewportProps2 = this._viewportProps,\n          width = _this$_viewportProps2.width,\n          height = _this$_viewportProps2.height;\n      return this.pan({\n        startPos: [width / 2, height / 2],\n        pos: [width / 2 + offset[0], height / 2 + offset[1]]\n      });\n    }\n  }, {\n    key: \"_getUpdatedState\",\n    value: function _getUpdatedState(newProps) {\n      return new this.constructor(_objectSpread(_objectSpread(_objectSpread({\n        makeViewport: this.makeViewport\n      }, this._viewportProps), this._state), newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      var _props$normalize = props.normalize,\n          normalize = _props$normalize === void 0 ? true : _props$normalize;\n\n      if (normalize) {\n        Object.assign(props, normalizeViewportProps(props));\n      }\n\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = this.makeViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref8) {\n      var scale = _ref8.scale,\n          startZoom = _ref8.startZoom;\n      var _this$_viewportProps3 = this._viewportProps,\n          maxZoom = _this$_viewportProps3.maxZoom,\n          minZoom = _this$_viewportProps3.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref9) {\n      var deltaScaleX = _ref9.deltaScaleX,\n          deltaScaleY = _ref9.deltaScaleY,\n          startBearing = _ref9.startBearing,\n          startPitch = _ref9.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps4 = this._viewportProps,\n          minPitch = _this$_viewportProps4.minPitch,\n          maxPitch = _this$_viewportProps4.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps5 = this._viewportProps,\n          width = _this$_viewportProps5.width,\n          height = _this$_viewportProps5.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n\n  return MapState;\n}(ViewState);\n\nvar MapController = /*#__PURE__*/function (_Controller) {\n  _inherits(MapController, _Controller);\n\n  var _super2 = _createSuper(MapController);\n\n  function MapController(props) {\n    _classCallCheck(this, MapController);\n\n    props.dragMode = props.dragMode || 'pan';\n    return _super2.call(this, MapState, props);\n  }\n\n  _createClass(MapController, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      var oldProps = this.controllerStateProps;\n\n      _get(_getPrototypeOf(MapController.prototype), \"setProps\", this).call(this, props);\n\n      var dimensionChanged = !oldProps || oldProps.height !== props.height;\n\n      if (dimensionChanged) {\n        this.updateViewport(new this.ControllerState(_objectSpread(_objectSpread({\n          makeViewport: this.makeViewport\n        }, this.controllerStateProps), this._state)));\n      }\n    }\n  }, {\n    key: \"linearTransitionProps\",\n    get: function get() {\n      return ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n    }\n  }]);\n\n  return MapController;\n}(Controller);\n\nexport { MapController as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar ViewState = /*#__PURE__*/function () {\n  function ViewState(opts) {\n    _classCallCheck(this, ViewState);\n\n    this._viewportProps = this._applyConstraints(opts);\n  }\n\n  _createClass(ViewState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"shortestPathFrom\",\n    value: function shortestPathFrom(viewState) {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      return props;\n    }\n  }]);\n\n  return ViewState;\n}();\n\nexport { ViewState as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport View from './view';\nimport WebMercatorViewport from '../viewports/web-mercator-viewport';\nimport MapController from '../controllers/map-controller';\n\nvar MapView = /*#__PURE__*/function (_View) {\n  _inherits(MapView, _View);\n\n  var _super = _createSuper(MapView);\n\n  function MapView(props) {\n    _classCallCheck(this, MapView);\n\n    return _super.call(this, _objectSpread(_objectSpread({}, props), {}, {\n      type: WebMercatorViewport\n    }));\n  }\n\n  _createClass(MapView, [{\n    key: \"controller\",\n    get: function get() {\n      return this._getControllerProps({\n        type: MapController\n      });\n    }\n  }]);\n\n  return MapView;\n}(View);\n\nexport { MapView as default };\nMapView.displayName = 'MapView';","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nvar DEFAULT_LIGHT_COLOR = [255, 255, 255];\nvar DEFAULT_LIGHT_INTENSITY = 1.0;\nvar idCount = 0;\nexport var AmbientLight = function AmbientLight() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  _classCallCheck(this, AmbientLight);\n\n  var _props$color = props.color,\n      color = _props$color === void 0 ? DEFAULT_LIGHT_COLOR : _props$color;\n  var _props$intensity = props.intensity,\n      intensity = _props$intensity === void 0 ? DEFAULT_LIGHT_INTENSITY : _props$intensity;\n  this.id = props.id || \"ambient-\".concat(idCount++);\n  this.color = color;\n  this.intensity = intensity;\n  this.type = 'ambient';\n};","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Vector3 } from 'math.gl';\nvar DEFAULT_LIGHT_COLOR = [255, 255, 255];\nvar DEFAULT_LIGHT_INTENSITY = 1.0;\nvar DEFAULT_LIGHT_DIRECTION = [0.0, 0.0, -1.0];\nvar idCount = 0;\nexport var DirectionalLight = /*#__PURE__*/function () {\n  function DirectionalLight() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, DirectionalLight);\n\n    var _props$color = props.color,\n        color = _props$color === void 0 ? DEFAULT_LIGHT_COLOR : _props$color;\n    var _props$intensity = props.intensity,\n        intensity = _props$intensity === void 0 ? DEFAULT_LIGHT_INTENSITY : _props$intensity;\n    var _props$direction = props.direction,\n        direction = _props$direction === void 0 ? DEFAULT_LIGHT_DIRECTION : _props$direction;\n\n    var _props$_shadow = props._shadow,\n        _shadow = _props$_shadow === void 0 ? false : _props$_shadow;\n\n    this.id = props.id || \"directional-\".concat(idCount++);\n    this.color = color;\n    this.intensity = intensity;\n    this.type = 'directional';\n    this.direction = new Vector3(direction).normalize().toArray();\n    this.shadow = _shadow;\n  }\n\n  _createClass(DirectionalLight, [{\n    key: \"getProjectedLight\",\n    value: function getProjectedLight() {\n      return this;\n    }\n  }]);\n\n  return DirectionalLight;\n}();","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Effect = /*#__PURE__*/function () {\n  function Effect() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Effect);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? 'effect' : _props$id;\n    this.id = id;\n    this.props = _objectSpread({}, props);\n  }\n\n  _createClass(Effect, [{\n    key: \"preRender\",\n    value: function preRender() {}\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {}\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {}\n  }]);\n\n  return Effect;\n}();\n\nexport { Effect as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Pass = /*#__PURE__*/function () {\n  function Pass(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Pass);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? 'pass' : _props$id;\n    this.id = id;\n    this.gl = gl;\n    this.props = _objectSpread({}, props);\n  }\n\n  _createClass(Pass, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      Object.assign(this.props, props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {}\n  }]);\n\n  return Pass;\n}();\n\nexport { Pass as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Pass from './pass';\nimport { clear, setParameters, withParameters, cssToDeviceRatio } from '@luma.gl/core';\n\nvar LayersPass = /*#__PURE__*/function (_Pass) {\n  _inherits(LayersPass, _Pass);\n\n  var _super = _createSuper(LayersPass);\n\n  function LayersPass() {\n    _classCallCheck(this, LayersPass);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      var gl = this.gl;\n      setParameters(gl, {\n        framebuffer: props.target\n      });\n      return this._drawLayers(props);\n    }\n  }, {\n    key: \"_drawLayers\",\n    value: function _drawLayers(props) {\n      var viewports = props.viewports,\n          views = props.views,\n          onViewportActive = props.onViewportActive,\n          _props$clearCanvas = props.clearCanvas,\n          clearCanvas = _props$clearCanvas === void 0 ? true : _props$clearCanvas;\n      props.pass = props.pass || 'unknown';\n      var gl = this.gl;\n\n      if (clearCanvas) {\n        clearGLCanvas(gl);\n      }\n\n      var renderStats = [];\n\n      var _iterator = _createForOfIteratorHelper(viewports),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var viewportOrDescriptor = _step.value;\n          var viewport = viewportOrDescriptor.viewport || viewportOrDescriptor;\n          var view = views && views[viewport.id];\n          onViewportActive(viewport);\n\n          var drawLayerParams = this._getDrawLayerParams(viewport, props);\n\n          props.view = view;\n          var subViewports = viewport.subViewports || [viewport];\n\n          var _iterator2 = _createForOfIteratorHelper(subViewports),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var subViewport = _step2.value;\n              props.viewport = subViewport;\n\n              var stats = this._drawLayersInViewport(gl, props, drawLayerParams);\n\n              renderStats.push(stats);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return renderStats;\n    }\n  }, {\n    key: \"_getDrawLayerParams\",\n    value: function _getDrawLayerParams(viewport, _ref) {\n      var layers = _ref.layers,\n          pass = _ref.pass,\n          layerFilter = _ref.layerFilter,\n          effects = _ref.effects,\n          moduleParameters = _ref.moduleParameters;\n      var drawLayerParams = [];\n      var indexResolver = layerIndexResolver();\n      var drawContext = {\n        viewport: viewport,\n        isPicking: pass.startsWith('picking'),\n        renderPass: pass\n      };\n      var layerFilterCache = {};\n\n      for (var layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n        var layer = layers[layerIndex];\n\n        var shouldDrawLayer = this._shouldDrawLayer(layer, drawContext, layerFilter, layerFilterCache);\n\n        var layerRenderIndex = indexResolver(layer, shouldDrawLayer);\n        var layerParam = {\n          shouldDrawLayer: shouldDrawLayer,\n          layerRenderIndex: layerRenderIndex\n        };\n\n        if (shouldDrawLayer) {\n          layerParam.moduleParameters = this._getModuleParameters(layer, effects, pass, moduleParameters);\n          layerParam.layerParameters = this.getLayerParameters(layer, layerIndex, viewport);\n        }\n\n        drawLayerParams[layerIndex] = layerParam;\n      }\n\n      return drawLayerParams;\n    }\n  }, {\n    key: \"_drawLayersInViewport\",\n    value: function _drawLayersInViewport(gl, _ref2, drawLayerParams) {\n      var layers = _ref2.layers,\n          pass = _ref2.pass,\n          viewport = _ref2.viewport,\n          view = _ref2.view;\n      var glViewport = getGLViewport(gl, {\n        viewport: viewport\n      });\n\n      if (view && view.props.clear) {\n        var clearOpts = view.props.clear === true ? {\n          color: true,\n          depth: true\n        } : view.props.clear;\n        withParameters(gl, {\n          scissorTest: true,\n          scissor: glViewport\n        }, function () {\n          return clear(gl, clearOpts);\n        });\n      }\n\n      var renderStatus = {\n        totalCount: layers.length,\n        visibleCount: 0,\n        compositeCount: 0,\n        pickableCount: 0\n      };\n      setParameters(gl, {\n        viewport: glViewport\n      });\n\n      for (var layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n        var layer = layers[layerIndex];\n        var _drawLayerParams$laye = drawLayerParams[layerIndex],\n            shouldDrawLayer = _drawLayerParams$laye.shouldDrawLayer,\n            layerRenderIndex = _drawLayerParams$laye.layerRenderIndex,\n            moduleParameters = _drawLayerParams$laye.moduleParameters,\n            layerParameters = _drawLayerParams$laye.layerParameters;\n\n        if (shouldDrawLayer && layer.props.pickable) {\n          renderStatus.pickableCount++;\n        }\n\n        if (layer.isComposite) {\n          renderStatus.compositeCount++;\n        } else if (shouldDrawLayer) {\n          renderStatus.visibleCount++;\n          moduleParameters.viewport = viewport;\n\n          try {\n            layer.drawLayer({\n              moduleParameters: moduleParameters,\n              uniforms: {\n                layerIndex: layerRenderIndex\n              },\n              parameters: layerParameters\n            });\n          } catch (err) {\n            layer.raiseError(err, \"drawing \".concat(layer, \" to \").concat(pass));\n          }\n        }\n      }\n\n      return renderStatus;\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return true;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters(layer, effects) {\n      return null;\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex) {\n      return layer.props.parameters;\n    }\n  }, {\n    key: \"_shouldDrawLayer\",\n    value: function _shouldDrawLayer(layer, drawContext, layerFilter, layerFilterCache) {\n      var shouldDrawLayer = this.shouldDrawLayer(layer) && layer.props.visible;\n\n      if (!shouldDrawLayer) {\n        return false;\n      }\n\n      drawContext.layer = layer;\n      var parent = layer.parent;\n\n      while (parent) {\n        if (!parent.props.visible || !parent.filterSubLayer(drawContext)) {\n          return false;\n        }\n\n        drawContext.layer = parent;\n        parent = parent.parent;\n      }\n\n      if (layerFilter) {\n        var rootLayerId = drawContext.layer.id;\n\n        if (!(rootLayerId in layerFilterCache)) {\n          layerFilterCache[rootLayerId] = layerFilter(drawContext);\n        }\n\n        if (!layerFilterCache[rootLayerId]) {\n          return false;\n        }\n      }\n\n      layer.activateViewport(drawContext.viewport);\n      return true;\n    }\n  }, {\n    key: \"_getModuleParameters\",\n    value: function _getModuleParameters(layer, effects, pass, overrides) {\n      var moduleParameters = Object.assign(Object.create(layer.props), {\n        autoWrapLongitude: layer.wrapLongitude,\n        viewport: layer.context.viewport,\n        mousePosition: layer.context.mousePosition,\n        pickingActive: 0,\n        devicePixelRatio: cssToDeviceRatio(this.gl)\n      });\n\n      if (effects) {\n        var _iterator3 = _createForOfIteratorHelper(effects),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var effect = _step3.value;\n            Object.assign(moduleParameters, effect.getModuleParameters(layer));\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n\n      return Object.assign(moduleParameters, this.getModuleParameters(layer, effects), overrides);\n    }\n  }]);\n\n  return LayersPass;\n}(Pass);\n\nexport { LayersPass as default };\nexport function layerIndexResolver() {\n  var startIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var layerIndices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var resolvers = {};\n\n  var resolveLayerIndex = function resolveLayerIndex(layer, isDrawn) {\n    var indexOverride = layer.props._offset;\n    var layerId = layer.id;\n    var parentId = layer.parent && layer.parent.id;\n    var index;\n\n    if (parentId && !(parentId in layerIndices)) {\n      resolveLayerIndex(layer.parent, false);\n    }\n\n    if (parentId in resolvers) {\n      var resolver = resolvers[parentId] = resolvers[parentId] || layerIndexResolver(layerIndices[parentId], layerIndices);\n      index = resolver(layer, isDrawn);\n      resolvers[layerId] = resolver;\n    } else if (Number.isFinite(indexOverride)) {\n      index = indexOverride + (layerIndices[parentId] || 0);\n      resolvers[layerId] = null;\n    } else {\n      index = startIndex;\n    }\n\n    if (isDrawn && index >= startIndex) {\n      startIndex = index + 1;\n    }\n\n    layerIndices[layerId] = index;\n    return index;\n  };\n\n  return resolveLayerIndex;\n}\n\nfunction getGLViewport(gl, _ref3) {\n  var viewport = _ref3.viewport;\n  var height = gl.canvas ? gl.canvas.clientHeight || gl.canvas.height : 100;\n  var dimensions = viewport;\n  var pixelRatio = cssToDeviceRatio(gl);\n  return [dimensions.x * pixelRatio, (height - dimensions.y - dimensions.height) * pixelRatio, dimensions.width * pixelRatio, dimensions.height * pixelRatio];\n}\n\nfunction clearGLCanvas(gl) {\n  var width = gl.drawingBufferWidth;\n  var height = gl.drawingBufferHeight;\n  setParameters(gl, {\n    viewport: [0, 0, width, height]\n  });\n  gl.clear(16384 | 256);\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { default as LayersPass } from './layers-pass';\nimport { Framebuffer, Texture2D, Renderbuffer, withParameters, cssToDeviceRatio } from '@luma.gl/core';\n\nvar ShadowPass = /*#__PURE__*/function (_LayersPass) {\n  _inherits(ShadowPass, _LayersPass);\n\n  var _super = _createSuper(ShadowPass);\n\n  function ShadowPass(gl, props) {\n    var _parameters, _attachments;\n\n    var _this;\n\n    _classCallCheck(this, ShadowPass);\n\n    _this = _super.call(this, gl, props);\n    _this.shadowMap = new Texture2D(gl, {\n      width: 1,\n      height: 1,\n      parameters: (_parameters = {}, _defineProperty(_parameters, 10241, 9729), _defineProperty(_parameters, 10240, 9729), _defineProperty(_parameters, 10242, 33071), _defineProperty(_parameters, 10243, 33071), _parameters)\n    });\n    _this.depthBuffer = new Renderbuffer(gl, {\n      format: 33189,\n      width: 1,\n      height: 1\n    });\n    _this.fbo = new Framebuffer(gl, {\n      id: 'shadowmap',\n      width: 1,\n      height: 1,\n      attachments: (_attachments = {}, _defineProperty(_attachments, 36064, _this.shadowMap), _defineProperty(_attachments, 36096, _this.depthBuffer), _attachments)\n    });\n    return _this;\n  }\n\n  _createClass(ShadowPass, [{\n    key: \"render\",\n    value: function render(params) {\n      var _this2 = this;\n\n      var target = this.fbo;\n      withParameters(this.gl, {\n        depthRange: [0, 1],\n        depthTest: true,\n        blend: false,\n        clearColor: [1, 1, 1, 1]\n      }, function () {\n        var viewport = params.viewports[0];\n        var pixelRatio = cssToDeviceRatio(_this2.gl);\n        var width = viewport.width * pixelRatio;\n        var height = viewport.height * pixelRatio;\n\n        if (width !== target.width || height !== target.height) {\n          target.resize({\n            width: width,\n            height: height\n          });\n        }\n\n        _get(_getPrototypeOf(ShadowPass.prototype), \"render\", _this2).call(_this2, _objectSpread(_objectSpread({}, params), {}, {\n          target: target,\n          pass: 'shadow'\n        }));\n      });\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return layer.props.shadowEnabled !== false;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {\n      return {\n        drawToShadowMap: true\n      };\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this.fbo) {\n        this.fbo.delete();\n        this.fbo = null;\n      }\n\n      if (this.shadowMap) {\n        this.shadowMap.delete();\n        this.shadowMap = null;\n      }\n\n      if (this.depthBuffer) {\n        this.depthBuffer.delete();\n        this.depthBuffer = null;\n      }\n    }\n  }]);\n\n  return ShadowPass;\n}(LayersPass);\n\nexport { ShadowPass as default };","import _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { COORDINATE_SYSTEM, PROJECTION_MODE } from '../../lib/constants';\nimport project from '../project/project';\nimport { Vector3, Matrix4 } from 'math.gl';\nimport memoize from '../../utils/memoize';\nimport { pixelsToWorld } from '@math.gl/web-mercator';\nvar vs = \"\\nconst int max_lights = 2;\\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\\nuniform vec4 shadow_uProjectCenters[max_lights];\\nuniform bool shadow_uDrawShadowMap;\\nuniform bool shadow_uUseShadowMap;\\nuniform int shadow_uLightId;\\nuniform float shadow_uLightCount;\\n\\nvarying vec3 shadow_vPosition[max_lights];\\n\\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\\n  if (shadow_uDrawShadowMap) {\\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\\n  }\\n  if (shadow_uUseShadowMap) {\\n    for (int i = 0; i < max_lights; i++) {\\n      if(i < int(shadow_uLightCount)) {\\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\\n      }\\n    }\\n  }\\n  return gl_Position;\\n}\\n\";\nvar fs = \"\\nconst int max_lights = 2;\\nuniform bool shadow_uDrawShadowMap;\\nuniform bool shadow_uUseShadowMap;\\nuniform sampler2D shadow_uShadowMap0;\\nuniform sampler2D shadow_uShadowMap1;\\nuniform vec4 shadow_uColor;\\nuniform float shadow_uLightCount;\\n\\nvarying vec3 shadow_vPosition[max_lights];\\n\\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\\n\\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\\n\\n  float z = dot(rgbaDepth, bitUnpackShift);\\n  return smoothstep(0.001, 0.01, position.z - z);\\n}\\n\\nvec4 shadow_filterShadowColor(vec4 color) {\\n  if (shadow_uDrawShadowMap) {\\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\\n    return rgbaDepth;\\n  }\\n  if (shadow_uUseShadowMap) {\\n    float shadowAlpha = 0.0;\\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\\n    if(shadow_uLightCount > 1.0) {\\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\\n    }\\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\\n\\n    return vec4(\\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\\n      blendedAlpha\\n    );\\n  }\\n  return color;\\n}\\n\";\nvar getMemoizedViewportCenterPosition = memoize(getViewportCenterPosition);\nvar getMemoizedViewProjectionMatrices = memoize(getViewProjectionMatrices);\nvar DEFAULT_SHADOW_COLOR = [0, 0, 0, 1.0];\nvar VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\n\nfunction screenToCommonSpace(xyz, pixelUnprojectionMatrix) {\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var coord = pixelsToWorld([x, y, z], pixelUnprojectionMatrix);\n\n  if (Number.isFinite(z)) {\n    return coord;\n  }\n\n  return [coord[0], coord[1], 0];\n}\n\nfunction getViewportCenterPosition(_ref) {\n  var viewport = _ref.viewport,\n      center = _ref.center;\n  return new Matrix4(viewport.viewProjectionMatrix).invert().transform(center);\n}\n\nfunction getViewProjectionMatrices(_ref2) {\n  var viewport = _ref2.viewport,\n      shadowMatrices = _ref2.shadowMatrices;\n  var projectionMatrices = [];\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var farZ = viewport.isGeospatial ? undefined : 1;\n  var corners = [[0, 0, farZ], [viewport.width, 0, farZ], [0, viewport.height, farZ], [viewport.width, viewport.height, farZ], [0, 0, -1], [viewport.width, 0, -1], [0, viewport.height, -1], [viewport.width, viewport.height, -1]].map(function (pixel) {\n    return screenToCommonSpace(pixel, pixelUnprojectionMatrix);\n  });\n\n  var _iterator = _createForOfIteratorHelper(shadowMatrices),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var shadowMatrix = _step.value;\n      var viewMatrix = shadowMatrix.clone().translate(new Vector3(viewport.center).negate());\n      var positions = corners.map(function (corner) {\n        return viewMatrix.transform(corner);\n      });\n      var projectionMatrix = new Matrix4().ortho({\n        left: Math.min.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[0];\n        }))),\n        right: Math.max.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[0];\n        }))),\n        bottom: Math.min.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[1];\n        }))),\n        top: Math.max.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[1];\n        }))),\n        near: Math.min.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return -position[2];\n        }))),\n        far: Math.max.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return -position[2];\n        })))\n      });\n      projectionMatrices.push(projectionMatrix.multiplyRight(shadowMatrix));\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return projectionMatrices;\n}\n\nfunction createShadowUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var uniforms = {\n    shadow_uDrawShadowMap: Boolean(opts.drawToShadowMap),\n    shadow_uUseShadowMap: opts.shadowMaps ? opts.shadowMaps.length > 0 : false,\n    shadow_uColor: opts.shadowColor || DEFAULT_SHADOW_COLOR,\n    shadow_uLightId: opts.shadowLightId || 0,\n    shadow_uLightCount: opts.shadowMatrices.length\n  };\n  var center = getMemoizedViewportCenterPosition({\n    viewport: opts.viewport,\n    center: context.project_uCenter\n  });\n  var projectCenters = [];\n  var viewProjectionMatrices = getMemoizedViewProjectionMatrices({\n    shadowMatrices: opts.shadowMatrices,\n    viewport: opts.viewport\n  }).slice();\n\n  for (var i = 0; i < opts.shadowMatrices.length; i++) {\n    var viewProjectionMatrix = viewProjectionMatrices[i];\n    var viewProjectionMatrixCentered = viewProjectionMatrix.clone().translate(new Vector3(opts.viewport.center).negate());\n\n    if (context.project_uCoordinateSystem === COORDINATE_SYSTEM.LNGLAT && context.project_uProjectionMode === PROJECTION_MODE.WEB_MERCATOR) {\n      viewProjectionMatrices[i] = viewProjectionMatrixCentered;\n      projectCenters[i] = center;\n    } else {\n      viewProjectionMatrices[i] = viewProjectionMatrix.clone().multiplyRight(VECTOR_TO_POINT_MATRIX);\n      projectCenters[i] = viewProjectionMatrixCentered.transform(center);\n    }\n  }\n\n  for (var _i = 0; _i < viewProjectionMatrices.length; _i++) {\n    uniforms[\"shadow_uViewProjectionMatrices[\".concat(_i, \"]\")] = viewProjectionMatrices[_i];\n    uniforms[\"shadow_uProjectCenters[\".concat(_i, \"]\")] = projectCenters[_i];\n\n    if (opts.shadowMaps && opts.shadowMaps.length > 0) {\n      uniforms[\"shadow_uShadowMap\".concat(_i)] = opts.shadowMaps[_i];\n    } else {\n      uniforms[\"shadow_uShadowMap\".concat(_i)] = opts.dummyShadowMap;\n    }\n  }\n\n  return uniforms;\n}\n\nexport default {\n  name: 'shadow',\n  dependencies: [project],\n  vs: vs,\n  fs: fs,\n  inject: {\n    'vs:DECKGL_FILTER_GL_POSITION': \"\\n    position = shadow_setVertexPosition(geometry.position);\\n    \",\n    'fs:DECKGL_FILTER_COLOR': \"\\n    color = shadow_filterShadowColor(color);\\n    \"\n  },\n  getUniforms: function getUniforms() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (opts.drawToShadowMap || opts.shadowMaps && opts.shadowMaps.length > 0) {\n      var _opts$shadowEnabled = opts.shadowEnabled,\n          shadowEnabled = _opts$shadowEnabled === void 0 ? true : _opts$shadowEnabled;\n      return shadowEnabled && opts.shadowMatrices && opts.shadowMatrices.length > 0 ? createShadowUniforms(opts, context) : {\n        shadow_uDrawShadowMap: false,\n        shadow_uUseShadowMap: false\n      };\n    }\n\n    return {};\n  }\n};","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Texture2D, ProgramManager } from '@luma.gl/core';\nimport { AmbientLight } from './ambient-light';\nimport { DirectionalLight } from './directional-light';\nimport Effect from '../../lib/effect';\nimport { Matrix4, Vector3 } from 'math.gl';\nimport ShadowPass from '../../passes/shadow-pass';\nimport { default as shadow } from '../../shaderlib/shadow/shadow';\nvar DEFAULT_AMBIENT_LIGHT_PROPS = {\n  color: [255, 255, 255],\n  intensity: 1.0\n};\nvar DEFAULT_DIRECTIONAL_LIGHT_PROPS = [{\n  color: [255, 255, 255],\n  intensity: 1.0,\n  direction: [-1, 3, -1]\n}, {\n  color: [255, 255, 255],\n  intensity: 0.9,\n  direction: [1, -8, -2.5]\n}];\nvar DEFAULT_SHADOW_COLOR = [0, 0, 0, 200 / 255];\n\nvar LightingEffect = /*#__PURE__*/function (_Effect) {\n  _inherits(LightingEffect, _Effect);\n\n  var _super = _createSuper(LightingEffect);\n\n  function LightingEffect(props) {\n    var _this;\n\n    _classCallCheck(this, LightingEffect);\n\n    _this = _super.call(this, props);\n    _this.ambientLight = null;\n    _this.directionalLights = [];\n    _this.pointLights = [];\n    _this.shadowColor = DEFAULT_SHADOW_COLOR;\n    _this.shadowPasses = [];\n    _this.shadowMaps = [];\n    _this.dummyShadowMap = null;\n    _this.shadow = false;\n    _this.programManager = null;\n\n    for (var key in props) {\n      var lightSource = props[key];\n\n      switch (lightSource.type) {\n        case 'ambient':\n          _this.ambientLight = lightSource;\n          break;\n\n        case 'directional':\n          _this.directionalLights.push(lightSource);\n\n          break;\n\n        case 'point':\n          _this.pointLights.push(lightSource);\n\n          break;\n\n        default:\n      }\n    }\n\n    _this._applyDefaultLights();\n\n    _this.shadow = _this.directionalLights.some(function (light) {\n      return light.shadow;\n    });\n    return _this;\n  }\n\n  _createClass(LightingEffect, [{\n    key: \"preRender\",\n    value: function preRender(gl, _ref) {\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          viewports = _ref.viewports,\n          onViewportActive = _ref.onViewportActive,\n          views = _ref.views;\n      if (!this.shadow) return;\n      this.shadowMatrices = this._createLightMatrix();\n\n      if (this.shadowPasses.length === 0) {\n        this._createShadowPasses(gl);\n      }\n\n      if (!this.programManager) {\n        this.programManager = ProgramManager.getDefaultProgramManager(gl);\n\n        if (shadow) {\n          this.programManager.addDefaultModule(shadow);\n        }\n      }\n\n      if (!this.dummyShadowMap) {\n        this.dummyShadowMap = new Texture2D(gl, {\n          width: 1,\n          height: 1\n        });\n      }\n\n      for (var i = 0; i < this.shadowPasses.length; i++) {\n        var shadowPass = this.shadowPasses[i];\n        shadowPass.render({\n          layers: layers,\n          layerFilter: layerFilter,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          views: views,\n          moduleParameters: {\n            shadowLightId: i,\n            dummyShadowMap: this.dummyShadowMap,\n            shadowMatrices: this.shadowMatrices\n          }\n        });\n      }\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters(layer) {\n      var parameters = this.shadow ? {\n        shadowMaps: this.shadowMaps,\n        dummyShadowMap: this.dummyShadowMap,\n        shadowColor: this.shadowColor,\n        shadowMatrices: this.shadowMatrices\n      } : {};\n      parameters.lightSources = {\n        ambientLight: this.ambientLight,\n        directionalLights: this.directionalLights.map(function (directionalLight) {\n          return directionalLight.getProjectedLight({\n            layer: layer\n          });\n        }),\n        pointLights: this.pointLights.map(function (pointLight) {\n          return pointLight.getProjectedLight({\n            layer: layer\n          });\n        })\n      };\n      return parameters;\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      var _iterator = _createForOfIteratorHelper(this.shadowPasses),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var shadowPass = _step.value;\n          shadowPass.delete();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.shadowPasses.length = 0;\n      this.shadowMaps.length = 0;\n\n      if (this.dummyShadowMap) {\n        this.dummyShadowMap.delete();\n        this.dummyShadowMap = null;\n      }\n\n      if (this.shadow && this.programManager) {\n        this.programManager.removeDefaultModule(shadow);\n        this.programManager = null;\n      }\n    }\n  }, {\n    key: \"_createLightMatrix\",\n    value: function _createLightMatrix() {\n      var lightMatrices = [];\n\n      var _iterator2 = _createForOfIteratorHelper(this.directionalLights),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var light = _step2.value;\n          var viewMatrix = new Matrix4().lookAt({\n            eye: new Vector3(light.direction).negate()\n          });\n          lightMatrices.push(viewMatrix);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return lightMatrices;\n    }\n  }, {\n    key: \"_createShadowPasses\",\n    value: function _createShadowPasses(gl) {\n      for (var i = 0; i < this.directionalLights.length; i++) {\n        var shadowPass = new ShadowPass(gl);\n        this.shadowPasses[i] = shadowPass;\n        this.shadowMaps[i] = shadowPass.shadowMap;\n      }\n    }\n  }, {\n    key: \"_applyDefaultLights\",\n    value: function _applyDefaultLights() {\n      var ambientLight = this.ambientLight,\n          pointLights = this.pointLights,\n          directionalLights = this.directionalLights;\n\n      if (!ambientLight && pointLights.length === 0 && directionalLights.length === 0) {\n        this.ambientLight = new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS);\n        this.directionalLights.push(new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]), new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1]));\n      }\n    }\n  }]);\n\n  return LightingEffect;\n}(Effect);\n\nexport { LightingEffect as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { deepEqual } from '../utils/deep-equal';\nimport { default as LightingEffect } from '../effects/lighting/lighting-effect';\nvar DEFAULT_LIGHTING_EFFECT = new LightingEffect();\n\nvar EffectManager = /*#__PURE__*/function () {\n  function EffectManager() {\n    _classCallCheck(this, EffectManager);\n\n    this.effects = [];\n    this._internalEffects = [];\n    this._needsRedraw = 'Initial render';\n    this.setEffects();\n  }\n\n  _createClass(EffectManager, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('effects' in props) {\n        if (props.effects.length !== this.effects.length || !deepEqual(props.effects, this.effects)) {\n          this.setEffects(props.effects);\n          this._needsRedraw = 'effects changed';\n        }\n      }\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"getEffects\",\n    value: function getEffects() {\n      return this._internalEffects;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.cleanup();\n    }\n  }, {\n    key: \"setEffects\",\n    value: function setEffects() {\n      var effects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.cleanup();\n      this.effects = effects;\n\n      this._createInternalEffects();\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      var _iterator = _createForOfIteratorHelper(this.effects),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var effect = _step.value;\n          effect.cleanup();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(this._internalEffects),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _effect = _step2.value;\n\n          _effect.cleanup();\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      this.effects.length = 0;\n      this._internalEffects.length = 0;\n    }\n  }, {\n    key: \"_createInternalEffects\",\n    value: function _createInternalEffects() {\n      this._internalEffects = this.effects.slice();\n\n      if (!this.effects.some(function (effect) {\n        return effect instanceof LightingEffect;\n      })) {\n        this._internalEffects.push(DEFAULT_LIGHTING_EFFECT);\n      }\n    }\n  }]);\n\n  return EffectManager;\n}();\n\nexport { EffectManager as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport LayersPass from './layers-pass';\n\nvar DrawLayersPass = /*#__PURE__*/function (_LayersPass) {\n  _inherits(DrawLayersPass, _LayersPass);\n\n  var _super = _createSuper(DrawLayersPass);\n\n  function DrawLayersPass() {\n    _classCallCheck(this, DrawLayersPass);\n\n    return _super.apply(this, arguments);\n  }\n\n  return DrawLayersPass;\n}(LayersPass);\n\nexport { DrawLayersPass as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport LayersPass from './layers-pass';\nimport { withParameters } from '@luma.gl/core';\nimport log from '../utils/log';\nvar PICKING_PARAMETERS = {\n  blendFunc: [1, 0, 32771, 0],\n  blendEquation: 32774\n};\n\nvar PickLayersPass = /*#__PURE__*/function (_LayersPass) {\n  _inherits(PickLayersPass, _LayersPass);\n\n  var _super = _createSuper(PickLayersPass);\n\n  function PickLayersPass() {\n    _classCallCheck(this, PickLayersPass);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PickLayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      if (props.pickingFBO) {\n        return this._drawPickingBuffer(props);\n      }\n\n      return _get(_getPrototypeOf(PickLayersPass.prototype), \"render\", this).call(this, props);\n    }\n  }, {\n    key: \"_drawPickingBuffer\",\n    value: function _drawPickingBuffer(_ref) {\n      var _this = this;\n\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          views = _ref.views,\n          viewports = _ref.viewports,\n          onViewportActive = _ref.onViewportActive,\n          pickingFBO = _ref.pickingFBO,\n          _ref$deviceRect = _ref.deviceRect,\n          x = _ref$deviceRect.x,\n          y = _ref$deviceRect.y,\n          width = _ref$deviceRect.width,\n          height = _ref$deviceRect.height,\n          _ref$pass = _ref.pass,\n          pass = _ref$pass === void 0 ? 'picking' : _ref$pass,\n          redrawReason = _ref.redrawReason,\n          pickZ = _ref.pickZ;\n      var gl = this.gl;\n      this.pickZ = pickZ;\n      var encodedColors = !pickZ && {\n        byLayer: new Map(),\n        byAlpha: []\n      };\n      this._colors = encodedColors;\n      var renderStatus = withParameters(gl, _objectSpread(_objectSpread({\n        scissorTest: true,\n        scissor: [x, y, width, height],\n        clearColor: [0, 0, 0, 0],\n        depthMask: true,\n        depthTest: true,\n        depthRange: [0, 1],\n        colorMask: [true, true, true, true]\n      }, PICKING_PARAMETERS), {}, {\n        blend: !pickZ\n      }), function () {\n        return _get(_getPrototypeOf(PickLayersPass.prototype), \"render\", _this).call(_this, {\n          target: pickingFBO,\n          layers: layers,\n          layerFilter: layerFilter,\n          views: views,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          pass: pass,\n          redrawReason: redrawReason\n        });\n      });\n      this._colors = null;\n      var decodePickingColor = encodedColors && decodeColor.bind(null, encodedColors);\n      return {\n        decodePickingColor: decodePickingColor,\n        stats: renderStatus\n      };\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return layer.props.pickable;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {\n      return {\n        pickingActive: 1,\n        pickingAttribute: this.pickZ,\n        lightSources: {}\n      };\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex, viewport) {\n      var pickParameters = _objectSpread({}, layer.props.parameters);\n\n      if (this.pickZ) {\n        pickParameters.blend = false;\n      } else {\n        Object.assign(pickParameters, PICKING_PARAMETERS);\n        pickParameters.blend = true;\n        pickParameters.blendColor = encodeColor(this._colors, layer, viewport);\n      }\n\n      return pickParameters;\n    }\n  }]);\n\n  return PickLayersPass;\n}(LayersPass);\n\nexport { PickLayersPass as default };\n\nfunction encodeColor(encoded, layer, viewport) {\n  var byLayer = encoded.byLayer,\n      byAlpha = encoded.byAlpha;\n  var a;\n\n  if (byLayer.has(layer)) {\n    var entry = byLayer.get(layer);\n    entry.viewports.push(viewport);\n    a = entry.a;\n  } else {\n    a = byLayer.size + 1;\n\n    if (a <= 255) {\n      var _entry = {\n        a: a,\n        layer: layer,\n        viewports: [viewport]\n      };\n      byLayer.set(layer, _entry);\n      byAlpha[a] = _entry;\n    } else {\n      log.warn('Too many pickable layers, only picking the first 255')();\n      a = 0;\n    }\n  }\n\n  return [0, 0, 0, a / 255];\n}\n\nfunction decodeColor(encoded, pickedColor) {\n  var entry = encoded.byAlpha[pickedColor[3]];\n  return entry && {\n    pickedLayer: entry.layer,\n    pickedViewports: entry.viewports,\n    pickedObjectIndex: entry.layer.decodePickingColor(pickedColor)\n  };\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport debug from '../debug';\nimport DrawLayersPass from '../passes/draw-layers-pass';\nimport PickLayersPass from '../passes/pick-layers-pass';\nimport { Framebuffer } from '@luma.gl/core';\nvar TRACE_RENDER_LAYERS = 'deckRenderer.renderLayers';\n\nvar DeckRenderer = /*#__PURE__*/function () {\n  function DeckRenderer(gl) {\n    _classCallCheck(this, DeckRenderer);\n\n    this.gl = gl;\n    this.layerFilter = null;\n    this.drawPickingColors = false;\n    this.drawLayersPass = new DrawLayersPass(gl);\n    this.pickLayersPass = new PickLayersPass(gl);\n    this.renderCount = 0;\n    this._needsRedraw = 'Initial render';\n    this.renderBuffers = [];\n    this.lastPostProcessEffect = null;\n  }\n\n  _createClass(DeckRenderer, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('layerFilter' in props && this.layerFilter !== props.layerFilter) {\n        this.layerFilter = props.layerFilter;\n        this._needsRedraw = 'layerFilter changed';\n      }\n\n      if ('drawPickingColors' in props && this.drawPickingColors !== props.drawPickingColors) {\n        this.drawPickingColors = props.drawPickingColors;\n        this._needsRedraw = 'drawPickingColors changed';\n      }\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers(opts) {\n      var layerPass = this.drawPickingColors ? this.pickLayersPass : this.drawLayersPass;\n      opts.layerFilter = opts.layerFilter || this.layerFilter;\n      opts.effects = opts.effects || [];\n      opts.target = opts.target || Framebuffer.getDefaultFramebuffer(this.gl);\n\n      this._preRender(opts.effects, opts);\n\n      var outputBuffer = this.lastPostProcessEffect ? this.renderBuffers[0] : opts.target;\n      var renderStats = layerPass.render(_objectSpread(_objectSpread({}, opts), {}, {\n        target: outputBuffer\n      }));\n\n      this._postRender(opts.effects, opts);\n\n      this.renderCount++;\n      debug(TRACE_RENDER_LAYERS, this, renderStats, opts);\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var renderBuffers = this.renderBuffers;\n\n      var _iterator = _createForOfIteratorHelper(renderBuffers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var buffer = _step.value;\n          buffer.delete();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      renderBuffers.length = 0;\n    }\n  }, {\n    key: \"_preRender\",\n    value: function _preRender(effects, opts) {\n      var lastPostProcessEffect = null;\n\n      var _iterator2 = _createForOfIteratorHelper(effects),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var effect = _step2.value;\n          effect.preRender(this.gl, opts);\n\n          if (effect.postRender) {\n            lastPostProcessEffect = effect;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (lastPostProcessEffect) {\n        this._resizeRenderBuffers();\n      }\n\n      this.lastPostProcessEffect = lastPostProcessEffect;\n    }\n  }, {\n    key: \"_resizeRenderBuffers\",\n    value: function _resizeRenderBuffers() {\n      var renderBuffers = this.renderBuffers;\n\n      if (renderBuffers.length === 0) {\n        renderBuffers.push(new Framebuffer(this.gl), new Framebuffer(this.gl));\n      }\n\n      var _iterator3 = _createForOfIteratorHelper(renderBuffers),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var buffer = _step3.value;\n          buffer.resize();\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"_postRender\",\n    value: function _postRender(effects, opts) {\n      var renderBuffers = this.renderBuffers;\n      var params = {\n        inputBuffer: renderBuffers[0],\n        swapBuffer: renderBuffers[1],\n        target: null\n      };\n\n      var _iterator4 = _createForOfIteratorHelper(effects),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var effect = _step4.value;\n\n          if (effect.postRender) {\n            if (effect === this.lastPostProcessEffect) {\n              params.target = opts.target;\n              effect.postRender(this.gl, params);\n              break;\n            }\n\n            var buffer = effect.postRender(this.gl, params);\n            params.inputBuffer = buffer;\n            params.swapBuffer = buffer === renderBuffers[0] ? renderBuffers[1] : renderBuffers[0];\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }]);\n\n  return DeckRenderer;\n}();\n\nexport { DeckRenderer as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport log from '../../utils/log';\nvar NO_PICKED_OBJECT = {\n  pickedColor: null,\n  pickedLayer: null,\n  pickedObjectIndex: -1\n};\nexport function getClosestObject(_ref) {\n  var pickedColors = _ref.pickedColors,\n      decodePickingColor = _ref.decodePickingColor,\n      deviceX = _ref.deviceX,\n      deviceY = _ref.deviceY,\n      deviceRadius = _ref.deviceRadius,\n      deviceRect = _ref.deviceRect;\n\n  if (pickedColors) {\n    var x = deviceRect.x,\n        y = deviceRect.y,\n        width = deviceRect.width,\n        height = deviceRect.height;\n    var minSquareDistanceToCenter = deviceRadius * deviceRadius;\n    var closestPixelIndex = -1;\n    var i = 0;\n\n    for (var row = 0; row < height; row++) {\n      var dy = row + y - deviceY;\n      var dy2 = dy * dy;\n\n      if (dy2 > minSquareDistanceToCenter) {\n        i += 4 * width;\n      } else {\n        for (var col = 0; col < width; col++) {\n          var pickedLayerIndex = pickedColors[i + 3] - 1;\n\n          if (pickedLayerIndex >= 0) {\n            var dx = col + x - deviceX;\n            var d2 = dx * dx + dy2;\n\n            if (d2 <= minSquareDistanceToCenter) {\n              minSquareDistanceToCenter = d2;\n              closestPixelIndex = i;\n            }\n          }\n\n          i += 4;\n        }\n      }\n    }\n\n    if (closestPixelIndex >= 0) {\n      var pickedColor = pickedColors.slice(closestPixelIndex, closestPixelIndex + 4);\n      var pickedObject = decodePickingColor(pickedColor);\n\n      if (pickedObject) {\n        var _dy = Math.floor(closestPixelIndex / 4 / width);\n\n        var _dx = closestPixelIndex / 4 - _dy * width;\n\n        return _objectSpread(_objectSpread({}, pickedObject), {}, {\n          pickedColor: pickedColor,\n          pickedX: x + _dx,\n          pickedY: y + _dy\n        });\n      }\n\n      log.error('Picked non-existent layer. Is picking buffer corrupt?')();\n    }\n  }\n\n  return NO_PICKED_OBJECT;\n}\nexport function getUniqueObjects(_ref2) {\n  var pickedColors = _ref2.pickedColors,\n      decodePickingColor = _ref2.decodePickingColor;\n  var uniqueColors = new Map();\n\n  if (pickedColors) {\n    for (var i = 0; i < pickedColors.length; i += 4) {\n      var pickedLayerIndex = pickedColors[i + 3] - 1;\n\n      if (pickedLayerIndex >= 0) {\n        var pickedColor = pickedColors.slice(i, i + 4);\n        var colorKey = pickedColor.join(',');\n\n        if (!uniqueColors.has(colorKey)) {\n          var pickedObject = decodePickingColor(pickedColor);\n\n          if (pickedObject) {\n            uniqueColors.set(colorKey, _objectSpread(_objectSpread({}, pickedObject), {}, {\n              pickedColor: pickedColor\n            }));\n          } else {\n            log.error('Picked non-existent layer. Is picking buffer corrupt?')();\n          }\n        }\n      }\n    }\n  }\n\n  return Array.from(uniqueColors.values());\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport function getEmptyPickingInfo(_ref) {\n  var pickInfo = _ref.pickInfo,\n      viewports = _ref.viewports,\n      pixelRatio = _ref.pixelRatio,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z;\n  var pickedViewport = viewports[0];\n\n  if (viewports.length > 1) {\n    pickedViewport = getViewportFromCoordinates((pickInfo === null || pickInfo === void 0 ? void 0 : pickInfo.pickedViewports) || viewports, {\n      x: x,\n      y: y\n    });\n  }\n\n  var coordinate = pickedViewport && pickedViewport.unproject([x - pickedViewport.x, y - pickedViewport.y], {\n    targetZ: z\n  });\n  return {\n    color: null,\n    layer: null,\n    viewport: pickedViewport,\n    index: -1,\n    picked: false,\n    x: x,\n    y: y,\n    pixel: [x, y],\n    coordinate: coordinate,\n    devicePixel: pickInfo && 'pickedX' in pickInfo ? [pickInfo.pickedX, pickInfo.pickedY] : null,\n    pixelRatio: pixelRatio\n  };\n}\nexport function processPickInfo(opts) {\n  var pickInfo = opts.pickInfo,\n      lastPickedInfo = opts.lastPickedInfo,\n      mode = opts.mode,\n      layers = opts.layers;\n  var pickedColor = pickInfo.pickedColor,\n      pickedLayer = pickInfo.pickedLayer,\n      pickedObjectIndex = pickInfo.pickedObjectIndex;\n  var affectedLayers = pickedLayer ? [pickedLayer] : [];\n\n  if (mode === 'hover') {\n    var lastPickedObjectIndex = lastPickedInfo.index;\n    var lastPickedLayerId = lastPickedInfo.layerId;\n    var pickedLayerId = pickedLayer && pickedLayer.props.id;\n\n    if (pickedLayerId !== lastPickedLayerId || pickedObjectIndex !== lastPickedObjectIndex) {\n      if (pickedLayerId !== lastPickedLayerId) {\n        var lastPickedLayer = layers.find(function (layer) {\n          return layer.props.id === lastPickedLayerId;\n        });\n\n        if (lastPickedLayer) {\n          affectedLayers.unshift(lastPickedLayer);\n        }\n      }\n\n      lastPickedInfo.layerId = pickedLayerId;\n      lastPickedInfo.index = pickedObjectIndex;\n      lastPickedInfo.info = null;\n    }\n  }\n\n  var baseInfo = getEmptyPickingInfo(opts);\n  var infos = new Map();\n  infos.set(null, baseInfo);\n  affectedLayers.forEach(function (layer) {\n    var info = _objectSpread({}, baseInfo);\n\n    if (layer === pickedLayer) {\n      info.color = pickedColor;\n      info.index = pickedObjectIndex;\n      info.picked = true;\n    }\n\n    info = getLayerPickingInfo({\n      layer: layer,\n      info: info,\n      mode: mode\n    });\n\n    if (layer === pickedLayer && mode === 'hover') {\n      lastPickedInfo.info = info;\n    }\n\n    infos.set(info.layer.id, info);\n\n    if (mode === 'hover') {\n      info.layer.updateAutoHighlight(info);\n    }\n  });\n  return infos;\n}\nexport function getLayerPickingInfo(_ref2) {\n  var layer = _ref2.layer,\n      info = _ref2.info,\n      mode = _ref2.mode;\n\n  while (layer && info) {\n    var sourceLayer = info.layer || null;\n    info.sourceLayer = sourceLayer;\n    info.layer = layer;\n    info = layer.getPickingInfo({\n      info: info,\n      mode: mode,\n      sourceLayer: sourceLayer\n    });\n    layer = layer.parent;\n  }\n\n  return info;\n}\n\nfunction getViewportFromCoordinates(viewports, pixel) {\n  for (var i = viewports.length - 1; i >= 0; i--) {\n    var viewport = viewports[i];\n\n    if (viewport.containsPixel(pixel)) {\n      return viewport;\n    }\n  }\n\n  return viewports[0];\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Framebuffer, Texture2D, isWebGL2, readPixelsToArray, cssToDeviceRatio, cssToDevicePixels } from '@luma.gl/core';\nimport PickLayersPass from '../passes/pick-layers-pass';\nimport { getClosestObject, getUniqueObjects } from './picking/query-object';\nimport { processPickInfo, getLayerPickingInfo, getEmptyPickingInfo } from './picking/pick-info';\n\nvar DeckPicker = /*#__PURE__*/function () {\n  function DeckPicker(gl) {\n    _classCallCheck(this, DeckPicker);\n\n    this.gl = gl;\n    this.pickingFBO = null;\n    this.pickLayersPass = new PickLayersPass(gl);\n    this.layerFilter = null;\n    this.lastPickedInfo = {\n      index: -1,\n      layerId: null,\n      info: null\n    };\n  }\n\n  _createClass(DeckPicker, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('layerFilter' in props) {\n        this.layerFilter = props.layerFilter;\n      }\n\n      if ('_pickable' in props) {\n        this._pickable = props._pickable;\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      if (this.pickingFBO) {\n        this.pickingFBO.delete();\n      }\n\n      if (this.depthFBO) {\n        this.depthFBO.color.delete();\n        this.depthFBO.delete();\n      }\n    }\n  }, {\n    key: \"pickObject\",\n    value: function pickObject(opts) {\n      return this._pickClosestObject(opts);\n    }\n  }, {\n    key: \"pickObjects\",\n    value: function pickObjects(opts) {\n      return this._pickVisibleObjects(opts);\n    }\n  }, {\n    key: \"getLastPickedObject\",\n    value: function getLastPickedObject(_ref) {\n      var x = _ref.x,\n          y = _ref.y,\n          layers = _ref.layers,\n          viewports = _ref.viewports;\n      var lastPickedInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.lastPickedInfo.info;\n      var lastPickedLayerId = lastPickedInfo && lastPickedInfo.layer && lastPickedInfo.layer.id;\n      var lastPickedViewportId = lastPickedInfo && lastPickedInfo.viewport && lastPickedInfo.viewport.id;\n      var layer = lastPickedLayerId ? layers.find(function (l) {\n        return l.id === lastPickedLayerId;\n      }) : null;\n      var viewport = lastPickedViewportId && viewports.find(function (v) {\n        return v.id === lastPickedViewportId;\n      }) || viewports[0];\n      var coordinate = viewport && viewport.unproject([x - viewport.x, y - viewport.y]);\n      var info = {\n        x: x,\n        y: y,\n        viewport: viewport,\n        coordinate: coordinate,\n        layer: layer\n      };\n      return _objectSpread(_objectSpread({}, lastPickedInfo), info);\n    }\n  }, {\n    key: \"_resizeBuffer\",\n    value: function _resizeBuffer() {\n      var gl = this.gl;\n\n      if (!this.pickingFBO) {\n        this.pickingFBO = new Framebuffer(gl);\n\n        if (Framebuffer.isSupported(gl, {\n          colorBufferFloat: true\n        })) {\n          this.depthFBO = new Framebuffer(gl);\n          this.depthFBO.attach(_defineProperty({}, 36064, new Texture2D(gl, {\n            format: isWebGL2(gl) ? 34836 : 6408,\n            type: 5126\n          })));\n        }\n      }\n\n      this.pickingFBO.resize({\n        width: gl.canvas.width,\n        height: gl.canvas.height\n      });\n\n      if (this.depthFBO) {\n        this.depthFBO.resize({\n          width: gl.canvas.width,\n          height: gl.canvas.height\n        });\n      }\n\n      return this.pickingFBO;\n    }\n  }, {\n    key: \"_getPickable\",\n    value: function _getPickable(layers) {\n      if (this._pickable === false) {\n        return null;\n      }\n\n      var pickableLayers = layers.filter(function (layer) {\n        return layer.isPickable() && !layer.isComposite;\n      });\n      return pickableLayers.length ? pickableLayers : null;\n    }\n  }, {\n    key: \"_pickClosestObject\",\n    value: function _pickClosestObject(_ref2) {\n      var layers = _ref2.layers,\n          views = _ref2.views,\n          viewports = _ref2.viewports,\n          x = _ref2.x,\n          y = _ref2.y,\n          _ref2$radius = _ref2.radius,\n          radius = _ref2$radius === void 0 ? 0 : _ref2$radius,\n          _ref2$depth = _ref2.depth,\n          depth = _ref2$depth === void 0 ? 1 : _ref2$depth,\n          _ref2$mode = _ref2.mode,\n          mode = _ref2$mode === void 0 ? 'query' : _ref2$mode,\n          unproject3D = _ref2.unproject3D,\n          onViewportActive = _ref2.onViewportActive;\n      layers = this._getPickable(layers);\n\n      if (!layers) {\n        return {\n          result: [],\n          emptyInfo: getEmptyPickingInfo({\n            viewports: viewports,\n            x: x,\n            y: y\n          })\n        };\n      }\n\n      this._resizeBuffer();\n\n      var pixelRatio = cssToDeviceRatio(this.gl);\n      var devicePixelRange = cssToDevicePixels(this.gl, [x, y], true);\n      var devicePixel = [devicePixelRange.x + Math.floor(devicePixelRange.width / 2), devicePixelRange.y + Math.floor(devicePixelRange.height / 2)];\n      var deviceRadius = Math.round(radius * pixelRatio);\n      var _this$pickingFBO = this.pickingFBO,\n          width = _this$pickingFBO.width,\n          height = _this$pickingFBO.height;\n\n      var deviceRect = this._getPickingRect({\n        deviceX: devicePixel[0],\n        deviceY: devicePixel[1],\n        deviceRadius: deviceRadius,\n        deviceWidth: width,\n        deviceHeight: height\n      });\n\n      var infos;\n      var result = [];\n      var affectedLayers = new Set();\n\n      for (var i = 0; i < depth; i++) {\n        var pickedResult = deviceRect && this._drawAndSample({\n          layers: layers,\n          views: views,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          deviceRect: deviceRect,\n          pass: \"picking:\".concat(mode),\n          redrawReason: mode\n        });\n\n        var pickInfo = getClosestObject(_objectSpread(_objectSpread({}, pickedResult), {}, {\n          deviceX: devicePixel[0],\n          deviceY: devicePixel[1],\n          deviceRadius: deviceRadius,\n          deviceRect: deviceRect\n        }));\n        var z = void 0;\n\n        if (pickInfo.pickedLayer && unproject3D && this.depthFBO) {\n          var pickedResultPass2 = this._drawAndSample({\n            layers: [pickInfo.pickedLayer],\n            views: views,\n            viewports: viewports,\n            onViewportActive: onViewportActive,\n            deviceRect: {\n              x: pickInfo.pickedX,\n              y: pickInfo.pickedY,\n              width: 1,\n              height: 1\n            },\n            pass: \"picking:\".concat(mode),\n            redrawReason: 'pick-z',\n            pickZ: true\n          });\n\n          z = pickedResultPass2.pickedColors[0] * viewports[0].distanceScales.metersPerUnit[2] + viewports[0].position[2];\n        }\n\n        if (pickInfo.pickedLayer && i + 1 < depth) {\n          affectedLayers.add(pickInfo.pickedLayer);\n          pickInfo.pickedLayer.disablePickingIndex(pickInfo.pickedObjectIndex);\n        }\n\n        infos = processPickInfo({\n          pickInfo: pickInfo,\n          lastPickedInfo: this.lastPickedInfo,\n          mode: mode,\n          layers: layers,\n          viewports: viewports,\n          x: x,\n          y: y,\n          z: z,\n          pixelRatio: pixelRatio\n        });\n\n        var _iterator = _createForOfIteratorHelper(infos.values()),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var info = _step.value;\n\n            if (info.layer) {\n              result.push(info);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        if (!pickInfo.pickedColor) {\n          break;\n        }\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(affectedLayers),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var layer = _step2.value;\n          layer.restorePickingColors();\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        result: result,\n        emptyInfo: infos && infos.get(null)\n      };\n    }\n  }, {\n    key: \"_pickVisibleObjects\",\n    value: function _pickVisibleObjects(_ref3) {\n      var layers = _ref3.layers,\n          views = _ref3.views,\n          viewports = _ref3.viewports,\n          x = _ref3.x,\n          y = _ref3.y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height,\n          _ref3$mode = _ref3.mode,\n          mode = _ref3$mode === void 0 ? 'query' : _ref3$mode,\n          _ref3$maxObjects = _ref3.maxObjects,\n          maxObjects = _ref3$maxObjects === void 0 ? null : _ref3$maxObjects,\n          onViewportActive = _ref3.onViewportActive;\n      layers = this._getPickable(layers);\n\n      if (!layers) {\n        return [];\n      }\n\n      this._resizeBuffer();\n\n      var pixelRatio = cssToDeviceRatio(this.gl);\n      var leftTop = cssToDevicePixels(this.gl, [x, y], true);\n      var deviceLeft = leftTop.x;\n      var deviceTop = leftTop.y + leftTop.height;\n      var rightBottom = cssToDevicePixels(this.gl, [x + width, y + height], true);\n      var deviceRight = rightBottom.x + rightBottom.width;\n      var deviceBottom = rightBottom.y;\n      var deviceRect = {\n        x: deviceLeft,\n        y: deviceBottom,\n        width: deviceRight - deviceLeft,\n        height: deviceTop - deviceBottom\n      };\n\n      var pickedResult = this._drawAndSample({\n        layers: layers,\n        views: views,\n        viewports: viewports,\n        onViewportActive: onViewportActive,\n        deviceRect: deviceRect,\n        pass: \"picking:\".concat(mode),\n        redrawReason: mode\n      });\n\n      var pickInfos = getUniqueObjects(pickedResult);\n      var uniqueInfos = new Map();\n      var isMaxObjects = Number.isFinite(maxObjects);\n\n      for (var i = 0; i < pickInfos.length; i++) {\n        if (isMaxObjects && uniqueInfos.size >= maxObjects) {\n          break;\n        }\n\n        var pickInfo = pickInfos[i];\n        var info = {\n          color: pickInfo.pickedColor,\n          layer: null,\n          index: pickInfo.pickedObjectIndex,\n          picked: true,\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          pixelRatio: pixelRatio\n        };\n        info = getLayerPickingInfo({\n          layer: pickInfo.pickedLayer,\n          info: info,\n          mode: mode\n        });\n\n        if (!uniqueInfos.has(info.object)) {\n          uniqueInfos.set(info.object, info);\n        }\n      }\n\n      return Array.from(uniqueInfos.values());\n    }\n  }, {\n    key: \"_drawAndSample\",\n    value: function _drawAndSample(_ref4) {\n      var layers = _ref4.layers,\n          views = _ref4.views,\n          viewports = _ref4.viewports,\n          onViewportActive = _ref4.onViewportActive,\n          deviceRect = _ref4.deviceRect,\n          pass = _ref4.pass,\n          redrawReason = _ref4.redrawReason,\n          pickZ = _ref4.pickZ;\n      var pickingFBO = pickZ ? this.depthFBO : this.pickingFBO;\n\n      var _this$pickLayersPass$ = this.pickLayersPass.render({\n        layers: layers,\n        layerFilter: this.layerFilter,\n        views: views,\n        viewports: viewports,\n        onViewportActive: onViewportActive,\n        pickingFBO: pickingFBO,\n        deviceRect: deviceRect,\n        pass: pass,\n        redrawReason: redrawReason,\n        pickZ: pickZ\n      }),\n          decodePickingColor = _this$pickLayersPass$.decodePickingColor;\n\n      var x = deviceRect.x,\n          y = deviceRect.y,\n          width = deviceRect.width,\n          height = deviceRect.height;\n      var pickedColors = new (pickZ ? Float32Array : Uint8Array)(width * height * 4);\n      readPixelsToArray(pickingFBO, {\n        sourceX: x,\n        sourceY: y,\n        sourceWidth: width,\n        sourceHeight: height,\n        target: pickedColors\n      });\n      return {\n        pickedColors: pickedColors,\n        decodePickingColor: decodePickingColor\n      };\n    }\n  }, {\n    key: \"_getPickingRect\",\n    value: function _getPickingRect(_ref5) {\n      var deviceX = _ref5.deviceX,\n          deviceY = _ref5.deviceY,\n          deviceRadius = _ref5.deviceRadius,\n          deviceWidth = _ref5.deviceWidth,\n          deviceHeight = _ref5.deviceHeight;\n      var x = Math.max(0, deviceX - deviceRadius);\n      var y = Math.max(0, deviceY - deviceRadius);\n      var width = Math.min(deviceWidth, deviceX + deviceRadius + 1) - x;\n      var height = Math.min(deviceHeight, deviceY + deviceRadius + 1) - y;\n\n      if (width <= 0 || height <= 0) {\n        return null;\n      }\n\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }]);\n\n  return DeckPicker;\n}();\n\nexport { DeckPicker as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar defaultStyle = {\n  zIndex: 1,\n  position: 'absolute',\n  pointerEvents: 'none',\n  color: '#a0a7b4',\n  backgroundColor: '#29323c',\n  padding: '10px',\n  top: 0,\n  left: 0,\n  display: 'none'\n};\n\nvar Tooltip = /*#__PURE__*/function () {\n  function Tooltip(canvas) {\n    _classCallCheck(this, Tooltip);\n\n    var canvasParent = canvas.parentElement;\n\n    if (canvasParent) {\n      this.el = document.createElement('div');\n      this.el.className = 'deck-tooltip';\n      Object.assign(this.el.style, defaultStyle);\n      canvasParent.appendChild(this.el);\n    }\n\n    this.isVisible = false;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"setTooltip\",\n    value: function setTooltip(displayInfo, x, y) {\n      var el = this.el;\n\n      if (typeof displayInfo === 'string') {\n        el.innerText = displayInfo;\n      } else if (!displayInfo) {\n        this.isVisible = false;\n        el.style.display = 'none';\n        return;\n      } else {\n        if ('text' in displayInfo) {\n          el.innerText = displayInfo.text;\n        }\n\n        if ('html' in displayInfo) {\n          el.innerHTML = displayInfo.html;\n        }\n\n        if ('className' in displayInfo) {\n          el.className = displayInfo.className;\n        }\n\n        Object.assign(el.style, displayInfo.style);\n      }\n\n      this.isVisible = true;\n      el.style.display = 'block';\n      el.style.transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.el) {\n        this.el.remove();\n      }\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexport { Tooltip as default };","export function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}","var globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport var isBrowser = typeof process !== 'object' || String(process) !== '[object process]' || process.browser;\nexport var isWorker = typeof importScripts === 'function';\nvar matches = typeof process !== 'undefined' && process.version && /v([0-9]*)/.exec(process.version);\nexport var nodeVersion = matches && parseFloat(matches[1]) || 0;","import { global, isBrowser } from '../utils/globals';\nvar _parseImageNode = global._parseImageNode;\nvar IMAGE_SUPPORTED = typeof Image !== 'undefined';\nvar IMAGE_BITMAP_SUPPORTED = typeof ImageBitmap !== 'undefined';\nvar NODE_IMAGE_SUPPORTED = Boolean(_parseImageNode);\nvar DATA_SUPPORTED = isBrowser ? true : NODE_IMAGE_SUPPORTED;\nexport function isImageTypeSupported(type) {\n  switch (type) {\n    case 'auto':\n      return IMAGE_BITMAP_SUPPORTED || IMAGE_SUPPORTED || DATA_SUPPORTED;\n\n    case 'imagebitmap':\n      return IMAGE_BITMAP_SUPPORTED;\n\n    case 'image':\n      return IMAGE_SUPPORTED;\n\n    case 'data':\n      return DATA_SUPPORTED;\n\n    default:\n      throw new Error(\"@loaders.gl/images: image \".concat(type, \" not supported in this environment\"));\n  }\n}\nexport function getDefaultImageType() {\n  if (IMAGE_BITMAP_SUPPORTED) {\n    return 'imagebitmap';\n  }\n\n  if (IMAGE_SUPPORTED) {\n    return 'image';\n  }\n\n  if (DATA_SUPPORTED) {\n    return 'data';\n  }\n\n  throw new Error('Install \\'@loaders.gl/polyfills\\' to parse images under Node.js');\n}","export function isImage(image) {\n  return Boolean(getImageTypeOrNull(image));\n}\nexport function deleteImage(image) {\n  switch (getImageType(image)) {\n    case 'imagebitmap':\n      image.close();\n      break;\n\n    default:\n  }\n}\nexport function getImageType(image) {\n  var format = getImageTypeOrNull(image);\n\n  if (!format) {\n    throw new Error('Not an image');\n  }\n\n  return format;\n}\nexport function getImageSize(image) {\n  return getImageData(image);\n}\nexport function getImageData(image) {\n  switch (getImageType(image)) {\n    case 'data':\n      return image;\n\n    case 'image':\n    case 'imagebitmap':\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n\n      if (!context) {\n        throw new Error('getImageData');\n      }\n\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0);\n      return context.getImageData(0, 0, image.width, image.height);\n\n    default:\n      throw new Error('getImageData');\n  }\n}\n\nfunction getImageTypeOrNull(image) {\n  if (typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n    return 'imagebitmap';\n  }\n\n  if (typeof Image !== 'undefined' && image instanceof Image) {\n    return 'image';\n  }\n\n  if (image && typeof image === 'object' && image.data && image.width && image.height) {\n    return 'data';\n  }\n\n  return null;\n}","var SVG_DATA_URL_PATTERN = /^data:image\\/svg\\+xml/;\nvar SVG_URL_PATTERN = /\\.svg((\\?|#).*)?$/;\nexport function isSVG(url) {\n  return url && (SVG_DATA_URL_PATTERN.test(url) || SVG_URL_PATTERN.test(url));\n}\nexport function getBlobOrSVGDataUrl(arrayBuffer, url) {\n  if (isSVG(url)) {\n    var textDecoder = new TextDecoder();\n    var xmlText = textDecoder.decode(arrayBuffer);\n\n    try {\n      if (typeof unescape === 'function' && typeof encodeURIComponent === 'function') {\n        xmlText = unescape(encodeURIComponent(xmlText));\n      }\n    } catch (error) {\n      throw new Error(error.message);\n    }\n\n    var src = \"data:image/svg+xml;base64,\".concat(btoa(xmlText));\n    return src;\n  }\n\n  return getBlob(arrayBuffer, url);\n}\nexport function getBlob(arrayBuffer, url) {\n  if (isSVG(url)) {\n    throw new Error('SVG cannot be parsed directly to imagebitmap');\n  }\n\n  return new Blob([new Uint8Array(arrayBuffer)]);\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { getBlobOrSVGDataUrl } from './svg-utils';\nexport default function parseToImage(_x, _x2, _x3) {\n  return _parseToImage.apply(this, arguments);\n}\n\nfunction _parseToImage() {\n  _parseToImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arrayBuffer, options, url) {\n    var blobOrDataUrl, URL, objectUrl;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            blobOrDataUrl = getBlobOrSVGDataUrl(arrayBuffer, url);\n            URL = self.URL || self.webkitURL;\n            objectUrl = typeof blobOrDataUrl !== 'string' && URL.createObjectURL(blobOrDataUrl);\n            _context.prev = 3;\n            _context.next = 6;\n            return loadToImage(objectUrl || blobOrDataUrl, options);\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n            _context.prev = 7;\n\n            if (objectUrl) {\n              URL.revokeObjectURL(objectUrl);\n            }\n\n            return _context.finish(7);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3,, 7, 10]]);\n  }));\n  return _parseToImage.apply(this, arguments);\n}\n\nexport function loadToImage(_x4, _x5) {\n  return _loadToImage.apply(this, arguments);\n}\n\nfunction _loadToImage() {\n  _loadToImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url, options) {\n    var image;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            image = new Image();\n            image.src = url;\n\n            if (!(options.image && options.image.decode && image.decode)) {\n              _context2.next = 6;\n              break;\n            }\n\n            _context2.next = 5;\n            return image.decode();\n\n          case 5:\n            return _context2.abrupt(\"return\", image);\n\n          case 6:\n            _context2.next = 8;\n            return new Promise(function (resolve, reject) {\n              try {\n                image.onload = function () {\n                  return resolve(image);\n                };\n\n                image.onerror = function (err) {\n                  return reject(new Error(\"Could not load image \".concat(url, \": \").concat(err)));\n                };\n              } catch (error) {\n                reject(error);\n              }\n            });\n\n          case 8:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loadToImage.apply(this, arguments);\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { isSVG, getBlob } from './svg-utils';\nimport parseToImage from './parse-to-image';\nvar EMPTY_OBJECT = {};\nvar imagebitmapOptionsSupported = true;\nexport default function parseToImageBitmap(_x, _x2, _x3) {\n  return _parseToImageBitmap.apply(this, arguments);\n}\n\nfunction _parseToImageBitmap() {\n  _parseToImageBitmap = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arrayBuffer, options, url) {\n    var blob, image, imagebitmapOptions;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!isSVG(url)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return parseToImage(arrayBuffer, options, url);\n\n          case 3:\n            image = _context.sent;\n            blob = image;\n            _context.next = 8;\n            break;\n\n          case 7:\n            blob = getBlob(arrayBuffer, url);\n\n          case 8:\n            imagebitmapOptions = options && options.imagebitmap;\n            _context.next = 11;\n            return safeCreateImageBitmap(blob, imagebitmapOptions);\n\n          case 11:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseToImageBitmap.apply(this, arguments);\n}\n\nfunction safeCreateImageBitmap(_x4) {\n  return _safeCreateImageBitmap.apply(this, arguments);\n}\n\nfunction _safeCreateImageBitmap() {\n  _safeCreateImageBitmap = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(blob) {\n    var imagebitmapOptions,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            imagebitmapOptions = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n\n            if (isEmptyObject(imagebitmapOptions) || !imagebitmapOptionsSupported) {\n              imagebitmapOptions = null;\n            }\n\n            if (!imagebitmapOptions) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.prev = 3;\n            _context2.next = 6;\n            return createImageBitmap(blob, imagebitmapOptions);\n\n          case 6:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](3);\n            console.warn(_context2.t0);\n            imagebitmapOptionsSupported = false;\n\n          case 13:\n            _context2.next = 15;\n            return createImageBitmap(blob);\n\n          case 15:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[3, 9]]);\n  }));\n  return _safeCreateImageBitmap.apply(this, arguments);\n}\n\nfunction isEmptyObject(object) {\n  for (var key in object || EMPTY_OBJECT) {\n    return false;\n  }\n\n  return true;\n}","var BIG_ENDIAN = false;\nvar LITTLE_ENDIAN = true;\nexport function getBinaryImageMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  return getPngMetadata(dataView) || getJpegMetadata(dataView) || getGifMetadata(dataView) || getBmpMetadata(dataView);\n}\n\nfunction getPngMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isPng = dataView.byteLength >= 24 && dataView.getUint32(0, BIG_ENDIAN) === 0x89504e47;\n\n  if (!isPng) {\n    return null;\n  }\n\n  return {\n    mimeType: 'image/png',\n    width: dataView.getUint32(16, BIG_ENDIAN),\n    height: dataView.getUint32(20, BIG_ENDIAN)\n  };\n}\n\nfunction getGifMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isGif = dataView.byteLength >= 10 && dataView.getUint32(0, BIG_ENDIAN) === 0x47494638;\n\n  if (!isGif) {\n    return null;\n  }\n\n  return {\n    mimeType: 'image/gif',\n    width: dataView.getUint16(6, LITTLE_ENDIAN),\n    height: dataView.getUint16(8, LITTLE_ENDIAN)\n  };\n}\n\nexport function getBmpMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isBmp = dataView.byteLength >= 14 && dataView.getUint16(0, BIG_ENDIAN) === 0x424d && dataView.getUint32(2, LITTLE_ENDIAN) === dataView.byteLength;\n\n  if (!isBmp) {\n    return null;\n  }\n\n  return {\n    mimeType: 'image/bmp',\n    width: dataView.getUint32(18, LITTLE_ENDIAN),\n    height: dataView.getUint32(22, LITTLE_ENDIAN)\n  };\n}\n\nfunction getJpegMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isJpeg = dataView.byteLength >= 3 && dataView.getUint16(0, BIG_ENDIAN) === 0xffd8 && dataView.getUint8(2) === 0xff;\n\n  if (!isJpeg) {\n    return null;\n  }\n\n  var _getJpegMarkers = getJpegMarkers(),\n      tableMarkers = _getJpegMarkers.tableMarkers,\n      sofMarkers = _getJpegMarkers.sofMarkers;\n\n  var i = 2;\n\n  while (i + 9 < dataView.byteLength) {\n    var marker = dataView.getUint16(i, BIG_ENDIAN);\n\n    if (sofMarkers.has(marker)) {\n      return {\n        mimeType: 'image/jpeg',\n        height: dataView.getUint16(i + 5, BIG_ENDIAN),\n        width: dataView.getUint16(i + 7, BIG_ENDIAN)\n      };\n    }\n\n    if (!tableMarkers.has(marker)) {\n      return null;\n    }\n\n    i += 2;\n    i += dataView.getUint16(i, BIG_ENDIAN);\n  }\n\n  return null;\n}\n\nfunction getJpegMarkers() {\n  var tableMarkers = new Set([0xffdb, 0xffc4, 0xffcc, 0xffdd, 0xfffe]);\n\n  for (var i = 0xffe0; i < 0xfff0; ++i) {\n    tableMarkers.add(i);\n  }\n\n  var sofMarkers = new Set([0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc9, 0xffca, 0xffcb, 0xffcd, 0xffce, 0xffcf, 0xffde]);\n  return {\n    tableMarkers: tableMarkers,\n    sofMarkers: sofMarkers\n  };\n}\n\nfunction toDataView(data) {\n  if (data instanceof DataView) {\n    return data;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return new DataView(data.buffer);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return new DataView(data);\n  }\n\n  throw new Error('toDataView');\n}","import { global } from '../utils/globals';\nimport { assert } from '../utils/assert';\nimport { getBinaryImageMetadata } from '../category-api/binary-image-api';\nexport default function parseToNodeImage(arrayBuffer, options) {\n  var _ref = getBinaryImageMetadata(arrayBuffer) || {},\n      mimeType = _ref.mimeType;\n\n  var _parseImageNode = global._parseImageNode;\n  assert(_parseImageNode);\n  return _parseImageNode(arrayBuffer, mimeType, options);\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { assert } from '../utils/assert';\nimport { isImageTypeSupported, getDefaultImageType } from '../category-api/image-type';\nimport { getImageData } from '../category-api/parsed-image-api';\nimport parseToImage from './parse-to-image';\nimport parseToImageBitmap from './parse-to-image-bitmap';\nimport parseToNodeImage from './parse-to-node-image';\nexport default function parseImage(_x, _x2, _x3) {\n  return _parseImage.apply(this, arguments);\n}\n\nfunction _parseImage() {\n  _parseImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arrayBuffer, options, context) {\n    var imageOptions, imageType, _ref, url, loadType, image;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = options || {};\n            imageOptions = options.image || {};\n            imageType = imageOptions.type || 'auto';\n            _ref = context || {}, url = _ref.url;\n            loadType = getLoadableImageType(imageType);\n            _context.t0 = loadType;\n            _context.next = _context.t0 === 'imagebitmap' ? 8 : _context.t0 === 'image' ? 12 : _context.t0 === 'data' ? 16 : 20;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return parseToImageBitmap(arrayBuffer, options, url);\n\n          case 10:\n            image = _context.sent;\n            return _context.abrupt(\"break\", 21);\n\n          case 12:\n            _context.next = 14;\n            return parseToImage(arrayBuffer, options, url);\n\n          case 14:\n            image = _context.sent;\n            return _context.abrupt(\"break\", 21);\n\n          case 16:\n            _context.next = 18;\n            return parseToNodeImage(arrayBuffer, options);\n\n          case 18:\n            image = _context.sent;\n            return _context.abrupt(\"break\", 21);\n\n          case 20:\n            assert(false);\n\n          case 21:\n            if (imageType === 'data') {\n              image = getImageData(image);\n            }\n\n            return _context.abrupt(\"return\", image);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseImage.apply(this, arguments);\n}\n\nfunction getLoadableImageType(type) {\n  switch (type) {\n    case 'auto':\n    case 'data':\n      return getDefaultImageType();\n\n    default:\n      isImageTypeSupported(type);\n      return type;\n  }\n}","import { VERSION } from './lib/utils/version';\nimport parseImage from './lib/parsers/parse-image';\nimport { getBinaryImageMetadata } from './lib/category-api/binary-image-api';\nvar EXTENSIONS = ['png', 'jpg', 'jpeg', 'gif', 'webp', 'bmp', 'ico', 'svg'];\nvar MIME_TYPES = ['image/png', 'image/jpeg', 'image/gif', 'image/webp', 'image/bmp', 'image/vnd.microsoft.icon', 'image/svg+xml'];\nexport var ImageLoader = {\n  id: 'image',\n  module: 'images',\n  name: 'Images',\n  version: VERSION,\n  mimeTypes: MIME_TYPES,\n  extensions: EXTENSIONS,\n  parse: parseImage,\n  tests: [function (arrayBuffer) {\n    return Boolean(getBinaryImageMetadata(new DataView(arrayBuffer)));\n  }],\n  options: {\n    image: {\n      type: 'auto',\n      decode: true\n    }\n  }\n};\nexport var _typecheckImageLoader = ImageLoader;","export var VERSION = typeof \"3.0.13\" !== 'undefined' ? \"3.0.13\" : 'latest';","function isJSON(text) {\n  var firstChar = text[0];\n  var lastChar = text[text.length - 1];\n  return firstChar === '{' && lastChar === '}' || firstChar === '[' && lastChar === ']';\n}\n\nexport default {\n  name: 'JSON',\n  extensions: ['json', 'geojson'],\n  mimeTypes: ['application/json', 'application/geo+json'],\n  testText: isJSON,\n  parseTextSync: JSON.parse\n};","import { registerLoaders } from '@loaders.gl/core';\nimport { ImageLoader } from '@loaders.gl/images';\nimport { global } from 'probe.gl/env';\nimport log from '../utils/log';\nimport { register } from '../debug';\nimport jsonLoader from '../utils/json-loader';\nvar version = typeof \"8.6.4\" !== 'undefined' ? \"8.6.4\" : global.DECK_VERSION || 'untranspiled source';\nvar existingVersion = global.deck && global.deck.VERSION;\n\nif (existingVersion && existingVersion !== version) {\n  throw new Error(\"deck.gl - multiple versions detected: \".concat(existingVersion, \" vs \").concat(version));\n}\n\nif (!existingVersion) {\n  log.log(1, \"deck.gl \".concat(version))();\n  global.deck = Object.assign(global.deck || {}, {\n    VERSION: version,\n    version: version,\n    log: log,\n    _registerLoggers: register\n  });\n  registerLoaders([jsonLoader, [ImageLoader, {\n    imagebitmap: {\n      premultiplyAlpha: 'none'\n    }\n  }]]);\n}\n\nexport default global.deck;","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Resource from './resource';\nimport { FEATURES, hasFeatures } from '../features';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { assert } from '../utils/assert';\nvar GL_QUERY_RESULT = 0x8866;\nvar GL_QUERY_RESULT_AVAILABLE = 0x8867;\nvar GL_TIME_ELAPSED_EXT = 0x88bf;\nvar GL_GPU_DISJOINT_EXT = 0x8fbb;\nvar GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN = 0x8c88;\nvar GL_ANY_SAMPLES_PASSED = 0x8c2f;\nvar GL_ANY_SAMPLES_PASSED_CONSERVATIVE = 0x8d6a;\n\nvar Query = /*#__PURE__*/function (_Resource) {\n  _inherits(Query, _Resource);\n\n  var _super = _createSuper(Query);\n\n  function Query(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Query);\n\n    _this = _super.call(this, gl, opts);\n    _this.target = null;\n    _this._queryPending = false;\n    _this._pollingPromise = null;\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Query, [{\n    key: \"beginTimeElapsedQuery\",\n    value: function beginTimeElapsedQuery() {\n      return this.begin(GL_TIME_ELAPSED_EXT);\n    }\n  }, {\n    key: \"beginOcclusionQuery\",\n    value: function beginOcclusionQuery() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$conservative = _ref.conservative,\n          conservative = _ref$conservative === void 0 ? false : _ref$conservative;\n\n      return this.begin(conservative ? GL_ANY_SAMPLES_PASSED_CONSERVATIVE : GL_ANY_SAMPLES_PASSED);\n    }\n  }, {\n    key: \"beginTransformFeedbackQuery\",\n    value: function beginTransformFeedbackQuery() {\n      return this.begin(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN);\n    }\n  }, {\n    key: \"begin\",\n    value: function begin(target) {\n      if (this._queryPending) {\n        return this;\n      }\n\n      this.target = target;\n      this.gl2.beginQuery(this.target, this.handle);\n      return this;\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      if (this._queryPending) {\n        return this;\n      }\n\n      if (this.target) {\n        this.gl2.endQuery(this.target);\n        this.target = null;\n        this._queryPending = true;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"isResultAvailable\",\n    value: function isResultAvailable() {\n      if (!this._queryPending) {\n        return false;\n      }\n\n      var resultAvailable = this.gl2.getQueryParameter(this.handle, GL_QUERY_RESULT_AVAILABLE);\n\n      if (resultAvailable) {\n        this._queryPending = false;\n      }\n\n      return resultAvailable;\n    }\n  }, {\n    key: \"isTimerDisjoint\",\n    value: function isTimerDisjoint() {\n      return this.gl2.getParameter(GL_GPU_DISJOINT_EXT);\n    }\n  }, {\n    key: \"getResult\",\n    value: function getResult() {\n      return this.gl2.getQueryParameter(this.handle, GL_QUERY_RESULT);\n    }\n  }, {\n    key: \"getTimerMilliseconds\",\n    value: function getTimerMilliseconds() {\n      return this.getResult() / 1e6;\n    }\n  }, {\n    key: \"createPoll\",\n    value: function createPoll() {\n      var _this2 = this;\n\n      var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Number.POSITIVE_INFINITY;\n\n      if (this._pollingPromise) {\n        return this._pollingPromise;\n      }\n\n      var counter = 0;\n      this._pollingPromise = new Promise(function (resolve, reject) {\n        var poll = function poll() {\n          if (_this2.isResultAvailable()) {\n            resolve(_this2.getResult());\n            _this2._pollingPromise = null;\n          } else if (counter++ > limit) {\n            reject('Timed out');\n            _this2._pollingPromise = null;\n          } else {\n            requestAnimationFrame(poll);\n          }\n        };\n\n        requestAnimationFrame(poll);\n      });\n      return this._pollingPromise;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return Query.isSupported(this.gl) ? this.gl2.createQuery() : null;\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl2.deleteQuery(this.handle);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var webgl2 = isWebGL2(gl);\n      var hasTimerQuery = hasFeatures(gl, FEATURES.TIMER_QUERY);\n      var supported = webgl2 || hasTimerQuery;\n\n      var _iterator = _createForOfIteratorHelper(opts),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          switch (key) {\n            case 'queries':\n              supported = supported && webgl2;\n              break;\n\n            case 'timers':\n              supported = supported && hasTimerQuery;\n              break;\n\n            default:\n              assert(false);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return supported;\n    }\n  }]);\n\n  return Query;\n}(Resource);\n\nexport { Query as default };","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { isWebGL, createGLContext, instrumentGLContext, resizeGLContext, resetParameters } from '@luma.gl/gltools';\nimport { requestAnimationFrame, cancelAnimationFrame, Query, lumaStats, Framebuffer, log, assert } from '@luma.gl/webgl';\nimport { isBrowser } from 'probe.gl/env';\nvar isPage = isBrowser() && typeof document !== 'undefined';\nvar statIdCounter = 0;\n\nvar AnimationLoop = /*#__PURE__*/function () {\n  function AnimationLoop() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, AnimationLoop);\n\n    var _props$onCreateContex = props.onCreateContext,\n        onCreateContext = _props$onCreateContex === void 0 ? function (opts) {\n      return createGLContext(opts);\n    } : _props$onCreateContex,\n        _props$onAddHTML = props.onAddHTML,\n        onAddHTML = _props$onAddHTML === void 0 ? null : _props$onAddHTML,\n        _props$onInitialize = props.onInitialize,\n        onInitialize = _props$onInitialize === void 0 ? function () {} : _props$onInitialize,\n        _props$onRender = props.onRender,\n        onRender = _props$onRender === void 0 ? function () {} : _props$onRender,\n        _props$onFinalize = props.onFinalize,\n        onFinalize = _props$onFinalize === void 0 ? function () {} : _props$onFinalize,\n        onError = props.onError,\n        _props$gl = props.gl,\n        gl = _props$gl === void 0 ? null : _props$gl,\n        _props$glOptions = props.glOptions,\n        glOptions = _props$glOptions === void 0 ? {} : _props$glOptions,\n        _props$debug = props.debug,\n        debug = _props$debug === void 0 ? false : _props$debug,\n        _props$createFramebuf = props.createFramebuffer,\n        createFramebuffer = _props$createFramebuf === void 0 ? false : _props$createFramebuf,\n        _props$autoResizeView = props.autoResizeViewport,\n        autoResizeViewport = _props$autoResizeView === void 0 ? true : _props$autoResizeView,\n        _props$autoResizeDraw = props.autoResizeDrawingBuffer,\n        autoResizeDrawingBuffer = _props$autoResizeDraw === void 0 ? true : _props$autoResizeDraw,\n        _props$stats = props.stats,\n        stats = _props$stats === void 0 ? lumaStats.get(\"animation-loop-\".concat(statIdCounter++)) : _props$stats;\n    var _props$useDevicePixel = props.useDevicePixels,\n        useDevicePixels = _props$useDevicePixel === void 0 ? true : _props$useDevicePixel;\n\n    if ('useDevicePixelRatio' in props) {\n      log.deprecated('useDevicePixelRatio', 'useDevicePixels')();\n      useDevicePixels = props.useDevicePixelRatio;\n    }\n\n    this.props = {\n      onCreateContext: onCreateContext,\n      onAddHTML: onAddHTML,\n      onInitialize: onInitialize,\n      onRender: onRender,\n      onFinalize: onFinalize,\n      onError: onError,\n      gl: gl,\n      glOptions: glOptions,\n      debug: debug,\n      createFramebuffer: createFramebuffer\n    };\n    this.gl = gl;\n    this.needsRedraw = null;\n    this.timeline = null;\n    this.stats = stats;\n    this.cpuTime = this.stats.get('CPU Time');\n    this.gpuTime = this.stats.get('GPU Time');\n    this.frameRate = this.stats.get('Frame Rate');\n    this._initialized = false;\n    this._running = false;\n    this._animationFrameId = null;\n    this._nextFramePromise = null;\n    this._resolveNextFrame = null;\n    this._cpuStartTime = 0;\n    this.setProps({\n      autoResizeViewport: autoResizeViewport,\n      autoResizeDrawingBuffer: autoResizeDrawingBuffer,\n      useDevicePixels: useDevicePixels\n    });\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this._pageLoadPromise = null;\n    this._onMousemove = this._onMousemove.bind(this);\n    this._onMouseleave = this._onMouseleave.bind(this);\n  }\n\n  _createClass(AnimationLoop, [{\n    key: \"delete\",\n    value: function _delete() {\n      this.stop();\n\n      this._setDisplay(null);\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw(reason) {\n      assert(typeof reason === 'string');\n      this.needsRedraw = this.needsRedraw || reason;\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('autoResizeViewport' in props) {\n        this.autoResizeViewport = props.autoResizeViewport;\n      }\n\n      if ('autoResizeDrawingBuffer' in props) {\n        this.autoResizeDrawingBuffer = props.autoResizeDrawingBuffer;\n      }\n\n      if ('useDevicePixels' in props) {\n        this.useDevicePixels = props.useDevicePixels;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._running) {\n        return this;\n      }\n\n      this._running = true;\n\n      var startPromise = this._getPageLoadPromise().then(function () {\n        if (!_this._running || _this._initialized) {\n          return null;\n        }\n\n        _this._createWebGLContext(opts);\n\n        _this._createFramebuffer();\n\n        _this._startEventHandling();\n\n        _this._initializeCallbackData();\n\n        _this._updateCallbackData();\n\n        _this._resizeCanvasDrawingBuffer();\n\n        _this._resizeViewport();\n\n        _this._gpuTimeQuery = Query.isSupported(_this.gl, ['timers']) ? new Query(_this.gl) : null;\n        _this._initialized = true;\n        return _this.onInitialize(_this.animationProps);\n      }).then(function (appContext) {\n        if (_this._running) {\n          _this._addCallbackData(appContext || {});\n\n          if (appContext !== false) {\n            _this._startLoop();\n          }\n        }\n      });\n\n      if (this.props.onError) {\n        startPromise.catch(this.props.onError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      if (this.isContextLost()) {\n        return this;\n      }\n\n      this._beginTimers();\n\n      this._setupFrame();\n\n      this._updateCallbackData();\n\n      this._renderFrame(this.animationProps);\n\n      this._clearNeedsRedraw();\n\n      if (this.offScreen && this.gl.commit) {\n        this.gl.commit();\n      }\n\n      if (this._resolveNextFrame) {\n        this._resolveNextFrame(this);\n\n        this._nextFramePromise = null;\n        this._resolveNextFrame = null;\n      }\n\n      this._endTimers();\n\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this._running) {\n        this._finalizeCallbackData();\n\n        this._cancelAnimationFrame(this._animationFrameId);\n\n        this._nextFramePromise = null;\n        this._resolveNextFrame = null;\n        this._animationFrameId = null;\n        this._running = false;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"attachTimeline\",\n    value: function attachTimeline(timeline) {\n      this.timeline = timeline;\n      return this.timeline;\n    }\n  }, {\n    key: \"detachTimeline\",\n    value: function detachTimeline() {\n      this.timeline = null;\n    }\n  }, {\n    key: \"waitForRender\",\n    value: function waitForRender() {\n      var _this2 = this;\n\n      this.setNeedsRedraw('waitForRender');\n\n      if (!this._nextFramePromise) {\n        this._nextFramePromise = new Promise(function (resolve) {\n          _this2._resolveNextFrame = resolve;\n        });\n      }\n\n      return this._nextFramePromise;\n    }\n  }, {\n    key: \"toDataURL\",\n    value: function () {\n      var _toDataURL = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setNeedsRedraw('toDataURL');\n                _context.next = 3;\n                return this.waitForRender();\n\n              case 3:\n                return _context.abrupt(\"return\", this.gl.canvas.toDataURL());\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toDataURL() {\n        return _toDataURL.apply(this, arguments);\n      }\n\n      return toDataURL;\n    }()\n  }, {\n    key: \"isContextLost\",\n    value: function isContextLost() {\n      return this.gl.isContextLost();\n    }\n  }, {\n    key: \"onCreateContext\",\n    value: function onCreateContext() {\n      var _this$props;\n\n      return (_this$props = this.props).onCreateContext.apply(_this$props, arguments);\n    }\n  }, {\n    key: \"onInitialize\",\n    value: function onInitialize() {\n      var _this$props2;\n\n      return (_this$props2 = this.props).onInitialize.apply(_this$props2, arguments);\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender() {\n      var _this$props3;\n\n      return (_this$props3 = this.props).onRender.apply(_this$props3, arguments);\n    }\n  }, {\n    key: \"onFinalize\",\n    value: function onFinalize() {\n      var _this$props4;\n\n      return (_this$props4 = this.props).onFinalize.apply(_this$props4, arguments);\n    }\n  }, {\n    key: \"getHTMLControlValue\",\n    value: function getHTMLControlValue(id) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var element = document.getElementById(id);\n      return element ? Number(element.value) : defaultValue;\n    }\n  }, {\n    key: \"setViewParameters\",\n    value: function setViewParameters() {\n      log.removed('AnimationLoop.setViewParameters', 'AnimationLoop.setProps')();\n      return this;\n    }\n  }, {\n    key: \"_startLoop\",\n    value: function _startLoop() {\n      var _this3 = this;\n\n      var renderFrame = function renderFrame() {\n        if (!_this3._running) {\n          return;\n        }\n\n        _this3.redraw();\n\n        _this3._animationFrameId = _this3._requestAnimationFrame(renderFrame);\n      };\n\n      this._cancelAnimationFrame(this._animationFrameId);\n\n      this._animationFrameId = this._requestAnimationFrame(renderFrame);\n    }\n  }, {\n    key: \"_getPageLoadPromise\",\n    value: function _getPageLoadPromise() {\n      if (!this._pageLoadPromise) {\n        this._pageLoadPromise = isPage ? new Promise(function (resolve, reject) {\n          if (isPage && document.readyState === 'complete') {\n            resolve(document);\n            return;\n          }\n\n          window.addEventListener('load', function () {\n            resolve(document);\n          });\n        }) : Promise.resolve({});\n      }\n\n      return this._pageLoadPromise;\n    }\n  }, {\n    key: \"_setDisplay\",\n    value: function _setDisplay(display) {\n      if (this.display) {\n        this.display.delete();\n        this.display.animationLoop = null;\n      }\n\n      if (display) {\n        display.animationLoop = this;\n      }\n\n      this.display = display;\n    }\n  }, {\n    key: \"_cancelAnimationFrame\",\n    value: function _cancelAnimationFrame(animationFrameId) {\n      if (this.display && this.display.cancelAnimationFrame) {\n        return this.display.cancelAnimationFrame(animationFrameId);\n      }\n\n      return cancelAnimationFrame(animationFrameId);\n    }\n  }, {\n    key: \"_requestAnimationFrame\",\n    value: function _requestAnimationFrame(renderFrameCallback) {\n      if (this._running) {\n        if (this.display && this.display.requestAnimationFrame) {\n          return this.display.requestAnimationFrame(renderFrameCallback);\n        }\n\n        return requestAnimationFrame(renderFrameCallback);\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"_renderFrame\",\n    value: function _renderFrame() {\n      if (this.display) {\n        var _this$display;\n\n        (_this$display = this.display)._renderFrame.apply(_this$display, arguments);\n\n        return;\n      }\n\n      this.onRender.apply(this, arguments);\n    }\n  }, {\n    key: \"_clearNeedsRedraw\",\n    value: function _clearNeedsRedraw() {\n      this.needsRedraw = null;\n    }\n  }, {\n    key: \"_setupFrame\",\n    value: function _setupFrame() {\n      this._resizeCanvasDrawingBuffer();\n\n      this._resizeViewport();\n\n      this._resizeFramebuffer();\n    }\n  }, {\n    key: \"_initializeCallbackData\",\n    value: function _initializeCallbackData() {\n      this.animationProps = {\n        gl: this.gl,\n        stop: this.stop,\n        canvas: this.gl.canvas,\n        framebuffer: this.framebuffer,\n        useDevicePixels: this.useDevicePixels,\n        needsRedraw: null,\n        startTime: Date.now(),\n        engineTime: 0,\n        tick: 0,\n        tock: 0,\n        time: 0,\n        _timeline: this.timeline,\n        _loop: this,\n        _animationLoop: this,\n        _mousePosition: null\n      };\n    }\n  }, {\n    key: \"_updateCallbackData\",\n    value: function _updateCallbackData() {\n      var _this$_getSizeAndAspe = this._getSizeAndAspect(),\n          width = _this$_getSizeAndAspe.width,\n          height = _this$_getSizeAndAspe.height,\n          aspect = _this$_getSizeAndAspe.aspect;\n\n      if (width !== this.animationProps.width || height !== this.animationProps.height) {\n        this.setNeedsRedraw('drawing buffer resized');\n      }\n\n      if (aspect !== this.animationProps.aspect) {\n        this.setNeedsRedraw('drawing buffer aspect changed');\n      }\n\n      this.animationProps.width = width;\n      this.animationProps.height = height;\n      this.animationProps.aspect = aspect;\n      this.animationProps.needsRedraw = this.needsRedraw;\n      this.animationProps.engineTime = Date.now() - this.animationProps.startTime;\n\n      if (this.timeline) {\n        this.timeline.update(this.animationProps.engineTime);\n      }\n\n      this.animationProps.tick = Math.floor(this.animationProps.time / 1000 * 60);\n      this.animationProps.tock++;\n      this.animationProps.time = this.timeline ? this.timeline.getTime() : this.animationProps.engineTime;\n      this.animationProps._offScreen = this.offScreen;\n    }\n  }, {\n    key: \"_finalizeCallbackData\",\n    value: function _finalizeCallbackData() {\n      this.onFinalize(this.animationProps);\n    }\n  }, {\n    key: \"_addCallbackData\",\n    value: function _addCallbackData(appContext) {\n      if (typeof appContext === 'object' && appContext !== null) {\n        this.animationProps = Object.assign({}, this.animationProps, appContext);\n      }\n    }\n  }, {\n    key: \"_createWebGLContext\",\n    value: function _createWebGLContext(opts) {\n      this.offScreen = opts.canvas && typeof OffscreenCanvas !== 'undefined' && opts.canvas instanceof OffscreenCanvas;\n      opts = Object.assign({}, opts, this.props.glOptions);\n      this.gl = this.props.gl ? instrumentGLContext(this.props.gl, opts) : this.onCreateContext(opts);\n\n      if (!isWebGL(this.gl)) {\n        throw new Error('AnimationLoop.onCreateContext - illegal context returned');\n      }\n\n      resetParameters(this.gl);\n\n      this._createInfoDiv();\n    }\n  }, {\n    key: \"_createInfoDiv\",\n    value: function _createInfoDiv() {\n      if (this.gl.canvas && this.props.onAddHTML) {\n        var wrapperDiv = document.createElement('div');\n        document.body.appendChild(wrapperDiv);\n        wrapperDiv.style.position = 'relative';\n        var div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.left = '10px';\n        div.style.bottom = '10px';\n        div.style.width = '300px';\n        div.style.background = 'white';\n        wrapperDiv.appendChild(this.gl.canvas);\n        wrapperDiv.appendChild(div);\n        var html = this.props.onAddHTML(div);\n\n        if (html) {\n          div.innerHTML = html;\n        }\n      }\n    }\n  }, {\n    key: \"_getSizeAndAspect\",\n    value: function _getSizeAndAspect() {\n      var width = this.gl.drawingBufferWidth;\n      var height = this.gl.drawingBufferHeight;\n      var aspect = 1;\n      var canvas = this.gl.canvas;\n\n      if (canvas && canvas.clientHeight) {\n        aspect = canvas.clientWidth / canvas.clientHeight;\n      } else if (width > 0 && height > 0) {\n        aspect = width / height;\n      }\n\n      return {\n        width: width,\n        height: height,\n        aspect: aspect\n      };\n    }\n  }, {\n    key: \"_resizeViewport\",\n    value: function _resizeViewport() {\n      if (this.autoResizeViewport) {\n        this.gl.viewport(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight);\n      }\n    }\n  }, {\n    key: \"_resizeCanvasDrawingBuffer\",\n    value: function _resizeCanvasDrawingBuffer() {\n      if (this.autoResizeDrawingBuffer) {\n        resizeGLContext(this.gl, {\n          useDevicePixels: this.useDevicePixels\n        });\n      }\n    }\n  }, {\n    key: \"_createFramebuffer\",\n    value: function _createFramebuffer() {\n      if (this.props.createFramebuffer) {\n        this.framebuffer = new Framebuffer(this.gl);\n      }\n    }\n  }, {\n    key: \"_resizeFramebuffer\",\n    value: function _resizeFramebuffer() {\n      if (this.framebuffer) {\n        this.framebuffer.resize({\n          width: this.gl.drawingBufferWidth,\n          height: this.gl.drawingBufferHeight\n        });\n      }\n    }\n  }, {\n    key: \"_beginTimers\",\n    value: function _beginTimers() {\n      this.frameRate.timeEnd();\n      this.frameRate.timeStart();\n\n      if (this._gpuTimeQuery && this._gpuTimeQuery.isResultAvailable() && !this._gpuTimeQuery.isTimerDisjoint()) {\n        this.stats.get('GPU Time').addTime(this._gpuTimeQuery.getTimerMilliseconds());\n      }\n\n      if (this._gpuTimeQuery) {\n        this._gpuTimeQuery.beginTimeElapsedQuery();\n      }\n\n      this.cpuTime.timeStart();\n    }\n  }, {\n    key: \"_endTimers\",\n    value: function _endTimers() {\n      this.cpuTime.timeEnd();\n\n      if (this._gpuTimeQuery) {\n        this._gpuTimeQuery.end();\n      }\n    }\n  }, {\n    key: \"_startEventHandling\",\n    value: function _startEventHandling() {\n      var canvas = this.gl.canvas;\n\n      if (canvas) {\n        canvas.addEventListener('mousemove', this._onMousemove);\n        canvas.addEventListener('mouseleave', this._onMouseleave);\n      }\n    }\n  }, {\n    key: \"_onMousemove\",\n    value: function _onMousemove(e) {\n      this.animationProps._mousePosition = [e.offsetX, e.offsetY];\n    }\n  }, {\n    key: \"_onMouseleave\",\n    value: function _onMouseleave(e) {\n      this.animationProps._mousePosition = null;\n    }\n  }]);\n\n  return AnimationLoop;\n}();\n\nexport { AnimationLoop as default };","var INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\nfunction some(array, predict) {\n  for (var i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function enhancePointerEventInput(PointerEventInput) {\n  var oldHandler = PointerEventInput.prototype.handler;\n\n  PointerEventInput.prototype.handler = function handler(ev) {\n    var store = this.store;\n\n    if (ev.button > 0 && ev.type === 'pointerdown') {\n      if (!some(store, function (e) {\n        return e.pointerId === ev.pointerId;\n      })) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    var eventType = MOUSE_INPUT_MAP[ev.type];\n\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}","export function requestAnimationFrame(callback) {\n  return typeof window !== 'undefined' && window.requestAnimationFrame ? window.requestAnimationFrame(callback) : setTimeout(callback, 1000 / 60);\n}\nexport function cancelAnimationFrame(timerId) {\n  return typeof window !== 'undefined' && window.cancelAnimationFrame ? window.cancelAnimationFrame(timerId) : clearTimeout(timerId);\n}","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport var Manager = hammerjs.Manager;\nexport default hammerjs;","import Hammer from './utils/hammer';\nexport var RECOGNIZERS = Hammer ? [[Hammer.Pan, {\n  event: 'tripan',\n  pointers: 3,\n  threshold: 0,\n  enable: false\n}], [Hammer.Rotate, {\n  enable: false\n}], [Hammer.Pinch, {\n  enable: false\n}], [Hammer.Swipe, {\n  enable: false\n}], [Hammer.Pan, {\n  threshold: 0,\n  enable: false\n}], [Hammer.Press, {\n  enable: false\n}], [Hammer.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [Hammer.Tap, {\n  event: 'anytap',\n  enable: false\n}], [Hammer.Tap, {\n  enable: false\n}]] : null;\nexport var RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nexport var RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nexport var BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nexport var INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel']\n};\nexport var EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nexport var GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};","export var userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\nexport { passiveSupported };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nvar firefox = userAgent.indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\nvar SHIFT_MULTIPLIER = 0.25;\n\nvar WheelInput = /*#__PURE__*/function () {\n  function WheelInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, WheelInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, passiveSupported ? {\n        passive: false\n      } : false);\n    });\n  }\n\n  _createClass(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      var value = event.deltaY;\n\n      if (window.WheelEvent) {\n        if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n          value /= window.devicePixelRatio;\n        }\n\n        if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n\n      var wheelPosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n\n      this._onWheel(event, -value, wheelPosition);\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(srcEvent, delta, position) {\n      this.callback({\n        type: EVENT_TYPE,\n        center: position,\n        delta: delta,\n        srcEvent: srcEvent,\n        pointerType: 'mouse',\n        target: srcEvent.target\n      });\n    }\n  }]);\n\n  return WheelInput;\n}();\n\nexport { WheelInput as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar MOUSE_EVENTS = INPUT_EVENT_TYPES.MOUSE_EVENTS;\nvar MOVE_EVENT_TYPE = 'pointermove';\nvar OVER_EVENT_TYPE = 'pointerover';\nvar OUT_EVENT_TYPE = 'pointerout';\nvar LEAVE_EVENT_TYPE = 'pointerleave';\n\nvar MoveInput = /*#__PURE__*/function () {\n  function MoveInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, MoveInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(MoveInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === MOVE_EVENT_TYPE) {\n        this.enableMoveEvent = enabled;\n      }\n\n      if (eventType === OVER_EVENT_TYPE) {\n        this.enableOverEvent = enabled;\n      }\n\n      if (eventType === OUT_EVENT_TYPE) {\n        this.enableOutEvent = enabled;\n      }\n\n      if (eventType === LEAVE_EVENT_TYPE) {\n        this.enableLeaveEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.handleOverEvent(event);\n      this.handleOutEvent(event);\n      this.handleLeaveEvent(event);\n      this.handleMoveEvent(event);\n    }\n  }, {\n    key: \"handleOverEvent\",\n    value: function handleOverEvent(event) {\n      if (this.enableOverEvent) {\n        if (event.type === 'mouseover') {\n          this.callback({\n            type: OVER_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleOutEvent\",\n    value: function handleOutEvent(event) {\n      if (this.enableOutEvent) {\n        if (event.type === 'mouseout') {\n          this.callback({\n            type: OUT_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleLeaveEvent\",\n    value: function handleLeaveEvent(event) {\n      if (this.enableLeaveEvent) {\n        if (event.type === 'mouseleave') {\n          this.callback({\n            type: LEAVE_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleMoveEvent\",\n    value: function handleMoveEvent(event) {\n      if (this.enableMoveEvent) {\n        switch (event.type) {\n          case 'mousedown':\n            if (event.button >= 0) {\n              this.pressed = true;\n            }\n\n            break;\n\n          case 'mousemove':\n            if (event.which === 0) {\n              this.pressed = false;\n            }\n\n            if (!this.pressed) {\n              this.callback({\n                type: MOVE_EVENT_TYPE,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n              });\n            }\n\n            break;\n\n          case 'mouseup':\n            this.pressed = false;\n            break;\n\n          default:\n        }\n      }\n    }\n  }]);\n\n  return MoveInput;\n}();\n\nexport { MoveInput as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\n\nvar KeyInput = /*#__PURE__*/function () {\n  function KeyInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, KeyInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var targetElement = event.target || event.srcElement;\n\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (this.enableDownEvent && event.type === 'keydown') {\n        this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n\n      if (this.enableUpEvent && event.type === 'keyup') {\n        this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    }\n  }]);\n\n  return KeyInput;\n}();\n\nexport { KeyInput as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar EVENT_TYPE = 'contextmenu';\n\nvar ContextmenuInput = /*#__PURE__*/function () {\n  function ContextmenuInput(element, callback) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, ContextmenuInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  _createClass(ContextmenuInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      this.callback({\n        type: EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    }\n  }]);\n\n  return ContextmenuInput;\n}();\n\nexport { ContextmenuInput as default };","var DOWN_EVENT = 1;\nvar MOVE_EVENT = 2;\nvar UP_EVENT = 4;\nvar MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nvar MOUSE_EVENT_WHICH_LEFT = 1;\nvar MOUSE_EVENT_WHICH_MIDDLE = 2;\nvar MOUSE_EVENT_WHICH_RIGHT = 3;\nvar MOUSE_EVENT_BUTTON_LEFT = 0;\nvar MOUSE_EVENT_BUTTON_MIDDLE = 1;\nvar MOUSE_EVENT_BUTTON_RIGHT = 2;\nvar MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nvar MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nvar MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nexport function whichButtons(event) {\n  var eventType = MOUSE_EVENTS[event.srcEvent.type];\n\n  if (!eventType) {\n    return null;\n  }\n\n  var _event$srcEvent = event.srcEvent,\n      buttons = _event$srcEvent.buttons,\n      button = _event$srcEvent.button,\n      which = _event$srcEvent.which;\n  var leftButton = false;\n  var middleButton = false;\n  var rightButton = false;\n\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {\n    leftButton: leftButton,\n    middleButton: middleButton,\n    rightButton: rightButton\n  };\n}\nexport function getOffsetPosition(event, rootElement) {\n  var srcEvent = event.srcEvent;\n\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n\n  var center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  var rect = rootElement.getBoundingClientRect();\n  var scaleX = rect.width / rootElement.offsetWidth || 1;\n  var scaleY = rect.height / rootElement.offsetHeight || 1;\n  var offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center: center,\n    offsetCenter: offsetCenter\n  };\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { whichButtons, getOffsetPosition } from './event-utils';\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nvar EventRegistrar = /*#__PURE__*/function () {\n  function EventRegistrar(eventManager) {\n    _classCallCheck(this, EventRegistrar);\n\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  _createClass(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      if (opts && (typeof opts !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n\n      if (once) {\n        entry.once = true;\n      }\n\n      if (passive) {\n        entry.passive = true;\n      }\n\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n\n        insertPosition--;\n      }\n\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n\n          if (entries.length === 0) {\n            handlersByElement.delete(entry.srcElement);\n          }\n        }\n      }\n\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n\n      var mjolnirEvent = this._normalizeEvent(event);\n\n      var target = event.srcEvent.target;\n\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n\n        if (mjolnirEvent.handled) {\n          return;\n        }\n\n        target = target.parentNode;\n      }\n\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n\n      if (entries) {\n        var immediatePropagationStopped = false;\n\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n\n        var entriesToRemove = [];\n\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n              type = _entries$i.type,\n              handler = _entries$i.handler,\n              once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n              _type = _entriesToRemove$_i.type,\n              _handler = _entriesToRemove$_i.handler;\n          this.remove(_type, _handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n\n  return EventRegistrar;\n}();\n\nexport { EventRegistrar as default };","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nvar DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\n\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, EventManager);\n\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  _createClass(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n\n      if (this.element) {\n        this.destroy();\n      }\n\n      this.element = element;\n\n      if (!element) {\n        return;\n      }\n\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n\n      if (!options.recognizers) {\n        Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n\n          if (recognizer) {\n            RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n\n      this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new MoveInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new KeyInput(element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n        enable: false\n      });\n\n      var _iterator = _createForOfIteratorHelper(this.events),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              eventAlias = _step$value[0],\n              eventRegistrar = _step$value[1];\n\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n\n      if (!manager) {\n        return;\n      }\n\n      var recognizer = manager.get(name);\n\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n\n        return;\n      }\n\n      var manager = this.manager,\n          events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        eventRegistrar = new EventRegistrar(this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n\n      eventRegistrar.add(event, handler, opts, once, passive);\n\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n\n        return;\n      }\n\n      var events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        return;\n      }\n\n      eventRegistrar.remove(event, handler);\n\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n\n        var _iterator2 = _createForOfIteratorHelper(events.values()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var eh = _step2.value;\n\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = BASIC_EVENT_ALIASES[srcEvent.type];\n\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport { EventManager as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport LayerManager from './layer-manager';\nimport ViewManager from './view-manager';\nimport MapView from '../views/map-view';\nimport EffectManager from './effect-manager';\nimport Effect from './effect';\nimport DeckRenderer from './deck-renderer';\nimport DeckPicker from './deck-picker';\nimport Tooltip from './tooltip';\nimport log from '../utils/log';\nimport { deepEqual } from '../utils/deep-equal';\nimport typedArrayManager from '../utils/typed-array-manager';\nimport deckGlobal from './init';\nimport { getBrowser } from 'probe.gl/env';\nimport { AnimationLoop, createGLContext, instrumentGLContext, setParameters, Timeline, lumaStats } from '@luma.gl/core';\nimport { Stats } from 'probe.gl';\nimport { EventManager } from 'mjolnir.js';\nimport assert from '../utils/assert';\nimport { EVENTS } from './constants';\n\nfunction noop() {}\n\nvar getCursor = function getCursor(_ref) {\n  var isDragging = _ref.isDragging;\n  return isDragging ? 'grabbing' : 'grab';\n};\n\nfunction getPropTypes(PropTypes) {\n  return {\n    id: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    layers: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    layerFilter: PropTypes.func,\n    views: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    viewState: PropTypes.object,\n    effects: PropTypes.arrayOf(PropTypes.instanceOf(Effect)),\n    controller: PropTypes.oneOfType([PropTypes.func, PropTypes.bool, PropTypes.object]),\n    gl: PropTypes.object,\n    glOptions: PropTypes.object,\n    parameters: PropTypes.object,\n    pickingRadius: PropTypes.number,\n    useDevicePixels: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n    touchAction: PropTypes.string,\n    eventRecognizerOptions: PropTypes.object,\n    onWebGLInitialized: PropTypes.func,\n    onResize: PropTypes.func,\n    onViewStateChange: PropTypes.func,\n    onInteractionStateChange: PropTypes.func,\n    onBeforeRender: PropTypes.func,\n    onAfterRender: PropTypes.func,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func,\n    debug: PropTypes.bool,\n    drawPickingColors: PropTypes.bool,\n    _framebuffer: PropTypes.object,\n    _animate: PropTypes.bool,\n    _pickable: PropTypes.bool,\n    _typedArrayManagerProps: PropTypes.object\n  };\n}\n\nvar defaultProps = {\n  id: '',\n  width: '100%',\n  height: '100%',\n  pickingRadius: 0,\n  layerFilter: null,\n  glOptions: {},\n  gl: null,\n  layers: [],\n  effects: [],\n  views: null,\n  controller: null,\n  useDevicePixels: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  _framebuffer: null,\n  _animate: false,\n  _pickable: true,\n  _typedArrayManagerProps: {},\n  onWebGLInitialized: noop,\n  onResize: noop,\n  onViewStateChange: noop,\n  onInteractionStateChange: noop,\n  onBeforeRender: noop,\n  onAfterRender: noop,\n  onLoad: noop,\n  onError: function onError(error, layer) {\n    return log.error(error)();\n  },\n  _onMetrics: null,\n  getCursor: getCursor,\n  debug: false,\n  drawPickingColors: false\n};\n\nvar Deck = /*#__PURE__*/function () {\n  function Deck(props) {\n    _classCallCheck(this, Deck);\n\n    props = _objectSpread(_objectSpread({}, defaultProps), props);\n    this.props = {};\n    this.width = 0;\n    this.height = 0;\n    this.viewManager = null;\n    this.layerManager = null;\n    this.effectManager = null;\n    this.deckRenderer = null;\n    this.deckPicker = null;\n    this._needsRedraw = true;\n    this._pickRequest = {};\n    this._lastPointerDownInfo = null;\n    this.viewState = null;\n    this.interactiveState = {\n      isHovering: false,\n      isDragging: false\n    };\n    this._onEvent = this._onEvent.bind(this);\n    this._onPointerDown = this._onPointerDown.bind(this);\n    this._onPointerMove = this._onPointerMove.bind(this);\n\n    if (props.viewState && props.initialViewState) {\n      log.warn('View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.')();\n    }\n\n    if (getBrowser() === 'IE') {\n      log.warn('IE 11 support will be deprecated in v8.0')();\n    }\n\n    if (!props.gl) {\n      if (typeof document !== 'undefined') {\n        this.canvas = this._createCanvas(props);\n      }\n    }\n\n    this.animationLoop = this._createAnimationLoop(props);\n    this.stats = new Stats({\n      id: 'deck.gl'\n    });\n    this.metrics = {\n      fps: 0,\n      setPropsTime: 0,\n      updateAttributesTime: 0,\n      framesRedrawn: 0,\n      pickTime: 0,\n      pickCount: 0,\n      gpuTime: 0,\n      gpuTimePerFrame: 0,\n      cpuTime: 0,\n      cpuTimePerFrame: 0,\n      bufferMemory: 0,\n      textureMemory: 0,\n      renderbufferMemory: 0,\n      gpuMemory: 0\n    };\n    this._metricsCounter = 0;\n    this.setProps(props);\n\n    if (props._typedArrayManagerProps) {\n      typedArrayManager.setProps(props._typedArrayManagerProps);\n    }\n\n    this.animationLoop.start();\n  }\n\n  _createClass(Deck, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.animationLoop.stop();\n      this.animationLoop = null;\n      this._lastPointerDownInfo = null;\n\n      if (this.layerManager) {\n        this.layerManager.finalize();\n        this.layerManager = null;\n        this.viewManager.finalize();\n        this.viewManager = null;\n        this.effectManager.finalize();\n        this.effectManager = null;\n        this.deckRenderer.finalize();\n        this.deckRenderer = null;\n        this.deckPicker.finalize();\n        this.deckPicker = null;\n        this.eventManager.destroy();\n        this.eventManager = null;\n        this.tooltip.remove();\n        this.tooltip = null;\n      }\n\n      if (!this.props.canvas && !this.props.gl && this.canvas) {\n        this.canvas.parentElement.removeChild(this.canvas);\n        this.canvas = null;\n      }\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this.stats.get('setProps Time').timeStart();\n\n      if ('onLayerHover' in props) {\n        log.removed('onLayerHover', 'onHover')();\n      }\n\n      if ('onLayerClick' in props) {\n        log.removed('onLayerClick', 'onClick')();\n      }\n\n      if (props.initialViewState && !deepEqual(this.props.initialViewState, props.initialViewState)) {\n        this.viewState = props.initialViewState;\n      }\n\n      Object.assign(this.props, props);\n\n      this._setCanvasSize(this.props);\n\n      var resolvedProps = Object.create(this.props);\n      Object.assign(resolvedProps, {\n        views: this._getViews(),\n        width: this.width,\n        height: this.height,\n        viewState: this._getViewState()\n      });\n      this.animationLoop.setProps(resolvedProps);\n\n      if (this.layerManager) {\n        this.viewManager.setProps(resolvedProps);\n        this.layerManager.activateViewport(this.getViewports()[0]);\n        this.layerManager.setProps(resolvedProps);\n        this.effectManager.setProps(resolvedProps);\n        this.deckRenderer.setProps(resolvedProps);\n        this.deckPicker.setProps(resolvedProps);\n      }\n\n      this.stats.get('setProps Time').timeEnd();\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n\n      if (this.props._animate) {\n        return 'Deck._animate';\n      }\n\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      var viewManagerNeedsRedraw = this.viewManager.needsRedraw(opts);\n      var layerManagerNeedsRedraw = this.layerManager.needsRedraw(opts);\n      var effectManagerNeedsRedraw = this.effectManager.needsRedraw(opts);\n      var deckRendererNeedsRedraw = this.deckRenderer.needsRedraw(opts);\n      redraw = redraw || viewManagerNeedsRedraw || layerManagerNeedsRedraw || effectManagerNeedsRedraw || deckRendererNeedsRedraw;\n      return redraw;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw(force) {\n      if (!this.layerManager) {\n        return;\n      }\n\n      var redrawReason = force || this.needsRedraw({\n        clearRedrawFlags: true\n      });\n\n      if (!redrawReason) {\n        return;\n      }\n\n      this.stats.get('Redraw Count').incrementCount();\n\n      if (this.props._customRender) {\n        this.props._customRender(redrawReason);\n      } else {\n        this._drawLayers(redrawReason);\n      }\n    }\n  }, {\n    key: \"getViews\",\n    value: function getViews() {\n      return this.viewManager.views;\n    }\n  }, {\n    key: \"getViewports\",\n    value: function getViewports(rect) {\n      return this.viewManager.getViewports(rect);\n    }\n  }, {\n    key: \"pickObject\",\n    value: function pickObject(opts) {\n      var infos = this._pick('pickObject', 'pickObject Time', opts).result;\n\n      return infos.length ? infos[0] : null;\n    }\n  }, {\n    key: \"pickMultipleObjects\",\n    value: function pickMultipleObjects(opts) {\n      opts.depth = opts.depth || 10;\n      return this._pick('pickObject', 'pickMultipleObjects Time', opts).result;\n    }\n  }, {\n    key: \"pickObjects\",\n    value: function pickObjects(opts) {\n      return this._pick('pickObjects', 'pickObjects Time', opts);\n    }\n  }, {\n    key: \"_addResources\",\n    value: function _addResources(resources) {\n      var forceUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      for (var id in resources) {\n        this.layerManager.resourceManager.add({\n          resourceId: id,\n          data: resources[id],\n          forceUpdate: forceUpdate\n        });\n      }\n    }\n  }, {\n    key: \"_removeResources\",\n    value: function _removeResources(resourceIds) {\n      var _iterator = _createForOfIteratorHelper(resourceIds),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var id = _step.value;\n          this.layerManager.resourceManager.remove(id);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"_pick\",\n    value: function _pick(method, statKey, opts) {\n      var stats = this.stats;\n      stats.get('Pick Count').incrementCount();\n      stats.get(statKey).timeStart();\n      var infos = this.deckPicker[method](_objectSpread({\n        layers: this.layerManager.getLayers(opts),\n        views: this.viewManager.getViews(),\n        viewports: this.getViewports(opts),\n        onViewportActive: this.layerManager.activateViewport\n      }, opts));\n      stats.get(statKey).timeEnd();\n      return infos;\n    }\n  }, {\n    key: \"_createCanvas\",\n    value: function _createCanvas(props) {\n      var canvas = props.canvas;\n\n      if (typeof canvas === 'string') {\n        canvas = document.getElementById(canvas);\n        assert(canvas);\n      }\n\n      if (!canvas) {\n        canvas = document.createElement('canvas');\n        canvas.id = props.id || 'deckgl-overlay';\n        var parent = props.parent || document.body;\n        parent.appendChild(canvas);\n      }\n\n      Object.assign(canvas.style, props.style);\n      return canvas;\n    }\n  }, {\n    key: \"_setCanvasSize\",\n    value: function _setCanvasSize(props) {\n      if (!this.canvas) {\n        return;\n      }\n\n      var width = props.width,\n          height = props.height;\n\n      if (width || width === 0) {\n        width = Number.isFinite(width) ? \"\".concat(width, \"px\") : width;\n        this.canvas.style.width = width;\n      }\n\n      if (height || height === 0) {\n        height = Number.isFinite(height) ? \"\".concat(height, \"px\") : height;\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.height = height;\n      }\n    }\n  }, {\n    key: \"_updateCanvasSize\",\n    value: function _updateCanvasSize() {\n      if (this._checkForCanvasSizeChange()) {\n        var width = this.width,\n            height = this.height;\n        this.viewManager.setProps({\n          width: width,\n          height: height\n        });\n        this.props.onResize({\n          width: this.width,\n          height: this.height\n        });\n      }\n    }\n  }, {\n    key: \"_checkForCanvasSizeChange\",\n    value: function _checkForCanvasSizeChange() {\n      var canvas = this.canvas;\n\n      if (!canvas) {\n        return false;\n      }\n\n      var newWidth = canvas.clientWidth || canvas.width;\n      var newHeight = canvas.clientHeight || canvas.height;\n\n      if (newWidth !== this.width || newHeight !== this.height) {\n        this.width = newWidth;\n        this.height = newHeight;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_createAnimationLoop\",\n    value: function _createAnimationLoop(props) {\n      var _this = this;\n\n      var width = props.width,\n          height = props.height,\n          gl = props.gl,\n          glOptions = props.glOptions,\n          debug = props.debug,\n          onError = props.onError,\n          onBeforeRender = props.onBeforeRender,\n          onAfterRender = props.onAfterRender,\n          useDevicePixels = props.useDevicePixels,\n          autoResizeDrawingBuffer = props.autoResizeDrawingBuffer;\n      return new AnimationLoop({\n        width: width,\n        height: height,\n        useDevicePixels: useDevicePixels,\n        autoResizeDrawingBuffer: autoResizeDrawingBuffer,\n        autoResizeViewport: false,\n        gl: gl,\n        onCreateContext: function onCreateContext(opts) {\n          return createGLContext(_objectSpread(_objectSpread(_objectSpread({}, glOptions), opts), {}, {\n            canvas: _this.canvas,\n            debug: debug,\n            onContextLost: function onContextLost() {\n              return _this._onContextLost();\n            }\n          }));\n        },\n        onInitialize: function onInitialize(context) {\n          return _this._setGLContext(context.gl);\n        },\n        onRender: this._onRenderFrame.bind(this),\n        onBeforeRender: onBeforeRender,\n        onAfterRender: onAfterRender,\n        onError: onError\n      });\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState() {\n      return this.props.viewState || this.viewState;\n    }\n  }, {\n    key: \"_getViews\",\n    value: function _getViews() {\n      var views = this.props.views || [new MapView({\n        id: 'default-view'\n      })];\n      views = Array.isArray(views) ? views : [views];\n\n      if (views.length && this.props.controller) {\n        views[0].props.controller = this.props.controller;\n      }\n\n      return views;\n    }\n  }, {\n    key: \"_onContextLost\",\n    value: function _onContextLost() {\n      var onError = this.props.onError;\n\n      if (this.animationLoop && onError) {\n        onError(new Error(\"WebGL context is lost\"));\n      }\n    }\n  }, {\n    key: \"_onPointerMove\",\n    value: function _onPointerMove(event) {\n      var _pickRequest = this._pickRequest;\n\n      if (event.type === 'pointerleave') {\n        _pickRequest.x = -1;\n        _pickRequest.y = -1;\n        _pickRequest.radius = 0;\n      } else if (event.leftButton || event.rightButton) {\n        return;\n      } else {\n        var pos = event.offsetCenter;\n\n        if (!pos) {\n          return;\n        }\n\n        _pickRequest.x = pos.x;\n        _pickRequest.y = pos.y;\n        _pickRequest.radius = this.props.pickingRadius;\n      }\n\n      if (this.layerManager) {\n        this.layerManager.context.mousePosition = {\n          x: _pickRequest.x,\n          y: _pickRequest.y\n        };\n      }\n\n      _pickRequest.event = event;\n      _pickRequest.mode = 'hover';\n    }\n  }, {\n    key: \"_pickAndCallback\",\n    value: function _pickAndCallback() {\n      var _pickRequest = this._pickRequest;\n\n      if (_pickRequest.event) {\n        var _this$_pick = this._pick('pickObject', 'pickObject Time', _pickRequest),\n            result = _this$_pick.result,\n            emptyInfo = _this$_pick.emptyInfo;\n\n        this.interactiveState.isHovering = result.length > 0;\n        var pickedInfo = emptyInfo;\n        var handled = false;\n\n        var _iterator2 = _createForOfIteratorHelper(result),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var info = _step2.value;\n            pickedInfo = info;\n            handled = info.layer.onHover(info, _pickRequest.event);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        if (!handled && this.props.onHover) {\n          this.props.onHover(pickedInfo, _pickRequest.event);\n        }\n\n        if (this.props.getTooltip) {\n          var displayInfo = this.props.getTooltip(pickedInfo);\n          this.tooltip.setTooltip(displayInfo, pickedInfo.x, pickedInfo.y);\n        }\n\n        _pickRequest.event = null;\n      }\n    }\n  }, {\n    key: \"_updateCursor\",\n    value: function _updateCursor() {\n      var container = this.props.parent || this.canvas;\n\n      if (container) {\n        container.style.cursor = this.props.getCursor(this.interactiveState);\n      }\n    }\n  }, {\n    key: \"_setGLContext\",\n    value: function _setGLContext(gl) {\n      if (this.layerManager) {\n        return;\n      }\n\n      if (!this.canvas) {\n        this.canvas = gl.canvas;\n        instrumentGLContext(gl, {\n          enable: true,\n          copyState: true\n        });\n      }\n\n      this.tooltip = new Tooltip(this.canvas);\n      setParameters(gl, {\n        blend: true,\n        blendFunc: [770, 771, 1, 771],\n        polygonOffsetFill: true,\n        depthTest: true,\n        depthFunc: 515\n      });\n      this.props.onWebGLInitialized(gl);\n      var timeline = new Timeline();\n      timeline.play();\n      this.animationLoop.attachTimeline(timeline);\n      this.eventManager = new EventManager(this.props.parent || gl.canvas, {\n        touchAction: this.props.touchAction,\n        recognizerOptions: this.props.eventRecognizerOptions,\n        events: {\n          pointerdown: this._onPointerDown,\n          pointermove: this._onPointerMove,\n          pointerleave: this._onPointerMove\n        }\n      });\n\n      for (var eventType in EVENTS) {\n        this.eventManager.on(eventType, this._onEvent);\n      }\n\n      this.viewManager = new ViewManager({\n        timeline: timeline,\n        eventManager: this.eventManager,\n        onViewStateChange: this._onViewStateChange.bind(this),\n        onInteractionStateChange: this._onInteractionStateChange.bind(this),\n        views: this._getViews(),\n        viewState: this._getViewState(),\n        width: this.width,\n        height: this.height\n      });\n      var viewport = this.viewManager.getViewports()[0];\n      this.layerManager = new LayerManager(gl, {\n        deck: this,\n        stats: this.stats,\n        viewport: viewport,\n        timeline: timeline\n      });\n      this.effectManager = new EffectManager();\n      this.deckRenderer = new DeckRenderer(gl);\n      this.deckPicker = new DeckPicker(gl);\n      this.setProps(this.props);\n\n      this._updateCanvasSize();\n\n      this.props.onLoad();\n    }\n  }, {\n    key: \"_drawLayers\",\n    value: function _drawLayers(redrawReason, renderOptions) {\n      var gl = this.layerManager.context.gl;\n      setParameters(gl, this.props.parameters);\n      this.props.onBeforeRender({\n        gl: gl\n      });\n      this.deckRenderer.renderLayers(_objectSpread({\n        target: this.props._framebuffer,\n        layers: this.layerManager.getLayers(),\n        viewports: this.viewManager.getViewports(),\n        onViewportActive: this.layerManager.activateViewport,\n        views: this.viewManager.getViews(),\n        pass: 'screen',\n        redrawReason: redrawReason,\n        effects: this.effectManager.getEffects()\n      }, renderOptions));\n      this.props.onAfterRender({\n        gl: gl\n      });\n    }\n  }, {\n    key: \"_onRenderFrame\",\n    value: function _onRenderFrame(animationProps) {\n      this._getFrameStats();\n\n      if (this._metricsCounter++ % 60 === 0) {\n        this._getMetrics();\n\n        this.stats.reset();\n        log.table(4, this.metrics)();\n\n        if (this.props._onMetrics) {\n          this.props._onMetrics(this.metrics);\n        }\n      }\n\n      this._updateCanvasSize();\n\n      this._updateCursor();\n\n      if (this.tooltip.isVisible && this.viewManager.needsRedraw()) {\n        this.tooltip.setTooltip(null);\n      }\n\n      this.layerManager.updateLayers();\n\n      this._pickAndCallback();\n\n      this.redraw(false);\n\n      if (this.viewManager) {\n        this.viewManager.updateViewStates();\n      }\n    }\n  }, {\n    key: \"_onViewStateChange\",\n    value: function _onViewStateChange(params) {\n      var viewState = this.props.onViewStateChange(params) || params.viewState;\n\n      if (this.viewState) {\n        this.viewState = _objectSpread(_objectSpread({}, this.viewState), {}, _defineProperty({}, params.viewId, viewState));\n\n        if (!this.props.viewState) {\n          if (this.viewManager) {\n            this.viewManager.setProps({\n              viewState: this.viewState\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_onInteractionStateChange\",\n    value: function _onInteractionStateChange(interactionState) {\n      this.interactiveState.isDragging = interactionState.isDragging;\n      this.props.onInteractionStateChange(interactionState);\n    }\n  }, {\n    key: \"_onEvent\",\n    value: function _onEvent(event) {\n      var eventOptions = EVENTS[event.type];\n      var pos = event.offsetCenter;\n\n      if (!eventOptions || !pos) {\n        return;\n      }\n\n      var layers = this.layerManager.getLayers();\n      var info = this.deckPicker.getLastPickedObject({\n        x: pos.x,\n        y: pos.y,\n        layers: layers,\n        viewports: this.getViewports(pos)\n      }, this._lastPointerDownInfo);\n      var layer = info.layer;\n      var layerHandler = layer && (layer[eventOptions.handler] || layer.props[eventOptions.handler]);\n      var rootHandler = this.props[eventOptions.handler];\n      var handled = false;\n\n      if (layerHandler) {\n        handled = layerHandler.call(layer, info, event);\n      }\n\n      if (!handled && rootHandler) {\n        rootHandler(info, event);\n      }\n    }\n  }, {\n    key: \"_onPointerDown\",\n    value: function _onPointerDown(event) {\n      var pos = event.offsetCenter;\n\n      var pickedInfo = this._pick('pickObject', 'pickObject Time', {\n        x: pos.x,\n        y: pos.y,\n        radius: this.props.pickingRadius\n      });\n\n      this._lastPointerDownInfo = pickedInfo.result[0] || pickedInfo.emptyInfo;\n    }\n  }, {\n    key: \"_getFrameStats\",\n    value: function _getFrameStats() {\n      var stats = this.stats;\n      stats.get('frameRate').timeEnd();\n      stats.get('frameRate').timeStart();\n      var animationLoopStats = this.animationLoop.stats;\n      stats.get('GPU Time').addTime(animationLoopStats.get('GPU Time').lastTiming);\n      stats.get('CPU Time').addTime(animationLoopStats.get('CPU Time').lastTiming);\n    }\n  }, {\n    key: \"_getMetrics\",\n    value: function _getMetrics() {\n      var metrics = this.metrics,\n          stats = this.stats;\n      metrics.fps = stats.get('frameRate').getHz();\n      metrics.setPropsTime = stats.get('setProps Time').time;\n      metrics.updateAttributesTime = stats.get('Update Attributes').time;\n      metrics.framesRedrawn = stats.get('Redraw Count').count;\n      metrics.pickTime = stats.get('pickObject Time').time + stats.get('pickMultipleObjects Time').time + stats.get('pickObjects Time').time;\n      metrics.pickCount = stats.get('Pick Count').count;\n      metrics.gpuTime = stats.get('GPU Time').time;\n      metrics.cpuTime = stats.get('CPU Time').time;\n      metrics.gpuTimePerFrame = stats.get('GPU Time').getAverageTime();\n      metrics.cpuTimePerFrame = stats.get('CPU Time').getAverageTime();\n      var memoryStats = lumaStats.get('Memory Usage');\n      metrics.bufferMemory = memoryStats.get('Buffer Memory').count;\n      metrics.textureMemory = memoryStats.get('Texture Memory').count;\n      metrics.renderbufferMemory = memoryStats.get('Renderbuffer Memory').count;\n      metrics.gpuMemory = memoryStats.get('GPU Memory').count;\n    }\n  }]);\n\n  return Deck;\n}();\n\nexport { Deck as default };\nDeck.getPropTypes = getPropTypes;\nDeck.defaultProps = defaultProps;\nDeck.VERSION = deckGlobal.VERSION;","import { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","export function inheritsFrom(Type, ParentType) {\n  while (Type) {\n    if (Type === ParentType) {\n      return true;\n    }\n\n    Type = Object.getPrototypeOf(Type);\n  }\n\n  return false;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar ShaderAttribute = /*#__PURE__*/function () {\n  function ShaderAttribute(dataColumn, opts) {\n    _classCallCheck(this, ShaderAttribute);\n\n    this.opts = opts;\n    this.source = dataColumn;\n  }\n\n  _createClass(ShaderAttribute, [{\n    key: \"value\",\n    get: function get() {\n      return this.source.value;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var buffer = this.source.getBuffer();\n      var accessor = this.getAccessor();\n\n      if (buffer) {\n        return [buffer, accessor];\n      }\n\n      var value = this.source.value;\n      var size = accessor.size;\n      var constantValue = value;\n\n      if (value && value.length !== size) {\n        constantValue = new Float32Array(size);\n        var index = accessor.elementOffset || 0;\n\n        for (var i = 0; i < size; ++i) {\n          constantValue[i] = value[index + i];\n        }\n      }\n\n      return constantValue;\n    }\n  }, {\n    key: \"getAccessor\",\n    value: function getAccessor() {\n      return _objectSpread(_objectSpread({}, this.source.getAccessor()), this.opts);\n    }\n  }]);\n\n  return ShaderAttribute;\n}();\n\nexport { ShaderAttribute as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { hasFeature, FEATURES, Buffer } from '@luma.gl/core';\nimport ShaderAttribute from './shader-attribute';\nimport { glArrayFromType } from './gl-utils';\nimport typedArrayManager from '../../utils/typed-array-manager';\nimport { toDoublePrecisionArray } from '../../utils/math-utils';\nimport log from '../../utils/log';\n\nfunction getStride(accessor) {\n  return accessor.stride || accessor.size * accessor.bytesPerElement;\n}\n\nfunction resolveShaderAttribute(baseAccessor, shaderAttributeOptions) {\n  if (shaderAttributeOptions.offset) {\n    log.removed('shaderAttribute.offset', 'vertexOffset, elementOffset')();\n  }\n\n  var stride = getStride(baseAccessor);\n  var vertexOffset = 'vertexOffset' in shaderAttributeOptions ? shaderAttributeOptions.vertexOffset : baseAccessor.vertexOffset || 0;\n  var elementOffset = shaderAttributeOptions.elementOffset || 0;\n  var offset = vertexOffset * stride + elementOffset * baseAccessor.bytesPerElement + (baseAccessor.offset || 0);\n  return _objectSpread(_objectSpread({}, shaderAttributeOptions), {}, {\n    offset: offset,\n    stride: stride\n  });\n}\n\nfunction resolveDoublePrecisionShaderAttributes(baseAccessor, shaderAttributeOptions) {\n  var resolvedOptions = resolveShaderAttribute(baseAccessor, shaderAttributeOptions);\n  return {\n    high: resolvedOptions,\n    low: _objectSpread(_objectSpread({}, resolvedOptions), {}, {\n      offset: resolvedOptions.offset + baseAccessor.size * 4\n    })\n  };\n}\n\nvar DataColumn = /*#__PURE__*/function () {\n  function DataColumn(gl, opts) {\n    _classCallCheck(this, DataColumn);\n\n    this.gl = gl;\n    this.id = opts.id;\n    this.size = opts.size;\n    var logicalType = opts.logicalType || opts.type;\n    var doublePrecision = logicalType === 5130;\n    var defaultValue = opts.defaultValue;\n    defaultValue = Number.isFinite(defaultValue) ? [defaultValue] : defaultValue || new Array(this.size).fill(0);\n    opts.defaultValue = defaultValue;\n    var bufferType = logicalType;\n\n    if (doublePrecision) {\n      bufferType = 5126;\n    } else if (!bufferType && opts.isIndexed) {\n      bufferType = gl && hasFeature(gl, FEATURES.ELEMENT_INDEX_UINT32) ? 5125 : 5123;\n    } else if (!bufferType) {\n      bufferType = 5126;\n    }\n\n    opts.logicalType = logicalType;\n    opts.type = bufferType;\n    var defaultType = glArrayFromType(logicalType || bufferType || 5126);\n    this.shaderAttributes = {};\n    this.doublePrecision = doublePrecision;\n\n    if (doublePrecision && opts.fp64 === false) {\n      defaultType = Float32Array;\n    }\n\n    opts.bytesPerElement = defaultType.BYTES_PER_ELEMENT;\n    this.defaultType = defaultType;\n    this.value = null;\n    this.settings = opts;\n    this.state = {\n      externalBuffer: null,\n      bufferAccessor: opts,\n      allocatedValue: null,\n      constant: false\n    };\n    this._buffer = null;\n    this.setData(opts);\n  }\n\n  _createClass(DataColumn, [{\n    key: \"buffer\",\n    get: function get() {\n      if (!this._buffer) {\n        var _this$settings = this.settings,\n            isIndexed = _this$settings.isIndexed,\n            type = _this$settings.type;\n        this._buffer = new Buffer(this.gl, {\n          id: this.id,\n          target: isIndexed ? 34963 : 34962,\n          accessor: {\n            type: type\n          }\n        });\n      }\n\n      return this._buffer;\n    }\n  }, {\n    key: \"byteOffset\",\n    get: function get() {\n      var accessor = this.getAccessor();\n\n      if (accessor.vertexOffset) {\n        return accessor.vertexOffset * getStride(accessor);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this._buffer) {\n        this._buffer.delete();\n\n        this._buffer = null;\n      }\n\n      typedArrayManager.release(this.state.allocatedValue);\n    }\n  }, {\n    key: \"getShaderAttributes\",\n    value: function getShaderAttributes(id, options) {\n      if (this.doublePrecision) {\n        var shaderAttributes = {};\n        var isBuffer64Bit = this.value instanceof Float64Array;\n        var doubleShaderAttributeDefs = resolveDoublePrecisionShaderAttributes(this.getAccessor(), options || {});\n        shaderAttributes[id] = new ShaderAttribute(this, doubleShaderAttributeDefs.high);\n        shaderAttributes[\"\".concat(id, \"64Low\")] = isBuffer64Bit ? new ShaderAttribute(this, doubleShaderAttributeDefs.low) : new Float32Array(this.size);\n        return shaderAttributes;\n      }\n\n      if (options) {\n        var shaderAttributeDef = resolveShaderAttribute(this.getAccessor(), options);\n        return _defineProperty({}, id, new ShaderAttribute(this, shaderAttributeDef));\n      }\n\n      return _defineProperty({}, id, this);\n    }\n  }, {\n    key: \"getBuffer\",\n    value: function getBuffer() {\n      if (this.state.constant) {\n        return null;\n      }\n\n      return this.state.externalBuffer || this._buffer;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (this.state.constant) {\n        return this.value;\n      }\n\n      return [this.getBuffer(), this.getAccessor()];\n    }\n  }, {\n    key: \"getAccessor\",\n    value: function getAccessor() {\n      return this.state.bufferAccessor;\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(opts) {\n      var state = this.state;\n\n      if (ArrayBuffer.isView(opts)) {\n        opts = {\n          value: opts\n        };\n      } else if (opts instanceof Buffer) {\n        opts = {\n          buffer: opts\n        };\n      }\n\n      var accessor = _objectSpread(_objectSpread({}, this.settings), opts);\n\n      state.bufferAccessor = accessor;\n\n      if (opts.constant) {\n        var value = opts.value;\n        value = this._normalizeValue(value, [], 0);\n\n        if (this.settings.normalized) {\n          value = this._normalizeConstant(value);\n        }\n\n        var hasChanged = !state.constant || !this._areValuesEqual(value, this.value);\n\n        if (!hasChanged) {\n          return false;\n        }\n\n        state.externalBuffer = null;\n        state.constant = true;\n        this.value = value;\n      } else if (opts.buffer) {\n        var buffer = opts.buffer;\n        state.externalBuffer = buffer;\n        state.constant = false;\n        this.value = opts.value;\n        var isBuffer64Bit = opts.value instanceof Float64Array;\n        accessor.type = opts.type || buffer.accessor.type;\n        accessor.bytesPerElement = buffer.accessor.BYTES_PER_ELEMENT * (isBuffer64Bit ? 2 : 1);\n        accessor.stride = getStride(accessor);\n      } else if (opts.value) {\n        this._checkExternalBuffer(opts);\n\n        var _value = opts.value;\n        state.externalBuffer = null;\n        state.constant = false;\n        this.value = _value;\n        accessor.bytesPerElement = _value.BYTES_PER_ELEMENT;\n        accessor.stride = getStride(accessor);\n        var _buffer = this.buffer,\n            byteOffset = this.byteOffset;\n\n        if (this.doublePrecision && _value instanceof Float64Array) {\n          _value = toDoublePrecisionArray(_value, accessor);\n        }\n\n        var requiredBufferSize = _value.byteLength + byteOffset + accessor.stride * 2;\n\n        if (_buffer.byteLength < requiredBufferSize) {\n          _buffer.reallocate(requiredBufferSize);\n        }\n\n        _buffer.setAccessor(null);\n\n        _buffer.subData({\n          data: _value,\n          offset: byteOffset\n        });\n\n        accessor.type = opts.type || _buffer.accessor.type;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"updateSubBuffer\",\n    value: function updateSubBuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var value = this.value;\n      var _opts$startOffset = opts.startOffset,\n          startOffset = _opts$startOffset === void 0 ? 0 : _opts$startOffset,\n          endOffset = opts.endOffset;\n      this.buffer.subData({\n        data: this.doublePrecision && value instanceof Float64Array ? toDoublePrecisionArray(value, {\n          size: this.size,\n          startIndex: startOffset,\n          endIndex: endOffset\n        }) : value.subarray(startOffset, endOffset),\n        offset: startOffset * value.BYTES_PER_ELEMENT + this.byteOffset\n      });\n    }\n  }, {\n    key: \"allocate\",\n    value: function allocate(_ref3) {\n      var numInstances = _ref3.numInstances,\n          _ref3$copy = _ref3.copy,\n          copy = _ref3$copy === void 0 ? false : _ref3$copy;\n      var state = this.state;\n      var oldValue = state.allocatedValue;\n      var value = typedArrayManager.allocate(oldValue, numInstances + 1, {\n        size: this.size,\n        type: this.defaultType,\n        copy: copy\n      });\n      this.value = value;\n      var buffer = this.buffer,\n          byteOffset = this.byteOffset;\n\n      if (buffer.byteLength < value.byteLength + byteOffset) {\n        buffer.reallocate(value.byteLength + byteOffset);\n\n        if (copy && oldValue) {\n          buffer.subData({\n            data: oldValue instanceof Float64Array ? toDoublePrecisionArray(oldValue, this) : oldValue,\n            offset: byteOffset\n          });\n        }\n      }\n\n      state.allocatedValue = value;\n      state.constant = false;\n      state.externalBuffer = null;\n      state.bufferAccessor = this.settings;\n      return true;\n    }\n  }, {\n    key: \"_checkExternalBuffer\",\n    value: function _checkExternalBuffer(opts) {\n      var value = opts.value;\n\n      if (!opts.constant && value) {\n        var ArrayType = this.defaultType;\n        var illegalArrayType = false;\n\n        if (this.doublePrecision) {\n          illegalArrayType = value.BYTES_PER_ELEMENT < 4;\n        }\n\n        if (illegalArrayType) {\n          throw new Error(\"Attribute \".concat(this.id, \" does not support \").concat(value.constructor.name));\n        }\n\n        if (!(value instanceof ArrayType) && this.settings.normalized && !('normalized' in opts)) {\n          log.warn(\"Attribute \".concat(this.id, \" is normalized\"))();\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeConstant\",\n    value: function _normalizeConstant(value) {\n      switch (this.settings.type) {\n        case 5120:\n          return new Float32Array(value).map(function (x) {\n            return (x + 128) / 255 * 2 - 1;\n          });\n\n        case 5122:\n          return new Float32Array(value).map(function (x) {\n            return (x + 32768) / 65535 * 2 - 1;\n          });\n\n        case 5121:\n          return new Float32Array(value).map(function (x) {\n            return x / 255;\n          });\n\n        case 5123:\n          return new Float32Array(value).map(function (x) {\n            return x / 65535;\n          });\n\n        default:\n          return value;\n      }\n    }\n  }, {\n    key: \"_normalizeValue\",\n    value: function _normalizeValue(value, out, start) {\n      var _this$settings2 = this.settings,\n          defaultValue = _this$settings2.defaultValue,\n          size = _this$settings2.size;\n\n      if (Number.isFinite(value)) {\n        out[start] = value;\n        return out;\n      }\n\n      if (!value) {\n        out[start] = defaultValue[0];\n        return out;\n      }\n\n      switch (size) {\n        case 4:\n          out[start + 3] = Number.isFinite(value[3]) ? value[3] : defaultValue[3];\n\n        case 3:\n          out[start + 2] = Number.isFinite(value[2]) ? value[2] : defaultValue[2];\n\n        case 2:\n          out[start + 1] = Number.isFinite(value[1]) ? value[1] : defaultValue[1];\n\n        case 1:\n          out[start + 0] = Number.isFinite(value[0]) ? value[0] : defaultValue[0];\n          break;\n\n        default:\n          var i = size;\n\n          while (--i >= 0) {\n            out[start + i] = Number.isFinite(value[i]) ? value[i] : defaultValue[i];\n          }\n\n      }\n\n      return out;\n    }\n  }, {\n    key: \"_areValuesEqual\",\n    value: function _areValuesEqual(value1, value2) {\n      if (!value1 || !value2) {\n        return false;\n      }\n\n      var size = this.size;\n\n      for (var i = 0; i < size; i++) {\n        if (value1[i] !== value2[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }]);\n\n  return DataColumn;\n}();\n\nexport { DataColumn as default };","export function glArrayFromType(glType) {\n  switch (glType) {\n    case 5126:\n      return Float32Array;\n\n    case 5130:\n      return Float64Array;\n\n    case 5123:\n    case 33635:\n    case 32819:\n    case 32820:\n      return Uint16Array;\n\n    case 5125:\n      return Uint32Array;\n\n    case 5121:\n      return Uint8ClampedArray;\n\n    case 5120:\n      return Int8Array;\n\n    case 5122:\n      return Int16Array;\n\n    case 5124:\n      return Int32Array;\n\n    default:\n      throw new Error('Unknown GL type');\n  }\n}","var EMPTY_ARRAY = [];\nvar placeholderArray = [];\nexport function createIterable(data) {\n  var startRow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var endRow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n  var iterable = EMPTY_ARRAY;\n  var objectInfo = {\n    index: -1,\n    data: data,\n    target: []\n  };\n\n  if (!data) {\n    iterable = EMPTY_ARRAY;\n  } else if (typeof data[Symbol.iterator] === 'function') {\n    iterable = data;\n  } else if (data.length > 0) {\n    placeholderArray.length = data.length;\n    iterable = placeholderArray;\n  }\n\n  if (startRow > 0 || Number.isFinite(endRow)) {\n    iterable = (Array.isArray(iterable) ? iterable : Array.from(iterable)).slice(startRow, endRow);\n    objectInfo.index = startRow - 1;\n  }\n\n  return {\n    iterable: iterable,\n    objectInfo: objectInfo\n  };\n}\nexport function isAsyncIterable(data) {\n  return data && data[Symbol.asyncIterator];\n}\nexport function getAccessorFromBuffer(typedArray, _ref) {\n  var size = _ref.size,\n      stride = _ref.stride,\n      offset = _ref.offset,\n      startIndices = _ref.startIndices,\n      nested = _ref.nested;\n  var bytesPerElement = typedArray.BYTES_PER_ELEMENT;\n  var elementStride = stride ? stride / bytesPerElement : size;\n  var elementOffset = offset ? offset / bytesPerElement : 0;\n  var vertexCount = Math.floor((typedArray.length - elementOffset) / elementStride);\n  return function (_, _ref2) {\n    var index = _ref2.index,\n        target = _ref2.target;\n\n    if (!startIndices) {\n      var sourceIndex = index * elementStride + elementOffset;\n\n      for (var j = 0; j < size; j++) {\n        target[j] = typedArray[sourceIndex + j];\n      }\n\n      return target;\n    }\n\n    var startIndex = startIndices[index];\n    var endIndex = startIndices[index + 1] || vertexCount;\n    var result;\n\n    if (nested) {\n      result = new Array(endIndex - startIndex);\n\n      for (var i = startIndex; i < endIndex; i++) {\n        var _sourceIndex = i * elementStride + elementOffset;\n\n        target = new Array(size);\n\n        for (var _j = 0; _j < size; _j++) {\n          target[_j] = typedArray[_sourceIndex + _j];\n        }\n\n        result[i - startIndex] = target;\n      }\n    } else if (elementStride === size) {\n      result = typedArray.subarray(startIndex * size + elementOffset, endIndex * size + elementOffset);\n    } else {\n      result = new typedArray.constructor((endIndex - startIndex) * size);\n      var targetIndex = 0;\n\n      for (var _i = startIndex; _i < endIndex; _i++) {\n        var _sourceIndex2 = _i * elementStride + elementOffset;\n\n        for (var _j2 = 0; _j2 < size; _j2++) {\n          result[targetIndex++] = typedArray[_sourceIndex2 + _j2];\n        }\n      }\n    }\n\n    return result;\n  };\n}","export var EMPTY = [];\nexport var FULL = [[0, Infinity]];\nexport function add(rangeList, range) {\n  if (rangeList === FULL) {\n    return rangeList;\n  }\n\n  if (range[0] < 0) {\n    range[0] = 0;\n  }\n\n  if (range[0] >= range[1]) {\n    return rangeList;\n  }\n\n  var newRangeList = [];\n  var len = rangeList.length;\n  var insertPosition = 0;\n\n  for (var i = 0; i < len; i++) {\n    var range0 = rangeList[i];\n\n    if (range0[1] < range[0]) {\n      newRangeList.push(range0);\n      insertPosition = i + 1;\n    } else if (range0[0] > range[1]) {\n      newRangeList.push(range0);\n    } else {\n      range = [Math.min(range0[0], range[0]), Math.max(range0[1], range[1])];\n    }\n  }\n\n  newRangeList.splice(insertPosition, 0, range);\n  return newRangeList;\n}","function padArrayChunk(_ref) {\n  var source = _ref.source,\n      target = _ref.target,\n      _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      end = _ref.end,\n      size = _ref.size,\n      getData = _ref.getData;\n  end = end || target.length;\n  var sourceLength = source.length;\n  var targetLength = end - start;\n\n  if (sourceLength > targetLength) {\n    target.set(source.subarray(0, targetLength), start);\n    return;\n  }\n\n  target.set(source, start);\n\n  if (!getData) {\n    return;\n  }\n\n  var i = sourceLength;\n\n  while (i < targetLength) {\n    var datum = getData(i, source);\n\n    for (var j = 0; j < size; j++) {\n      target[start + i] = datum[j] || 0;\n      i++;\n    }\n  }\n}\n\nexport function padArray(_ref2) {\n  var source = _ref2.source,\n      target = _ref2.target,\n      size = _ref2.size,\n      getData = _ref2.getData,\n      sourceStartIndices = _ref2.sourceStartIndices,\n      targetStartIndices = _ref2.targetStartIndices;\n\n  if (!Array.isArray(targetStartIndices)) {\n    padArrayChunk({\n      source: source,\n      target: target,\n      size: size,\n      getData: getData\n    });\n    return target;\n  }\n\n  var sourceIndex = 0;\n  var targetIndex = 0;\n\n  var getChunkData = getData && function (i, chunk) {\n    return getData(i + targetIndex, chunk);\n  };\n\n  var n = Math.min(sourceStartIndices.length, targetStartIndices.length);\n\n  for (var i = 1; i < n; i++) {\n    var nextSourceIndex = sourceStartIndices[i] * size;\n    var nextTargetIndex = targetStartIndices[i] * size;\n    padArrayChunk({\n      source: source.subarray(sourceIndex, nextSourceIndex),\n      target: target,\n      start: targetIndex,\n      end: nextTargetIndex,\n      size: size,\n      getData: getChunkData\n    });\n    sourceIndex = nextSourceIndex;\n    targetIndex = nextTargetIndex;\n  }\n\n  if (targetIndex < target.length) {\n    padArrayChunk({\n      source: [],\n      target: target,\n      start: targetIndex,\n      size: size,\n      getData: getChunkData\n    });\n  }\n\n  return target;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { padArray } from '../../utils/array-utils';\nvar DEFAULT_TRANSITION_SETTINGS = {\n  interpolation: {\n    duration: 0,\n    easing: function easing(t) {\n      return t;\n    }\n  },\n  spring: {\n    stiffness: 0.05,\n    damping: 0.5\n  }\n};\nexport function normalizeTransitionSettings(userSettings, layerSettings) {\n  if (!userSettings) {\n    return null;\n  }\n\n  if (Number.isFinite(userSettings)) {\n    userSettings = {\n      duration: userSettings\n    };\n  }\n\n  userSettings.type = userSettings.type || 'interpolation';\n  return _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_TRANSITION_SETTINGS[userSettings.type]), layerSettings), userSettings);\n}\nexport function getSourceBufferAttribute(gl, attribute) {\n  var buffer = attribute.getBuffer();\n\n  if (buffer) {\n    return [attribute.getBuffer(), {\n      divisor: 0,\n      size: attribute.size,\n      normalized: attribute.settings.normalized\n    }];\n  }\n\n  return attribute.value;\n}\nexport function getAttributeTypeFromSize(size) {\n  switch (size) {\n    case 1:\n      return 'float';\n\n    case 2:\n      return 'vec2';\n\n    case 3:\n      return 'vec3';\n\n    case 4:\n      return 'vec4';\n\n    default:\n      throw new Error(\"No defined attribute type for size \\\"\".concat(size, \"\\\"\"));\n  }\n}\nexport function cycleBuffers(buffers) {\n  buffers.push(buffers.shift());\n}\nexport function getAttributeBufferLength(attribute, numInstances) {\n  var doublePrecision = attribute.doublePrecision,\n      settings = attribute.settings,\n      value = attribute.value,\n      size = attribute.size;\n  var multiplier = doublePrecision && value instanceof Float64Array ? 2 : 1;\n  return (settings.noAlloc ? value.length : numInstances * size) * multiplier;\n}\nexport function padBuffer(_ref) {\n  var buffer = _ref.buffer,\n      numInstances = _ref.numInstances,\n      attribute = _ref.attribute,\n      fromLength = _ref.fromLength,\n      fromStartIndices = _ref.fromStartIndices,\n      _ref$getData = _ref.getData,\n      getData = _ref$getData === void 0 ? function (x) {\n    return x;\n  } : _ref$getData;\n  var precisionMultiplier = attribute.doublePrecision && attribute.value instanceof Float64Array ? 2 : 1;\n  var size = attribute.size * precisionMultiplier;\n  var byteOffset = attribute.byteOffset;\n  var toStartIndices = attribute.startIndices;\n  var hasStartIndices = fromStartIndices && toStartIndices;\n  var toLength = getAttributeBufferLength(attribute, numInstances);\n  var isConstant = attribute.state.constant;\n\n  if (!hasStartIndices && fromLength >= toLength) {\n    return;\n  }\n\n  var toData = isConstant ? attribute.value : attribute.getBuffer().getData({\n    srcByteOffset: byteOffset\n  });\n\n  if (attribute.settings.normalized && !isConstant) {\n    var getter = getData;\n\n    getData = function getData(value, chunk) {\n      return attribute._normalizeConstant(getter(value, chunk));\n    };\n  }\n\n  var getMissingData = isConstant ? function (i, chunk) {\n    return getData(toData, chunk);\n  } : function (i, chunk) {\n    return getData(toData.subarray(i, i + size), chunk);\n  };\n  var source = buffer.getData({\n    length: fromLength\n  });\n  var data = new Float32Array(toLength);\n  padArray({\n    source: source,\n    target: data,\n    sourceStartIndices: fromStartIndices,\n    targetStartIndices: toStartIndices,\n    size: size,\n    getData: getMissingData\n  });\n\n  if (buffer.byteLength < data.byteLength + byteOffset) {\n    buffer.reallocate(data.byteLength + byteOffset);\n  }\n\n  buffer.subData({\n    data: data,\n    offset: byteOffset\n  });\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport DataColumn from './data-column';\nimport assert from '../../utils/assert';\nimport { createIterable, getAccessorFromBuffer } from '../../utils/iterable-utils';\nimport { fillArray } from '../../utils/flatten';\nimport * as range from '../../utils/range';\nimport { normalizeTransitionSettings } from './attribute-transition-utils';\n\nvar Attribute = /*#__PURE__*/function (_DataColumn) {\n  _inherits(Attribute, _DataColumn);\n\n  var _super = _createSuper(Attribute);\n\n  function Attribute(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Attribute);\n\n    _this = _super.call(this, gl, opts);\n    var _opts$transition = opts.transition,\n        transition = _opts$transition === void 0 ? false : _opts$transition,\n        _opts$noAlloc = opts.noAlloc,\n        noAlloc = _opts$noAlloc === void 0 ? false : _opts$noAlloc,\n        _opts$update = opts.update,\n        update = _opts$update === void 0 ? null : _opts$update,\n        _opts$accessor = opts.accessor,\n        accessor = _opts$accessor === void 0 ? null : _opts$accessor,\n        _opts$transform = opts.transform,\n        transform = _opts$transform === void 0 ? null : _opts$transform,\n        _opts$startIndices = opts.startIndices,\n        startIndices = _opts$startIndices === void 0 ? null : _opts$startIndices;\n    Object.assign(_this.settings, {\n      transition: transition,\n      noAlloc: noAlloc,\n      update: update || accessor && _this._autoUpdater,\n      accessor: accessor,\n      transform: transform\n    });\n    Object.assign(_this.state, {\n      lastExternalBuffer: null,\n      binaryValue: null,\n      binaryAccessor: null,\n      needsUpdate: true,\n      needsRedraw: false,\n      updateRanges: range.FULL,\n      startIndices: startIndices\n    });\n    Object.seal(_this.settings);\n    Object.seal(_this.state);\n\n    _this._validateAttributeUpdaters();\n\n    return _this;\n  }\n\n  _createClass(Attribute, [{\n    key: \"startIndices\",\n    get: function get() {\n      return this.state.startIndices;\n    },\n    set: function set(layout) {\n      this.state.startIndices = layout;\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this.state.needsUpdate;\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$clearChangedFlag = _ref.clearChangedFlags,\n          clearChangedFlags = _ref$clearChangedFlag === void 0 ? false : _ref$clearChangedFlag;\n\n      var needsRedraw = this.state.needsRedraw;\n      this.state.needsRedraw = needsRedraw && !clearChangedFlags;\n      return needsRedraw;\n    }\n  }, {\n    key: \"getUpdateTriggers\",\n    value: function getUpdateTriggers() {\n      var accessor = this.settings.accessor;\n      return [this.id].concat(typeof accessor !== 'function' && accessor || []);\n    }\n  }, {\n    key: \"supportsTransition\",\n    value: function supportsTransition() {\n      return Boolean(this.settings.transition);\n    }\n  }, {\n    key: \"getTransitionSetting\",\n    value: function getTransitionSetting(opts) {\n      if (!opts || !this.supportsTransition()) {\n        return null;\n      }\n\n      var accessor = this.settings.accessor;\n      var layerSettings = this.settings.transition;\n      var userSettings = Array.isArray(accessor) ? opts[accessor.find(function (a) {\n        return opts[a];\n      })] : opts[accessor];\n      return normalizeTransitionSettings(userSettings, layerSettings);\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate() {\n      var reason = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.id;\n      var dataRange = arguments.length > 1 ? arguments[1] : undefined;\n      this.state.needsUpdate = this.state.needsUpdate || reason;\n      this.setNeedsRedraw(reason);\n\n      if (dataRange) {\n        var _dataRange$startRow = dataRange.startRow,\n            startRow = _dataRange$startRow === void 0 ? 0 : _dataRange$startRow,\n            _dataRange$endRow = dataRange.endRow,\n            endRow = _dataRange$endRow === void 0 ? Infinity : _dataRange$endRow;\n        this.state.updateRanges = range.add(this.state.updateRanges, [startRow, endRow]);\n      } else {\n        this.state.updateRanges = range.FULL;\n      }\n    }\n  }, {\n    key: \"clearNeedsUpdate\",\n    value: function clearNeedsUpdate() {\n      this.state.needsUpdate = false;\n      this.state.updateRanges = range.EMPTY;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var reason = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.id;\n      this.state.needsRedraw = this.state.needsRedraw || reason;\n    }\n  }, {\n    key: \"update\",\n    value: function update(opts) {\n      this.setData(opts);\n    }\n  }, {\n    key: \"allocate\",\n    value: function allocate(numInstances) {\n      var state = this.state,\n          settings = this.settings;\n\n      if (settings.noAlloc) {\n        return false;\n      }\n\n      if (settings.update) {\n        _get(_getPrototypeOf(Attribute.prototype), \"allocate\", this).call(this, {\n          numInstances: numInstances,\n          copy: state.updateRanges !== range.FULL\n        });\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateBuffer\",\n    value: function updateBuffer(_ref2) {\n      var numInstances = _ref2.numInstances,\n          data = _ref2.data,\n          props = _ref2.props,\n          context = _ref2.context;\n\n      if (!this.needsUpdate()) {\n        return false;\n      }\n\n      var updateRanges = this.state.updateRanges,\n          _this$settings = this.settings,\n          update = _this$settings.update,\n          noAlloc = _this$settings.noAlloc;\n      var updated = true;\n\n      if (update) {\n        var _iterator = _createForOfIteratorHelper(updateRanges),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                _startRow = _step$value[0],\n                _endRow = _step$value[1];\n\n            update.call(context, this, {\n              data: data,\n              startRow: _startRow,\n              endRow: _endRow,\n              props: props,\n              numInstances: numInstances\n            });\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        if (!this.value) {} else if (this.constant || this.buffer.byteLength < this.value.byteLength + this.byteOffset) {\n          this.setData({\n            value: this.value,\n            constant: this.constant\n          });\n          this.constant = false;\n        } else {\n          var _iterator2 = _createForOfIteratorHelper(updateRanges),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _step2$value = _slicedToArray(_step2.value, 2),\n                  startRow = _step2$value[0],\n                  endRow = _step2$value[1];\n\n              var startOffset = Number.isFinite(startRow) ? this.getVertexOffset(startRow) : 0;\n              var endOffset = Number.isFinite(endRow) ? this.getVertexOffset(endRow) : noAlloc || !Number.isFinite(numInstances) ? this.value.length : numInstances * this.size;\n\n              _get(_getPrototypeOf(Attribute.prototype), \"updateSubBuffer\", this).call(this, {\n                startOffset: startOffset,\n                endOffset: endOffset\n              });\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n\n        this._checkAttributeArray();\n      } else {\n        updated = false;\n      }\n\n      this.clearNeedsUpdate();\n      this.setNeedsRedraw();\n      return updated;\n    }\n  }, {\n    key: \"setConstantValue\",\n    value: function setConstantValue(value) {\n      if (value === undefined || typeof value === 'function') {\n        return false;\n      }\n\n      var hasChanged = this.setData({\n        constant: true,\n        value: value\n      });\n\n      if (hasChanged) {\n        this.setNeedsRedraw();\n      }\n\n      this.clearNeedsUpdate();\n      return true;\n    }\n  }, {\n    key: \"setExternalBuffer\",\n    value: function setExternalBuffer(buffer) {\n      var state = this.state;\n\n      if (!buffer) {\n        state.lastExternalBuffer = null;\n        return false;\n      }\n\n      this.clearNeedsUpdate();\n\n      if (state.lastExternalBuffer === buffer) {\n        return true;\n      }\n\n      state.lastExternalBuffer = buffer;\n      this.setNeedsRedraw();\n      this.setData(buffer);\n      return true;\n    }\n  }, {\n    key: \"setBinaryValue\",\n    value: function setBinaryValue(buffer) {\n      var startIndices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var state = this.state,\n          settings = this.settings;\n\n      if (!buffer) {\n        state.binaryValue = null;\n        state.binaryAccessor = null;\n        return false;\n      }\n\n      if (settings.noAlloc) {\n        return false;\n      }\n\n      if (state.binaryValue === buffer) {\n        this.clearNeedsUpdate();\n        return true;\n      }\n\n      state.binaryValue = buffer;\n      this.setNeedsRedraw();\n\n      if (ArrayBuffer.isView(buffer)) {\n        buffer = {\n          value: buffer\n        };\n      }\n\n      var needsUpdate = settings.transform || startIndices !== this.startIndices;\n\n      if (needsUpdate) {\n        assert(ArrayBuffer.isView(buffer.value), \"invalid \".concat(settings.accessor));\n        var needsNormalize = buffer.size && buffer.size !== this.size;\n        state.binaryAccessor = getAccessorFromBuffer(buffer.value, {\n          size: buffer.size || this.size,\n          stride: buffer.stride,\n          offset: buffer.offset,\n          startIndices: startIndices,\n          nested: needsNormalize\n        });\n        return false;\n      }\n\n      this.clearNeedsUpdate();\n      this.setData(buffer);\n      return true;\n    }\n  }, {\n    key: \"getVertexOffset\",\n    value: function getVertexOffset(row) {\n      var startIndices = this.startIndices;\n      var vertexIndex = startIndices ? startIndices[row] : row;\n      return vertexIndex * this.size;\n    }\n  }, {\n    key: \"getShaderAttributes\",\n    value: function getShaderAttributes() {\n      var shaderAttributeDefs = this.settings.shaderAttributes || _defineProperty({}, this.id, null);\n\n      var shaderAttributes = {};\n\n      for (var shaderAttributeName in shaderAttributeDefs) {\n        Object.assign(shaderAttributes, _get(_getPrototypeOf(Attribute.prototype), \"getShaderAttributes\", this).call(this, shaderAttributeName, shaderAttributeDefs[shaderAttributeName]));\n      }\n\n      return shaderAttributes;\n    }\n  }, {\n    key: \"_autoUpdater\",\n    value: function _autoUpdater(attribute, _ref4) {\n      var data = _ref4.data,\n          startRow = _ref4.startRow,\n          endRow = _ref4.endRow,\n          props = _ref4.props,\n          numInstances = _ref4.numInstances;\n\n      if (attribute.constant) {\n        return;\n      }\n\n      var settings = attribute.settings,\n          state = attribute.state,\n          value = attribute.value,\n          size = attribute.size,\n          startIndices = attribute.startIndices;\n      var accessor = settings.accessor,\n          transform = settings.transform;\n      var accessorFunc = state.binaryAccessor || (typeof accessor === 'function' ? accessor : props[accessor]);\n      assert(typeof accessorFunc === 'function', \"accessor \\\"\".concat(accessor, \"\\\" is not a function\"));\n      var i = attribute.getVertexOffset(startRow);\n\n      var _createIterable = createIterable(data, startRow, endRow),\n          iterable = _createIterable.iterable,\n          objectInfo = _createIterable.objectInfo;\n\n      var _iterator3 = _createForOfIteratorHelper(iterable),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var object = _step3.value;\n          objectInfo.index++;\n          var objectValue = accessorFunc(object, objectInfo);\n\n          if (transform) {\n            objectValue = transform.call(this, objectValue);\n          }\n\n          if (startIndices) {\n            var numVertices = (objectInfo.index < startIndices.length - 1 ? startIndices[objectInfo.index + 1] : numInstances) - startIndices[objectInfo.index];\n\n            if (objectValue && Array.isArray(objectValue[0])) {\n              var startIndex = i;\n\n              var _iterator4 = _createForOfIteratorHelper(objectValue),\n                  _step4;\n\n              try {\n                for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                  var item = _step4.value;\n\n                  attribute._normalizeValue(item, value, startIndex);\n\n                  startIndex += size;\n                }\n              } catch (err) {\n                _iterator4.e(err);\n              } finally {\n                _iterator4.f();\n              }\n            } else if (objectValue && objectValue.length > size) {\n              value.set(objectValue, i);\n            } else {\n              attribute._normalizeValue(objectValue, objectInfo.target, 0);\n\n              fillArray({\n                target: value,\n                source: objectInfo.target,\n                start: i,\n                count: numVertices\n              });\n            }\n\n            i += numVertices * size;\n          } else {\n            attribute._normalizeValue(objectValue, value, i);\n\n            i += size;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"_validateAttributeUpdaters\",\n    value: function _validateAttributeUpdaters() {\n      var settings = this.settings;\n      var hasUpdater = settings.noAlloc || typeof settings.update === 'function';\n\n      if (!hasUpdater) {\n        throw new Error(\"Attribute \".concat(this.id, \" missing update or accessor\"));\n      }\n    }\n  }, {\n    key: \"_checkAttributeArray\",\n    value: function _checkAttributeArray() {\n      var value = this.value;\n      var limit = Math.min(4, this.size);\n\n      if (value && value.length >= limit) {\n        var valid = true;\n\n        switch (limit) {\n          case 4:\n            valid = valid && Number.isFinite(value[3]);\n\n          case 3:\n            valid = valid && Number.isFinite(value[2]);\n\n          case 2:\n            valid = valid && Number.isFinite(value[1]);\n\n          case 1:\n            valid = valid && Number.isFinite(value[0]);\n            break;\n\n          default:\n            valid = false;\n        }\n\n        if (!valid) {\n          throw new Error(\"Illegal attribute generated for \".concat(this.id));\n        }\n      }\n    }\n  }]);\n\n  return Attribute;\n}(DataColumn);\n\nexport { Attribute as default };","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { assert } from '../utils';\nvar FS100 = \"void main() {gl_FragColor = vec4(0);}\";\nvar FS_GLES = \"out vec4 transform_output;\\nvoid main() {\\n  transform_output = vec4(0);\\n}\";\nvar FS300 = \"#version 300 es\\n\".concat(FS_GLES);\nexport function getQualifierDetails(line, qualifiers) {\n  qualifiers = Array.isArray(qualifiers) ? qualifiers : [qualifiers];\n  var words = line.replace(/^\\s+/, '').split(/\\s+/);\n\n  var _words = _slicedToArray(words, 3),\n      qualifier = _words[0],\n      type = _words[1],\n      definition = _words[2];\n\n  if (!qualifiers.includes(qualifier) || !type || !definition) {\n    return null;\n  }\n\n  var name = definition.split(';')[0];\n  return {\n    qualifier: qualifier,\n    type: type,\n    name: name\n  };\n}\nexport function getPassthroughFS() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$version = options.version,\n      version = _options$version === void 0 ? 100 : _options$version,\n      input = options.input,\n      inputType = options.inputType,\n      output = options.output;\n\n  if (!input) {\n    if (version === 300) {\n      return FS300;\n    } else if (version > 300) {\n      return \"#version \".concat(version, \"\\n\").concat(FS_GLES);\n    }\n\n    return FS100;\n  }\n\n  var outputValue = convertToVec4(input, inputType);\n\n  if (version >= 300) {\n    return \"#version \".concat(version, \" \").concat(version === 300 ? 'es' : '', \"\\nin \").concat(inputType, \" \").concat(input, \";\\nout vec4 \").concat(output, \";\\nvoid main() {\\n  \").concat(output, \" = \").concat(outputValue, \";\\n}\");\n  }\n\n  return \"varying \".concat(inputType, \" \").concat(input, \";\\nvoid main() {\\n  gl_FragColor = \").concat(outputValue, \";\\n}\");\n}\nexport function typeToChannelSuffix(type) {\n  switch (type) {\n    case 'float':\n      return 'x';\n\n    case 'vec2':\n      return 'xy';\n\n    case 'vec3':\n      return 'xyz';\n\n    case 'vec4':\n      return 'xyzw';\n\n    default:\n      assert(false);\n      return null;\n  }\n}\nexport function typeToChannelCount(type) {\n  switch (type) {\n    case 'float':\n      return 1;\n\n    case 'vec2':\n      return 2;\n\n    case 'vec3':\n      return 3;\n\n    case 'vec4':\n      return 4;\n\n    default:\n      assert(false);\n      return null;\n  }\n}\nexport function convertToVec4(variable, type) {\n  switch (type) {\n    case 'float':\n      return \"vec4(\".concat(variable, \", 0.0, 0.0, 1.0)\");\n\n    case 'vec2':\n      return \"vec4(\".concat(variable, \", 0.0, 1.0)\");\n\n    case 'vec3':\n      return \"vec4(\".concat(variable, \", 1.0)\");\n\n    case 'vec4':\n      return variable;\n\n    default:\n      assert(false);\n      return null;\n  }\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { isWebGL2, assertWebGL2Context, log } from '@luma.gl/gltools';\nimport Resource from './resource';\nimport Buffer from './buffer';\nimport { isObjectEmpty } from '../utils/utils';\n\nvar TransformFeedback = /*#__PURE__*/function (_Resource) {\n  _inherits(TransformFeedback, _Resource);\n\n  var _super = _createSuper(TransformFeedback);\n\n  function TransformFeedback(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TransformFeedback);\n\n    assertWebGL2Context(gl);\n    _this = _super.call(this, gl, props);\n\n    _this.initialize(props);\n\n    _this.stubRemovedMethods('TransformFeedback', 'v6.0', ['pause', 'resume']);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TransformFeedback, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.buffers = {};\n      this.unused = {};\n      this.configuration = null;\n      this.bindOnUse = true;\n\n      if (!isObjectEmpty(this.buffers)) {\n        this.bind(function () {\n          return _this2._unbindBuffers();\n        });\n      }\n\n      this.setProps(props);\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('program' in props) {\n        this.configuration = props.program && props.program.configuration;\n      }\n\n      if ('configuration' in props) {\n        this.configuration = props.configuration;\n      }\n\n      if ('bindOnUse' in props) {\n        props = props.bindOnUse;\n      }\n\n      if ('buffers' in props) {\n        this.setBuffers(props.buffers);\n      }\n    }\n  }, {\n    key: \"setBuffers\",\n    value: function setBuffers() {\n      var _this3 = this;\n\n      var buffers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.bind(function () {\n        for (var bufferName in buffers) {\n          _this3.setBuffer(bufferName, buffers[bufferName]);\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(locationOrName, bufferOrParams) {\n      var _this4 = this;\n\n      var location = this._getVaryingIndex(locationOrName);\n\n      var _this$_getBufferParam = this._getBufferParams(bufferOrParams),\n          buffer = _this$_getBufferParam.buffer,\n          byteSize = _this$_getBufferParam.byteSize,\n          byteOffset = _this$_getBufferParam.byteOffset;\n\n      if (location < 0) {\n        this.unused[locationOrName] = buffer;\n        log.warn(function () {\n          return \"\".concat(_this4.id, \" unused varying buffer \").concat(locationOrName);\n        })();\n        return this;\n      }\n\n      this.buffers[location] = bufferOrParams;\n\n      if (!this.bindOnUse) {\n        this._bindBuffer(location, buffer, byteOffset, byteSize);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"begin\",\n    value: function begin() {\n      var primitiveMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this.gl.bindTransformFeedback(36386, this.handle);\n\n      this._bindBuffers();\n\n      this.gl.beginTransformFeedback(primitiveMode);\n      return this;\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      this.gl.endTransformFeedback();\n\n      this._unbindBuffers();\n\n      this.gl.bindTransformFeedback(36386, null);\n      return this;\n    }\n  }, {\n    key: \"_getBufferParams\",\n    value: function _getBufferParams(bufferOrParams) {\n      var byteOffset;\n      var byteSize;\n      var buffer;\n\n      if (bufferOrParams instanceof Buffer === false) {\n        buffer = bufferOrParams.buffer;\n        byteSize = bufferOrParams.byteSize;\n        byteOffset = bufferOrParams.byteOffset;\n      } else {\n        buffer = bufferOrParams;\n      }\n\n      if (byteOffset !== undefined || byteSize !== undefined) {\n        byteOffset = byteOffset || 0;\n        byteSize = byteSize || buffer.byteLength - byteOffset;\n      }\n\n      return {\n        buffer: buffer,\n        byteOffset: byteOffset,\n        byteSize: byteSize\n      };\n    }\n  }, {\n    key: \"_getVaryingInfo\",\n    value: function _getVaryingInfo(locationOrName) {\n      return this.configuration && this.configuration.getVaryingInfo(locationOrName);\n    }\n  }, {\n    key: \"_getVaryingIndex\",\n    value: function _getVaryingIndex(locationOrName) {\n      if (this.configuration) {\n        return this.configuration.getVaryingInfo(locationOrName).location;\n      }\n\n      var location = Number(locationOrName);\n      return Number.isFinite(location) ? location : -1;\n    }\n  }, {\n    key: \"_bindBuffers\",\n    value: function _bindBuffers() {\n      if (this.bindOnUse) {\n        for (var bufferIndex in this.buffers) {\n          var _this$_getBufferParam2 = this._getBufferParams(this.buffers[bufferIndex]),\n              buffer = _this$_getBufferParam2.buffer,\n              byteSize = _this$_getBufferParam2.byteSize,\n              byteOffset = _this$_getBufferParam2.byteOffset;\n\n          this._bindBuffer(bufferIndex, buffer, byteOffset, byteSize);\n        }\n      }\n    }\n  }, {\n    key: \"_unbindBuffers\",\n    value: function _unbindBuffers() {\n      if (this.bindOnUse) {\n        for (var bufferIndex in this.buffers) {\n          this._bindBuffer(bufferIndex, null);\n        }\n      }\n    }\n  }, {\n    key: \"_bindBuffer\",\n    value: function _bindBuffer(index, buffer) {\n      var byteOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var byteSize = arguments.length > 3 ? arguments[3] : undefined;\n      var handle = buffer && buffer.handle;\n\n      if (!handle || byteSize === undefined) {\n        this.gl.bindBufferBase(35982, index, handle);\n      } else {\n        this.gl.bindBufferRange(35982, index, handle, byteOffset, byteSize);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createTransformFeedback();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteTransformFeedback(this.handle);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindTransformFeedback(36386, this.handle);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      return isWebGL2(gl);\n    }\n  }]);\n\n  return TransformFeedback;\n}(Resource);\n\nexport { TransformFeedback as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { Buffer, TransformFeedback } from '@luma.gl/webgl';\nimport { assert } from '@luma.gl/webgl';\n\nvar BufferTransform = /*#__PURE__*/function () {\n  function BufferTransform(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BufferTransform);\n\n    this.gl = gl;\n    this.currentIndex = 0;\n    this.feedbackMap = {};\n    this.varyings = null;\n    this.bindings = [];\n    this.resources = {};\n\n    this._initialize(props);\n\n    Object.seal(this);\n  }\n\n  _createClass(BufferTransform, [{\n    key: \"setupResources\",\n    value: function setupResources(opts) {\n      var _iterator = _createForOfIteratorHelper(this.bindings),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var binding = _step.value;\n\n          this._setupTransformFeedback(binding, opts);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"updateModelProps\",\n    value: function updateModelProps() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var varyings = this.varyings;\n\n      if (varyings.length > 0) {\n        props = Object.assign({}, props, {\n          varyings: varyings\n        });\n      }\n\n      return props;\n    }\n  }, {\n    key: \"getDrawOptions\",\n    value: function getDrawOptions() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var binding = this.bindings[this.currentIndex];\n      var sourceBuffers = binding.sourceBuffers,\n          transformFeedback = binding.transformFeedback;\n      var attributes = Object.assign({}, sourceBuffers, opts.attributes);\n      return {\n        attributes: attributes,\n        transformFeedback: transformFeedback\n      };\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      if (this.feedbackMap) {\n        this.currentIndex = this._getNextIndex();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setupBuffers(opts);\n    }\n  }, {\n    key: \"getBuffer\",\n    value: function getBuffer(varyingName) {\n      var feedbackBuffers = this.bindings[this.currentIndex].feedbackBuffers;\n      var bufferOrParams = varyingName ? feedbackBuffers[varyingName] : null;\n\n      if (!bufferOrParams) {\n        return null;\n      }\n\n      return bufferOrParams instanceof Buffer ? bufferOrParams : bufferOrParams.buffer;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var varyingName = options.varyingName;\n      var buffer = this.getBuffer(varyingName);\n\n      if (buffer) {\n        return buffer.getData();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      for (var name in this.resources) {\n        this.resources[name].delete();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setupBuffers(props);\n\n      this.varyings = props.varyings || Object.keys(this.bindings[this.currentIndex].feedbackBuffers);\n\n      if (this.varyings.length > 0) {\n        assert(isWebGL2(this.gl));\n      }\n    }\n  }, {\n    key: \"_getFeedbackBuffers\",\n    value: function _getFeedbackBuffers(props) {\n      var _props$sourceBuffers = props.sourceBuffers,\n          sourceBuffers = _props$sourceBuffers === void 0 ? {} : _props$sourceBuffers;\n      var feedbackBuffers = {};\n\n      if (this.bindings[this.currentIndex]) {\n        Object.assign(feedbackBuffers, this.bindings[this.currentIndex].feedbackBuffers);\n      }\n\n      if (this.feedbackMap) {\n        for (var sourceName in this.feedbackMap) {\n          var feedbackName = this.feedbackMap[sourceName];\n\n          if (sourceName in sourceBuffers) {\n            feedbackBuffers[feedbackName] = sourceName;\n          }\n        }\n      }\n\n      Object.assign(feedbackBuffers, props.feedbackBuffers);\n\n      for (var bufferName in feedbackBuffers) {\n        var bufferOrRef = feedbackBuffers[bufferName];\n\n        if (typeof bufferOrRef === 'string') {\n          var sourceBuffer = sourceBuffers[bufferOrRef];\n          var byteLength = sourceBuffer.byteLength,\n              usage = sourceBuffer.usage,\n              accessor = sourceBuffer.accessor;\n          feedbackBuffers[bufferName] = this._createNewBuffer(bufferName, {\n            byteLength: byteLength,\n            usage: usage,\n            accessor: accessor\n          });\n        }\n      }\n\n      return feedbackBuffers;\n    }\n  }, {\n    key: \"_setupBuffers\",\n    value: function _setupBuffers() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$sourceBuffers2 = props.sourceBuffers,\n          sourceBuffers = _props$sourceBuffers2 === void 0 ? null : _props$sourceBuffers2;\n      Object.assign(this.feedbackMap, props.feedbackMap);\n\n      var feedbackBuffers = this._getFeedbackBuffers(props);\n\n      this._updateBindings({\n        sourceBuffers: sourceBuffers,\n        feedbackBuffers: feedbackBuffers\n      });\n    }\n  }, {\n    key: \"_setupTransformFeedback\",\n    value: function _setupTransformFeedback(binding, _ref) {\n      var model = _ref.model;\n      var program = model.program;\n      binding.transformFeedback = new TransformFeedback(this.gl, {\n        program: program,\n        buffers: binding.feedbackBuffers\n      });\n    }\n  }, {\n    key: \"_updateBindings\",\n    value: function _updateBindings(opts) {\n      this.bindings[this.currentIndex] = this._updateBinding(this.bindings[this.currentIndex], opts);\n\n      if (this.feedbackMap) {\n        var _this$_swapBuffers = this._swapBuffers(this.bindings[this.currentIndex]),\n            sourceBuffers = _this$_swapBuffers.sourceBuffers,\n            feedbackBuffers = _this$_swapBuffers.feedbackBuffers;\n\n        var nextIndex = this._getNextIndex();\n\n        this.bindings[nextIndex] = this._updateBinding(this.bindings[nextIndex], {\n          sourceBuffers: sourceBuffers,\n          feedbackBuffers: feedbackBuffers\n        });\n      }\n    }\n  }, {\n    key: \"_updateBinding\",\n    value: function _updateBinding(binding, opts) {\n      if (!binding) {\n        return {\n          sourceBuffers: Object.assign({}, opts.sourceBuffers),\n          feedbackBuffers: Object.assign({}, opts.feedbackBuffers)\n        };\n      }\n\n      Object.assign(binding.sourceBuffers, opts.sourceBuffers);\n      Object.assign(binding.feedbackBuffers, opts.feedbackBuffers);\n\n      if (binding.transformFeedback) {\n        binding.transformFeedback.setBuffers(binding.feedbackBuffers);\n      }\n\n      return binding;\n    }\n  }, {\n    key: \"_swapBuffers\",\n    value: function _swapBuffers(opts) {\n      if (!this.feedbackMap) {\n        return null;\n      }\n\n      var sourceBuffers = Object.assign({}, opts.sourceBuffers);\n      var feedbackBuffers = Object.assign({}, opts.feedbackBuffers);\n\n      for (var srcName in this.feedbackMap) {\n        var dstName = this.feedbackMap[srcName];\n        sourceBuffers[srcName] = opts.feedbackBuffers[dstName];\n        feedbackBuffers[dstName] = opts.sourceBuffers[srcName];\n        assert(feedbackBuffers[dstName] instanceof Buffer);\n      }\n\n      return {\n        sourceBuffers: sourceBuffers,\n        feedbackBuffers: feedbackBuffers\n      };\n    }\n  }, {\n    key: \"_createNewBuffer\",\n    value: function _createNewBuffer(name, opts) {\n      var buffer = new Buffer(this.gl, opts);\n\n      if (this.resources[name]) {\n        this.resources[name].delete();\n      }\n\n      this.resources[name] = buffer;\n      return buffer;\n    }\n  }, {\n    key: \"_getNextIndex\",\n    value: function _getNextIndex() {\n      return (this.currentIndex + 1) % 2;\n    }\n  }]);\n\n  return BufferTransform;\n}();\n\nexport { BufferTransform as default };","export default function getShaderVersion(source) {\n  var version = 100;\n  var words = source.match(/[^\\s]+/g);\n\n  if (words.length >= 2 && words[0] === '#version') {\n    var v = parseInt(words[1], 10);\n\n    if (Number.isFinite(v)) {\n      version = v;\n    }\n  }\n\n  return version;\n}","var vs = \"attribute float transform_elementID;\\nvec2 transform_getPixelSizeHalf(vec2 size) {\\n  return vec2(1.) / (2. * size);\\n}\\n\\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\\n  return vec2(xIndex, yIndex);\\n}\\nvec2 transform_getTexCoord(vec2 size) {\\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\\n  vec2 coord = indices / size + pixelSizeHalf;\\n  return coord;\\n}\\nvec2 transform_getPos(vec2 size) {\\n  vec2 texCoord = transform_getTexCoord(size);\\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\\n  return pos;\\n}\\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\\n  vec2 texCoord = transform_getTexCoord(size);\\n  vec4 textureColor = texture2D(texSampler, texCoord);\\n  return textureColor;\\n}\\n\";\nexport var transform = {\n  name: 'transform',\n  vs: vs,\n  fs: null\n};","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _SRC_TEX_PARAMETER_OV;\n\nimport { cloneTextureFrom, readPixelsToArray, getShaderVersion, Buffer, Texture2D, Framebuffer } from '@luma.gl/webgl';\nimport { _transform as transformModule, getPassthroughFS, typeToChannelCount, combineInjects } from '@luma.gl/shadertools';\nimport { updateForTextures, getSizeUniforms } from './transform-shader-utils';\nvar SRC_TEX_PARAMETER_OVERRIDES = (_SRC_TEX_PARAMETER_OV = {}, _defineProperty(_SRC_TEX_PARAMETER_OV, 10241, 9728), _defineProperty(_SRC_TEX_PARAMETER_OV, 10240, 9728), _defineProperty(_SRC_TEX_PARAMETER_OV, 10242, 33071), _defineProperty(_SRC_TEX_PARAMETER_OV, 10243, 33071), _SRC_TEX_PARAMETER_OV);\nvar FS_OUTPUT_VARIABLE = 'transform_output';\n\nvar TextureTransform = /*#__PURE__*/function () {\n  function TextureTransform(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TextureTransform);\n\n    this.gl = gl;\n    this.id = this.currentIndex = 0;\n    this._swapTexture = null;\n    this.targetTextureVarying = null;\n    this.targetTextureType = null;\n    this.samplerTextureMap = null;\n    this.bindings = [];\n    this.resources = {};\n\n    this._initialize(props);\n\n    Object.seal(this);\n  }\n\n  _createClass(TextureTransform, [{\n    key: \"updateModelProps\",\n    value: function updateModelProps() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var updatedModelProps = this._processVertexShader(props);\n\n      return Object.assign({}, props, updatedModelProps);\n    }\n  }, {\n    key: \"getDrawOptions\",\n    value: function getDrawOptions() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$bindings$this$c = this.bindings[this.currentIndex],\n          sourceBuffers = _this$bindings$this$c.sourceBuffers,\n          sourceTextures = _this$bindings$this$c.sourceTextures,\n          framebuffer = _this$bindings$this$c.framebuffer,\n          targetTexture = _this$bindings$this$c.targetTexture;\n      var attributes = Object.assign({}, sourceBuffers, opts.attributes);\n      var uniforms = Object.assign({}, opts.uniforms);\n      var parameters = Object.assign({}, opts.parameters);\n      var discard = opts.discard;\n\n      if (this.hasSourceTextures || this.hasTargetTexture) {\n        attributes.transform_elementID = this.elementIDBuffer;\n\n        for (var sampler in this.samplerTextureMap) {\n          var textureName = this.samplerTextureMap[sampler];\n          uniforms[sampler] = sourceTextures[textureName];\n        }\n\n        this._setSourceTextureParameters();\n\n        var sizeUniforms = getSizeUniforms({\n          sourceTextureMap: sourceTextures,\n          targetTextureVarying: this.targetTextureVarying,\n          targetTexture: targetTexture\n        });\n        Object.assign(uniforms, sizeUniforms);\n      }\n\n      if (this.hasTargetTexture) {\n        discard = false;\n        parameters.viewport = [0, 0, framebuffer.width, framebuffer.height];\n      }\n\n      return {\n        attributes: attributes,\n        framebuffer: framebuffer,\n        uniforms: uniforms,\n        discard: discard,\n        parameters: parameters\n      };\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      if (this._swapTexture) {\n        this.currentIndex = this._getNextIndex();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setupTextures(opts);\n    }\n  }, {\n    key: \"getTargetTexture\",\n    value: function getTargetTexture() {\n      var targetTexture = this.bindings[this.currentIndex].targetTexture;\n      return targetTexture;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$packed = _ref.packed,\n          packed = _ref$packed === void 0 ? false : _ref$packed;\n\n      var framebuffer = this.bindings[this.currentIndex].framebuffer;\n      var pixels = readPixelsToArray(framebuffer);\n\n      if (!packed) {\n        return pixels;\n      }\n\n      var ArrayType = pixels.constructor;\n      var channelCount = typeToChannelCount(this.targetTextureType);\n      var packedPixels = new ArrayType(pixels.length * channelCount / 4);\n      var packCount = 0;\n\n      for (var i = 0; i < pixels.length; i += 4) {\n        for (var j = 0; j < channelCount; j++) {\n          packedPixels[packCount++] = pixels[i + j];\n        }\n      }\n\n      return packedPixels;\n    }\n  }, {\n    key: \"getFramebuffer\",\n    value: function getFramebuffer() {\n      var currentResources = this.bindings[this.currentIndex];\n      return currentResources.framebuffer;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this.ownTexture) {\n        this.ownTexture.delete();\n      }\n\n      if (this.elementIDBuffer) {\n        this.elementIDBuffer.delete();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _targetTextureVarying = props._targetTextureVarying,\n          _swapTexture = props._swapTexture;\n      this._swapTexture = _swapTexture;\n      this.targetTextureVarying = _targetTextureVarying;\n      this.hasTargetTexture = _targetTextureVarying;\n\n      this._setupTextures(props);\n    }\n  }, {\n    key: \"_createTargetTexture\",\n    value: function _createTargetTexture(props) {\n      var sourceTextures = props.sourceTextures,\n          textureOrReference = props.textureOrReference;\n\n      if (textureOrReference instanceof Texture2D) {\n        return textureOrReference;\n      }\n\n      var refTexture = sourceTextures[textureOrReference];\n\n      if (!refTexture) {\n        return null;\n      }\n\n      this._targetRefTexName = textureOrReference;\n      return this._createNewTexture(refTexture);\n    }\n  }, {\n    key: \"_setupTextures\",\n    value: function _setupTextures() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var sourceBuffers = props.sourceBuffers,\n          _props$_sourceTexture = props._sourceTextures,\n          _sourceTextures = _props$_sourceTexture === void 0 ? {} : _props$_sourceTexture,\n          _targetTexture = props._targetTexture;\n\n      var targetTexture = this._createTargetTexture({\n        sourceTextures: _sourceTextures,\n        textureOrReference: _targetTexture\n      });\n\n      this.hasSourceTextures = this.hasSourceTextures || _sourceTextures && Object.keys(_sourceTextures).length > 0;\n\n      this._updateBindings({\n        sourceBuffers: sourceBuffers,\n        sourceTextures: _sourceTextures,\n        targetTexture: targetTexture\n      });\n\n      if ('elementCount' in props) {\n        this._updateElementIDBuffer(props.elementCount);\n      }\n    }\n  }, {\n    key: \"_updateElementIDBuffer\",\n    value: function _updateElementIDBuffer(elementCount) {\n      if (typeof elementCount !== 'number' || this.elementCount >= elementCount) {\n        return;\n      }\n\n      var elementIds = new Float32Array(elementCount);\n      elementIds.forEach(function (_, index, array) {\n        array[index] = index;\n      });\n\n      if (!this.elementIDBuffer) {\n        this.elementIDBuffer = new Buffer(this.gl, {\n          data: elementIds,\n          accessor: {\n            size: 1\n          }\n        });\n      } else {\n        this.elementIDBuffer.setData({\n          data: elementIds\n        });\n      }\n\n      this.elementCount = elementCount;\n    }\n  }, {\n    key: \"_updateBindings\",\n    value: function _updateBindings(opts) {\n      this.bindings[this.currentIndex] = this._updateBinding(this.bindings[this.currentIndex], opts);\n\n      if (this._swapTexture) {\n        var _this$_swapTextures = this._swapTextures(this.bindings[this.currentIndex]),\n            sourceTextures = _this$_swapTextures.sourceTextures,\n            targetTexture = _this$_swapTextures.targetTexture;\n\n        var nextIndex = this._getNextIndex();\n\n        this.bindings[nextIndex] = this._updateBinding(this.bindings[nextIndex], {\n          sourceTextures: sourceTextures,\n          targetTexture: targetTexture\n        });\n      }\n    }\n  }, {\n    key: \"_updateBinding\",\n    value: function _updateBinding(binding, opts) {\n      var sourceBuffers = opts.sourceBuffers,\n          sourceTextures = opts.sourceTextures,\n          targetTexture = opts.targetTexture;\n\n      if (!binding) {\n        binding = {\n          sourceBuffers: {},\n          sourceTextures: {},\n          targetTexture: null\n        };\n      }\n\n      Object.assign(binding.sourceTextures, sourceTextures);\n      Object.assign(binding.sourceBuffers, sourceBuffers);\n\n      if (targetTexture) {\n        binding.targetTexture = targetTexture;\n        var width = targetTexture.width,\n            height = targetTexture.height;\n        var _binding = binding,\n            framebuffer = _binding.framebuffer;\n\n        if (framebuffer) {\n          framebuffer.update({\n            attachments: _defineProperty({}, 36064, targetTexture),\n            resizeAttachments: false\n          });\n          framebuffer.resize({\n            width: width,\n            height: height\n          });\n        } else {\n          binding.framebuffer = new Framebuffer(this.gl, {\n            id: \"transform-framebuffer\",\n            width: width,\n            height: height,\n            attachments: _defineProperty({}, 36064, targetTexture)\n          });\n        }\n      }\n\n      return binding;\n    }\n  }, {\n    key: \"_setSourceTextureParameters\",\n    value: function _setSourceTextureParameters() {\n      var index = this.currentIndex;\n      var sourceTextures = this.bindings[index].sourceTextures;\n\n      for (var name in sourceTextures) {\n        sourceTextures[name].setParameters(SRC_TEX_PARAMETER_OVERRIDES);\n      }\n    }\n  }, {\n    key: \"_swapTextures\",\n    value: function _swapTextures(opts) {\n      if (!this._swapTexture) {\n        return null;\n      }\n\n      var sourceTextures = Object.assign({}, opts.sourceTextures);\n      sourceTextures[this._swapTexture] = opts.targetTexture;\n      var targetTexture = opts.sourceTextures[this._swapTexture];\n      return {\n        sourceTextures: sourceTextures,\n        targetTexture: targetTexture\n      };\n    }\n  }, {\n    key: \"_createNewTexture\",\n    value: function _createNewTexture(refTexture) {\n      var _parameters;\n\n      var texture = cloneTextureFrom(refTexture, {\n        parameters: (_parameters = {}, _defineProperty(_parameters, 10241, 9728), _defineProperty(_parameters, 10240, 9728), _defineProperty(_parameters, 10242, 33071), _defineProperty(_parameters, 10243, 33071), _parameters),\n        pixelStore: _defineProperty({}, 37440, false)\n      });\n\n      if (this.ownTexture) {\n        this.ownTexture.delete();\n      }\n\n      this.ownTexture = texture;\n      return texture;\n    }\n  }, {\n    key: \"_getNextIndex\",\n    value: function _getNextIndex() {\n      return (this.currentIndex + 1) % 2;\n    }\n  }, {\n    key: \"_processVertexShader\",\n    value: function _processVertexShader() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$bindings$this$c2 = this.bindings[this.currentIndex],\n          sourceTextures = _this$bindings$this$c2.sourceTextures,\n          targetTexture = _this$bindings$this$c2.targetTexture;\n\n      var _updateForTextures = updateForTextures({\n        vs: props.vs,\n        sourceTextureMap: sourceTextures,\n        targetTextureVarying: this.targetTextureVarying,\n        targetTexture: targetTexture\n      }),\n          vs = _updateForTextures.vs,\n          uniforms = _updateForTextures.uniforms,\n          targetTextureType = _updateForTextures.targetTextureType,\n          inject = _updateForTextures.inject,\n          samplerTextureMap = _updateForTextures.samplerTextureMap;\n\n      var combinedInject = combineInjects([props.inject || {}, inject]);\n      this.targetTextureType = targetTextureType;\n      this.samplerTextureMap = samplerTextureMap;\n      var fs = props._fs || getPassthroughFS({\n        version: getShaderVersion(vs),\n        input: this.targetTextureVarying,\n        inputType: targetTextureType,\n        output: FS_OUTPUT_VARIABLE\n      });\n      var modules = this.hasSourceTextures || this.targetTextureVarying ? [transformModule].concat(props.modules || []) : props.modules;\n      return {\n        vs: vs,\n        fs: fs,\n        modules: modules,\n        uniforms: uniforms,\n        inject: combinedInject\n      };\n    }\n  }]);\n\n  return TextureTransform;\n}();\n\nexport { TextureTransform as default };","import { assert } from '@luma.gl/webgl';\nimport { combineInjects, getQualifierDetails, typeToChannelSuffix } from '@luma.gl/shadertools';\nvar SAMPLER_UNIFORM_PREFIX = 'transform_uSampler_';\nvar SIZE_UNIFORM_PREFIX = 'transform_uSize_';\nvar VS_POS_VARIABLE = 'transform_position';\nexport function updateForTextures(_ref) {\n  var vs = _ref.vs,\n      sourceTextureMap = _ref.sourceTextureMap,\n      targetTextureVarying = _ref.targetTextureVarying,\n      targetTexture = _ref.targetTexture;\n  var texAttributeNames = Object.keys(sourceTextureMap);\n  var sourceCount = texAttributeNames.length;\n  var targetTextureType = null;\n  var samplerTextureMap = {};\n  var updatedVs = vs;\n  var finalInject = {};\n\n  if (sourceCount > 0 || targetTextureVarying) {\n    var vsLines = updatedVs.split('\\n');\n    var updateVsLines = vsLines.slice();\n    vsLines.forEach(function (line, index, lines) {\n      if (sourceCount > 0) {\n        var updated = processAttributeDefinition(line, sourceTextureMap);\n\n        if (updated) {\n          var updatedLine = updated.updatedLine,\n              inject = updated.inject;\n          updateVsLines[index] = updatedLine;\n          finalInject = combineInjects([finalInject, inject]);\n          Object.assign(samplerTextureMap, updated.samplerTextureMap);\n          sourceCount--;\n        }\n      }\n\n      if (targetTextureVarying && !targetTextureType) {\n        targetTextureType = getVaryingType(line, targetTextureVarying);\n      }\n    });\n\n    if (targetTextureVarying) {\n      assert(targetTexture);\n      var sizeName = \"\".concat(SIZE_UNIFORM_PREFIX).concat(targetTextureVarying);\n      var uniformDeclaration = \"uniform vec2 \".concat(sizeName, \";\\n\");\n      var posInstructions = \"     vec2 \".concat(VS_POS_VARIABLE, \" = transform_getPos(\").concat(sizeName, \");\\n     gl_Position = vec4(\").concat(VS_POS_VARIABLE, \", 0, 1.);\\n\");\n      var inject = {\n        'vs:#decl': uniformDeclaration,\n        'vs:#main-start': posInstructions\n      };\n      finalInject = combineInjects([finalInject, inject]);\n    }\n\n    updatedVs = updateVsLines.join('\\n');\n  }\n\n  return {\n    vs: updatedVs,\n    targetTextureType: targetTextureType,\n    inject: finalInject,\n    samplerTextureMap: samplerTextureMap\n  };\n}\nexport function getSizeUniforms(_ref2) {\n  var sourceTextureMap = _ref2.sourceTextureMap,\n      targetTextureVarying = _ref2.targetTextureVarying,\n      targetTexture = _ref2.targetTexture;\n  var uniforms = {};\n  var width;\n  var height;\n\n  if (targetTextureVarying) {\n    width = targetTexture.width;\n    height = targetTexture.height;\n    uniforms[\"\".concat(SIZE_UNIFORM_PREFIX).concat(targetTextureVarying)] = [width, height];\n  }\n\n  for (var textureName in sourceTextureMap) {\n    var _sourceTextureMap$tex = sourceTextureMap[textureName];\n    width = _sourceTextureMap$tex.width;\n    height = _sourceTextureMap$tex.height;\n    uniforms[\"\".concat(SIZE_UNIFORM_PREFIX).concat(textureName)] = [width, height];\n  }\n\n  return uniforms;\n}\n\nfunction getAttributeDefinition(line) {\n  return getQualifierDetails(line, ['attribute', 'in']);\n}\n\nfunction getSamplerDeclerations(textureName) {\n  var samplerName = \"\".concat(SAMPLER_UNIFORM_PREFIX).concat(textureName);\n  var sizeName = \"\".concat(SIZE_UNIFORM_PREFIX).concat(textureName);\n  var uniformDeclerations = \"  uniform sampler2D \".concat(samplerName, \";\\n  uniform vec2 \").concat(sizeName, \";\");\n  return {\n    samplerName: samplerName,\n    sizeName: sizeName,\n    uniformDeclerations: uniformDeclerations\n  };\n}\n\nexport function getVaryingType(line, varying) {\n  var qualaiferDetails = getQualifierDetails(line, ['varying', 'out']);\n\n  if (!qualaiferDetails) {\n    return null;\n  }\n\n  return qualaiferDetails.name === varying ? qualaiferDetails.type : null;\n}\nexport function processAttributeDefinition(line, textureMap) {\n  var samplerTextureMap = {};\n  var attributeData = getAttributeDefinition(line);\n\n  if (!attributeData) {\n    return null;\n  }\n\n  var type = attributeData.type,\n      name = attributeData.name;\n\n  if (name && textureMap[name]) {\n    var updatedLine = \"// \".concat(line, \" => Replaced by Transform with a sampler\");\n\n    var _getSamplerDecleratio = getSamplerDeclerations(name),\n        samplerName = _getSamplerDecleratio.samplerName,\n        sizeName = _getSamplerDecleratio.sizeName,\n        uniformDeclerations = _getSamplerDecleratio.uniformDeclerations;\n\n    var channels = typeToChannelSuffix(type);\n    var sampleInstruction = \"  \".concat(type, \" \").concat(name, \" = transform_getInput(\").concat(samplerName, \", \").concat(sizeName, \").\").concat(channels, \";\\n\");\n    samplerTextureMap[samplerName] = name;\n    var inject = {\n      'vs:#decl': uniformDeclerations,\n      'vs:#main-start': sampleInstruction\n    };\n    return {\n      updatedLine: updatedLine,\n      inject: inject,\n      samplerTextureMap: samplerTextureMap\n    };\n  }\n\n  return null;\n}","var arrayBuffer = null;\nexport function getScratchArrayBuffer(byteLength) {\n  if (!arrayBuffer || arrayBuffer.byteLength < byteLength) {\n    arrayBuffer = new ArrayBuffer(byteLength);\n  }\n\n  return arrayBuffer;\n}\nexport function getScratchArray(Type, length) {\n  var scratchArrayBuffer = getScratchArrayBuffer(Type.BYTES_PER_ELEMENT * length);\n  return new Type(scratchArrayBuffer, 0, length);\n}\nexport function fillArray(_ref) {\n  var target = _ref.target,\n      source = _ref.source,\n      _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 1 : _ref$count;\n  var length = source.length;\n  var total = count * length;\n  var copied = 0;\n\n  for (var i = start; copied < length; copied++) {\n    target[i++] = source[copied];\n  }\n\n  while (copied < total) {\n    if (copied < total - copied) {\n      target.copyWithin(start + copied, start, start + copied);\n      copied *= 2;\n    } else {\n      target.copyWithin(start + copied, start, start + total - copied);\n      copied = total;\n    }\n  }\n\n  return target;\n}","import { window } from './globals';\nimport isBrowser from './is-browser';\nimport isElectron from './is-electron';\nexport function isMobile() {\n  return typeof window.orientation !== 'undefined';\n}\nexport default function getBrowser(mockUserAgent) {\n  if (!mockUserAgent && !isBrowser()) {\n    return 'Node';\n  }\n\n  if (isElectron(mockUserAgent)) {\n    return 'Electron';\n  }\n\n  var navigator_ = typeof navigator !== 'undefined' ? navigator : {};\n  var userAgent = mockUserAgent || navigator_.userAgent || '';\n\n  if (userAgent.indexOf('Edge') > -1) {\n    return 'Edge';\n  }\n\n  var isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  var isTrident = userAgent.indexOf('Trident/') !== -1;\n\n  if (isMSIE || isTrident) {\n    return 'IE';\n  }\n\n  if (window.chrome) {\n    return 'Chrome';\n  }\n\n  if (window.safari) {\n    return 'Safari';\n  }\n\n  if (window.mozInnerScreenX) {\n    return 'Firefox';\n  }\n\n  return 'Unknown';\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Resource from './resource';\nimport Buffer from './buffer';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { getScratchArray, fillArray } from '../utils/array-utils-flat';\nimport { assert } from '../utils/assert';\nimport { getBrowser } from 'probe.gl';\nvar ERR_ELEMENTS = 'elements must be GL.ELEMENT_ARRAY_BUFFER';\n\nvar VertexArrayObject = /*#__PURE__*/function (_Resource) {\n  _inherits(VertexArrayObject, _Resource);\n\n  var _super = _createSuper(VertexArrayObject);\n\n  function VertexArrayObject(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, VertexArrayObject);\n\n    var id = opts.id || opts.program && opts.program.id;\n    _this = _super.call(this, gl, Object.assign({}, opts, {\n      id: id\n    }));\n    _this.buffer = null;\n    _this.bufferValue = null;\n    _this.isDefaultArray = opts.isDefaultArray || false;\n    _this.gl2 = gl;\n\n    _this.initialize(opts);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(VertexArrayObject, [{\n    key: \"delete\",\n    value: function _delete() {\n      _get(_getPrototypeOf(VertexArrayObject.prototype), \"delete\", this).call(this);\n\n      if (this.buffer) {\n        this.buffer.delete();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"MAX_ATTRIBUTES\",\n    get: function get() {\n      return VertexArrayObject.getMaxAttributes(this.gl);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this.setProps(props);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var _this2 = this;\n\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      assert(!elementBuffer || elementBuffer.target === 34963, ERR_ELEMENTS);\n      this.bind(function () {\n        _this2.gl.bindBuffer(34963, elementBuffer ? elementBuffer.handle : null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(location, buffer, accessor) {\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, accessor);\n      }\n\n      var size = accessor.size,\n          type = accessor.type,\n          stride = accessor.stride,\n          offset = accessor.offset,\n          normalized = accessor.normalized,\n          integer = accessor.integer,\n          divisor = accessor.divisor;\n      var gl = this.gl,\n          gl2 = this.gl2;\n      location = Number(location);\n      this.bind(function () {\n        gl.bindBuffer(34962, buffer.handle);\n\n        if (integer) {\n          assert(isWebGL2(gl));\n          gl2.vertexAttribIPointer(location, size, type, stride, offset);\n        } else {\n          gl.vertexAttribPointer(location, size, type, normalized, stride, offset);\n        }\n\n        gl.enableVertexAttribArray(location);\n        gl2.vertexAttribDivisor(location, divisor || 0);\n      });\n      return this;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(location) {\n      var _this3 = this;\n\n      var _enable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var disablingAttributeZero = !_enable && location === 0 && !VertexArrayObject.isSupported(this.gl, {\n        constantAttributeZero: true\n      });\n\n      if (!disablingAttributeZero) {\n        location = Number(location);\n        this.bind(function () {\n          return _enable ? _this3.gl.enableVertexAttribArray(location) : _this3.gl.disableVertexAttribArray(location);\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getConstantBuffer\",\n    value: function getConstantBuffer(elementCount, value) {\n      var constantValue = this._normalizeConstantArrayValue(value);\n\n      var byteLength = constantValue.byteLength * elementCount;\n      var length = constantValue.length * elementCount;\n      var updateNeeded = !this.buffer;\n      this.buffer = this.buffer || new Buffer(this.gl, byteLength);\n      updateNeeded = updateNeeded || this.buffer.reallocate(byteLength);\n      updateNeeded = updateNeeded || !this._compareConstantArrayValues(constantValue, this.bufferValue);\n\n      if (updateNeeded) {\n        var typedArray = getScratchArray(value.constructor, length);\n        fillArray({\n          target: typedArray,\n          source: constantValue,\n          start: 0,\n          count: length\n        });\n        this.buffer.subData(typedArray);\n        this.bufferValue = value;\n      }\n\n      return this.buffer;\n    }\n  }, {\n    key: \"_normalizeConstantArrayValue\",\n    value: function _normalizeConstantArrayValue(arrayValue) {\n      if (Array.isArray(arrayValue)) {\n        return new Float32Array(arrayValue);\n      }\n\n      return arrayValue;\n    }\n  }, {\n    key: \"_compareConstantArrayValues\",\n    value: function _compareConstantArrayValues(v1, v2) {\n      if (!v1 || !v2 || v1.length !== v2.length || v1.constructor !== v2.constructor) {\n        return false;\n      }\n\n      for (var i = 0; i < v1.length; ++i) {\n        if (v1[i] !== v2[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      var gl2 = this.gl;\n      return gl2.createVertexArray();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle(handle) {\n      this.gl2.deleteVertexArray(handle);\n      return [this.elements];\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl2.bindVertexArray(handle);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, _ref) {\n      var _this4 = this;\n\n      var location = _ref.location;\n      assert(Number.isFinite(location));\n      return this.bind(function () {\n        switch (pname) {\n          case 34373:\n            return _this4.gl.getVertexAttribOffset(location, pname);\n\n          default:\n            return _this4.gl.getVertexAttrib(location, pname);\n        }\n      });\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (options.constantAttributeZero) {\n        return isWebGL2(gl) || getBrowser() === 'Chrome';\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getDefaultArray\",\n    value: function getDefaultArray(gl) {\n      gl.luma = gl.luma || {};\n\n      if (!gl.luma.defaultVertexArray) {\n        gl.luma.defaultVertexArray = new VertexArrayObject(gl, {\n          handle: null,\n          isDefaultArray: true\n        });\n      }\n\n      return gl.luma.defaultVertexArray;\n    }\n  }, {\n    key: \"getMaxAttributes\",\n    value: function getMaxAttributes(gl) {\n      VertexArrayObject.MAX_ATTRIBUTES = VertexArrayObject.MAX_ATTRIBUTES || gl.getParameter(34921);\n      return VertexArrayObject.MAX_ATTRIBUTES;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(gl, location, array) {\n      switch (array.constructor) {\n        case Float32Array:\n          VertexArrayObject._setConstantFloatArray(gl, location, array);\n\n          break;\n\n        case Int32Array:\n          VertexArrayObject._setConstantIntArray(gl, location, array);\n\n          break;\n\n        case Uint32Array:\n          VertexArrayObject._setConstantUintArray(gl, location, array);\n\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }, {\n    key: \"_setConstantFloatArray\",\n    value: function _setConstantFloatArray(gl, location, array) {\n      switch (array.length) {\n        case 1:\n          gl.vertexAttrib1fv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttrib2fv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttrib3fv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttrib4fv(location, array);\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }, {\n    key: \"_setConstantIntArray\",\n    value: function _setConstantIntArray(gl, location, array) {\n      assert(isWebGL2(gl));\n\n      switch (array.length) {\n        case 1:\n          gl.vertexAttribI1iv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttribI2iv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttribI3iv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttribI4iv(location, array);\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }, {\n    key: \"_setConstantUintArray\",\n    value: function _setConstantUintArray(gl, location, array) {\n      assert(isWebGL2(gl));\n\n      switch (array.length) {\n        case 1:\n          gl.vertexAttribI1uiv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttribI2uiv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttribI3uiv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttribI4uiv(location, array);\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }]);\n\n  return VertexArrayObject;\n}(Resource);\n\nexport { VertexArrayObject as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { log } from '@luma.gl/gltools';\nimport Accessor from './accessor';\nimport Buffer from './buffer';\nimport VertexArrayObject from './vertex-array-object';\nimport { assert } from '../utils/assert';\nimport { stubRemovedMethods } from '../utils/stub-methods';\nvar ERR_ATTRIBUTE_TYPE = 'VertexArray: attributes must be Buffers or constants (i.e. typed array)';\nvar MULTI_LOCATION_ATTRIBUTE_REGEXP = /^(.+)__LOCATION_([0-9]+)$/;\nvar DEPRECATIONS_V6 = ['setBuffers', 'setGeneric', 'clearBindings', 'setLocations', 'setGenericValues', 'setDivisor', 'enable', 'disable'];\n\nvar VertexArray = /*#__PURE__*/function () {\n  function VertexArray(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, VertexArray);\n\n    var id = opts.id || opts.program && opts.program.id;\n    this.id = id;\n    this.gl = gl;\n    this.configuration = null;\n    this.elements = null;\n    this.elementsAccessor = null;\n    this.values = null;\n    this.accessors = null;\n    this.unused = null;\n    this.drawParams = null;\n    this.buffer = null;\n    this.attributes = {};\n    this.vertexArrayObject = new VertexArrayObject(gl);\n    stubRemovedMethods(this, 'VertexArray', 'v6.0', DEPRECATIONS_V6);\n    this.initialize(opts);\n    Object.seal(this);\n  }\n\n  _createClass(VertexArray, [{\n    key: \"delete\",\n    value: function _delete() {\n      if (this.buffer) {\n        this.buffer.delete();\n      }\n\n      this.vertexArrayObject.delete();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.reset();\n      this.configuration = null;\n      this.bindOnUse = false;\n      return this.setProps(props);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.elements = null;\n      this.elementsAccessor = null;\n      var MAX_ATTRIBUTES = this.vertexArrayObject.MAX_ATTRIBUTES;\n      this.values = new Array(MAX_ATTRIBUTES).fill(null);\n      this.accessors = new Array(MAX_ATTRIBUTES).fill(null);\n      this.unused = {};\n      this.drawParams = null;\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('program' in props) {\n        this.configuration = props.program && props.program.configuration;\n      }\n\n      if ('configuration' in props) {\n        this.configuration = props.configuration;\n      }\n\n      if ('attributes' in props) {\n        this.setAttributes(props.attributes);\n      }\n\n      if ('elements' in props) {\n        this.setElementBuffer(props.elements);\n      }\n\n      if ('bindOnUse' in props) {\n        props = props.bindOnUse;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"clearDrawParams\",\n    value: function clearDrawParams() {\n      this.drawParams = null;\n    }\n  }, {\n    key: \"getDrawParams\",\n    value: function getDrawParams() {\n      this.drawParams = this.drawParams || this._updateDrawParams();\n      return this.drawParams;\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes(attributes) {\n      var _this = this;\n\n      Object.assign(this.attributes, attributes);\n      this.vertexArrayObject.bind(function () {\n        for (var locationOrName in attributes) {\n          var value = attributes[locationOrName];\n\n          _this._setAttribute(locationOrName, value);\n        }\n\n        _this.gl.bindBuffer(34962, null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.elements = elementBuffer;\n      this.elementsAccessor = accessor;\n      this.clearDrawParams();\n      this.vertexArrayObject.setElementBuffer(elementBuffer, accessor);\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(locationOrName, buffer) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, appAccessor);\n      }\n\n      var _this$_resolveLocatio = this._resolveLocationAndAccessor(locationOrName, buffer, buffer.accessor, appAccessor),\n          location = _this$_resolveLocatio.location,\n          accessor = _this$_resolveLocatio.accessor;\n\n      if (location >= 0) {\n        this.values[location] = buffer;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.setBuffer(location, buffer, accessor);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(locationOrName, arrayValue) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _this$_resolveLocatio2 = this._resolveLocationAndAccessor(locationOrName, arrayValue, Object.assign({\n        size: arrayValue.length\n      }, appAccessor)),\n          location = _this$_resolveLocatio2.location,\n          accessor = _this$_resolveLocatio2.accessor;\n\n      if (location >= 0) {\n        arrayValue = this.vertexArrayObject._normalizeConstantArrayValue(arrayValue);\n        this.values[location] = arrayValue;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.enable(location, false);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unbindBuffers\",\n    value: function unbindBuffers() {\n      var _this2 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this2.elements) {\n          _this2.vertexArrayObject.setElementBuffer(null);\n        }\n\n        _this2.buffer = _this2.buffer || new Buffer(_this2.gl, {\n          accessor: {\n            size: 4\n          }\n        });\n\n        for (var location = 0; location < _this2.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          if (_this2.values[location] instanceof Buffer) {\n            _this2.gl.disableVertexAttribArray(location);\n\n            _this2.gl.bindBuffer(34962, _this2.buffer.handle);\n\n            _this2.gl.vertexAttribPointer(location, 1, 5126, false, 0, 0);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindBuffers\",\n    value: function bindBuffers() {\n      var _this3 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this3.elements) {\n          _this3.setElementBuffer(_this3.elements);\n        }\n\n        for (var location = 0; location < _this3.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          var buffer = _this3.values[location];\n\n          if (buffer instanceof Buffer) {\n            _this3.setBuffer(location, buffer);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindForDraw\",\n    value: function bindForDraw(vertexCount, instanceCount, func) {\n      var _this4 = this;\n\n      var value;\n      this.vertexArrayObject.bind(function () {\n        _this4._setConstantAttributes(vertexCount, instanceCount);\n\n        value = func();\n      });\n      return value;\n    }\n  }, {\n    key: \"_resolveLocationAndAccessor\",\n    value: function _resolveLocationAndAccessor(locationOrName, value, valueAccessor, appAccessor) {\n      var _this5 = this;\n\n      var INVALID_RESULT = {\n        location: -1,\n        accessor: null\n      };\n\n      var _this$_getAttributeIn = this._getAttributeIndex(locationOrName),\n          location = _this$_getAttributeIn.location,\n          name = _this$_getAttributeIn.name;\n\n      if (!Number.isFinite(location) || location < 0) {\n        this.unused[locationOrName] = value;\n        log.once(3, function () {\n          return \"unused value \".concat(locationOrName, \" in \").concat(_this5.id);\n        })();\n        return INVALID_RESULT;\n      }\n\n      var accessInfo = this._getAttributeInfo(name || location);\n\n      if (!accessInfo) {\n        return INVALID_RESULT;\n      }\n\n      var currentAccessor = this.accessors[location] || {};\n      var accessor = Accessor.resolve(accessInfo.accessor, currentAccessor, valueAccessor, appAccessor);\n      var size = accessor.size,\n          type = accessor.type;\n      assert(Number.isFinite(size) && Number.isFinite(type));\n      return {\n        location: location,\n        accessor: accessor\n      };\n    }\n  }, {\n    key: \"_getAttributeInfo\",\n    value: function _getAttributeInfo(attributeName) {\n      return this.configuration && this.configuration.getAttributeInfo(attributeName);\n    }\n  }, {\n    key: \"_getAttributeIndex\",\n    value: function _getAttributeIndex(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return {\n          location: location\n        };\n      }\n\n      var multiLocation = MULTI_LOCATION_ATTRIBUTE_REGEXP.exec(locationOrName);\n      var name = multiLocation ? multiLocation[1] : locationOrName;\n      var locationOffset = multiLocation ? Number(multiLocation[2]) : 0;\n\n      if (this.configuration) {\n        return {\n          location: this.configuration.getAttributeLocation(name) + locationOffset,\n          name: name\n        };\n      }\n\n      return {\n        location: -1\n      };\n    }\n  }, {\n    key: \"_setAttribute\",\n    value: function _setAttribute(locationOrName, value) {\n      if (value instanceof Buffer) {\n        this.setBuffer(locationOrName, value);\n      } else if (Array.isArray(value) && value.length && value[0] instanceof Buffer) {\n        var buffer = value[0];\n        var accessor = value[1];\n        this.setBuffer(locationOrName, buffer, accessor);\n      } else if (ArrayBuffer.isView(value) || Array.isArray(value)) {\n        var constant = value;\n        this.setConstant(locationOrName, constant);\n      } else if (value.buffer instanceof Buffer) {\n        var _accessor = value;\n        this.setBuffer(locationOrName, _accessor.buffer, _accessor);\n      } else {\n        throw new Error(ERR_ATTRIBUTE_TYPE);\n      }\n    }\n  }, {\n    key: \"_setConstantAttributes\",\n    value: function _setConstantAttributes(vertexCount, instanceCount) {\n      var elementCount = Math.max(vertexCount | 0, instanceCount | 0);\n      var constant = this.values[0];\n\n      if (ArrayBuffer.isView(constant)) {\n        this._setConstantAttributeZero(constant, elementCount);\n      }\n\n      for (var location = 1; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        constant = this.values[location];\n\n        if (ArrayBuffer.isView(constant)) {\n          this._setConstantAttribute(location, constant);\n        }\n      }\n    }\n  }, {\n    key: \"_setConstantAttributeZero\",\n    value: function _setConstantAttributeZero(constant, elementCount) {\n      if (VertexArrayObject.isSupported(this.gl, {\n        constantAttributeZero: true\n      })) {\n        this._setConstantAttribute(0, constant);\n\n        return;\n      }\n\n      var buffer = this.vertexArrayObject.getConstantBuffer(elementCount, constant);\n      this.vertexArrayObject.setBuffer(0, buffer, this.accessors[0]);\n    }\n  }, {\n    key: \"_setConstantAttribute\",\n    value: function _setConstantAttribute(location, constant) {\n      VertexArrayObject.setConstant(this.gl, location, constant);\n    }\n  }, {\n    key: \"_updateDrawParams\",\n    value: function _updateDrawParams() {\n      var drawParams = {\n        isIndexed: false,\n        isInstanced: false,\n        indexCount: Infinity,\n        vertexCount: Infinity,\n        instanceCount: Infinity\n      };\n\n      for (var location = 0; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        this._updateDrawParamsForLocation(drawParams, location);\n      }\n\n      if (this.elements) {\n        drawParams.elementCount = this.elements.getElementCount(this.elements.accessor);\n        drawParams.isIndexed = true;\n        drawParams.indexType = this.elementsAccessor.type || this.elements.accessor.type;\n        drawParams.indexOffset = this.elementsAccessor.offset || 0;\n      }\n\n      if (drawParams.indexCount === Infinity) {\n        drawParams.indexCount = 0;\n      }\n\n      if (drawParams.vertexCount === Infinity) {\n        drawParams.vertexCount = 0;\n      }\n\n      if (drawParams.instanceCount === Infinity) {\n        drawParams.instanceCount = 0;\n      }\n\n      return drawParams;\n    }\n  }, {\n    key: \"_updateDrawParamsForLocation\",\n    value: function _updateDrawParamsForLocation(drawParams, location) {\n      var value = this.values[location];\n      var accessor = this.accessors[location];\n\n      if (!value) {\n        return;\n      }\n\n      var divisor = accessor.divisor;\n      var isInstanced = divisor > 0;\n      drawParams.isInstanced = drawParams.isInstanced || isInstanced;\n\n      if (value instanceof Buffer) {\n        var buffer = value;\n\n        if (isInstanced) {\n          var instanceCount = buffer.getVertexCount(accessor);\n          drawParams.instanceCount = Math.min(drawParams.instanceCount, instanceCount);\n        } else {\n          var vertexCount = buffer.getVertexCount(accessor);\n          drawParams.vertexCount = Math.min(drawParams.vertexCount, vertexCount);\n        }\n      }\n    }\n  }, {\n    key: \"setElements\",\n    value: function setElements() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      log.deprecated('setElements', 'setElementBuffer')();\n      return this.setElementBuffer(elementBuffer, accessor);\n    }\n  }]);\n\n  return VertexArray;\n}();\n\nexport { VertexArray as default };","function formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport Buffer from '../classes/buffer';\nimport { getKey } from '../webgl-utils/constants-to-keys';\nimport { getCompositeGLType } from '../webgl-utils/attribute-utils';\nimport { formatValue } from '../utils/format-value';\nexport function getDebugTableForVertexArray(_ref) {\n  var vertexArray = _ref.vertexArray,\n      _ref$header = _ref.header,\n      header = _ref$header === void 0 ? 'Attributes' : _ref$header;\n\n  if (!vertexArray.configuration) {\n    return {};\n  }\n\n  var table = {};\n\n  if (vertexArray.elements) {\n    table.ELEMENT_ARRAY_BUFFER = getDebugTableRow(vertexArray, vertexArray.elements, null, header);\n  }\n\n  var attributes = vertexArray.values;\n\n  for (var attributeLocation in attributes) {\n    var info = vertexArray._getAttributeInfo(attributeLocation);\n\n    if (info) {\n      var rowHeader = \"\".concat(attributeLocation, \": \").concat(info.name);\n      var accessor = vertexArray.accessors[info.location];\n\n      if (accessor) {\n        rowHeader = \"\".concat(attributeLocation, \": \").concat(getGLSLDeclaration(info.name, accessor));\n      }\n\n      table[rowHeader] = getDebugTableRow(vertexArray, attributes[attributeLocation], accessor, header);\n    }\n  }\n\n  return table;\n}\n\nfunction getDebugTableRow(vertexArray, attribute, accessor, header) {\n  var _ref4;\n\n  var gl = vertexArray.gl;\n\n  if (!attribute) {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, header, 'null'), _defineProperty(_ref2, 'Format ', 'N/A'), _ref2;\n  }\n\n  var type = 'NOT PROVIDED';\n  var size = 1;\n  var verts = 0;\n  var bytes = 0;\n  var isInteger;\n  var marker;\n  var value;\n\n  if (accessor) {\n    type = accessor.type;\n    size = accessor.size;\n    type = String(type).replace('Array', '');\n    isInteger = type.indexOf('nt') !== -1;\n  }\n\n  if (attribute instanceof Buffer) {\n    var _ref3;\n\n    var buffer = attribute;\n\n    var _buffer$getDebugData = buffer.getDebugData(),\n        data = _buffer$getDebugData.data,\n        changed = _buffer$getDebugData.changed;\n\n    marker = changed ? '*' : '';\n    value = data;\n    bytes = buffer.byteLength;\n    verts = bytes / data.BYTES_PER_ELEMENT / size;\n    var format;\n\n    if (accessor) {\n      var instanced = accessor.divisor > 0;\n      format = \"\".concat(instanced ? 'I ' : 'P ', \" \").concat(verts, \" (x\").concat(size, \"=\").concat(bytes, \" bytes \").concat(getKey(gl, type), \")\");\n    } else {\n      isInteger = true;\n      format = \"\".concat(bytes, \" bytes\");\n    }\n\n    return _ref3 = {}, _defineProperty(_ref3, header, \"\".concat(marker).concat(formatValue(value, {\n      size: size,\n      isInteger: isInteger\n    }))), _defineProperty(_ref3, 'Format ', format), _ref3;\n  }\n\n  value = attribute;\n  size = attribute.length;\n  type = String(attribute.constructor.name).replace('Array', '');\n  isInteger = type.indexOf('nt') !== -1;\n  return _ref4 = {}, _defineProperty(_ref4, header, \"\".concat(formatValue(value, {\n    size: size,\n    isInteger: isInteger\n  }), \" (constant)\")), _defineProperty(_ref4, 'Format ', \"\".concat(size, \"x\").concat(type, \" (constant)\")), _ref4;\n}\n\nfunction getGLSLDeclaration(name, accessor) {\n  var type = accessor.type,\n      size = accessor.size;\n  var typeAndName = getCompositeGLType(type, size);\n  return typeAndName ? \"\".concat(name, \" (\").concat(typeAndName.name, \")\") : name;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { assert } from '../utils/assert';\nimport { formatValue } from '../utils/format-value';\nexport function getDebugTableForUniforms(_ref) {\n  var _ref$header = _ref.header,\n      header = _ref$header === void 0 ? 'Uniforms' : _ref$header,\n      program = _ref.program,\n      uniforms = _ref.uniforms,\n      _ref$undefinedOnly = _ref.undefinedOnly,\n      undefinedOnly = _ref$undefinedOnly === void 0 ? false : _ref$undefinedOnly;\n  assert(program);\n  var SHADER_MODULE_UNIFORM_REGEXP = '.*_.*';\n  var PROJECT_MODULE_UNIFORM_REGEXP = '.*Matrix';\n  var uniformLocations = program._uniformSetters;\n  var table = {};\n  var uniformNames = Object.keys(uniformLocations).sort();\n  var count = 0;\n\n  var _iterator = _createForOfIteratorHelper(uniformNames),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _uniformName = _step.value;\n\n      if (!_uniformName.match(SHADER_MODULE_UNIFORM_REGEXP) && !_uniformName.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(uniformNames),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _uniformName2 = _step2.value;\n\n      if (_uniformName2.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName2,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  var _iterator3 = _createForOfIteratorHelper(uniformNames),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var _uniformName3 = _step3.value;\n\n      if (!table[_uniformName3]) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName3,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  var unusedCount = 0;\n  var unusedTable = {};\n\n  if (!undefinedOnly) {\n    for (var uniformName in uniforms) {\n      var uniform = uniforms[uniformName];\n\n      if (!table[uniformName]) {\n        unusedCount++;\n        unusedTable[uniformName] = _defineProperty({\n          Type: \"NOT USED: \".concat(uniform)\n        }, header, formatValue(uniform));\n      }\n    }\n  }\n\n  return {\n    table: table,\n    count: count,\n    unusedTable: unusedTable,\n    unusedCount: unusedCount\n  };\n}\n\nfunction addUniformToTable(_ref2) {\n  var table = _ref2.table,\n      header = _ref2.header,\n      uniforms = _ref2.uniforms,\n      uniformName = _ref2.uniformName,\n      undefinedOnly = _ref2.undefinedOnly;\n  var value = uniforms[uniformName];\n  var isDefined = isUniformDefined(value);\n\n  if (!undefinedOnly || !isDefined) {\n    var _table$uniformName;\n\n    table[uniformName] = (_table$uniformName = {}, _defineProperty(_table$uniformName, header, isDefined ? formatValue(value) : 'N/A'), _defineProperty(_table$uniformName, 'Uniform Type', isDefined ? value : 'NOT PROVIDED'), _table$uniformName);\n    return true;\n  }\n\n  return false;\n}\n\nfunction isUniformDefined(value) {\n  return value !== undefined && value !== null;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getCompositeGLType } from '../webgl-utils/attribute-utils';\nexport function getDebugTableForProgramConfiguration(config) {\n  var table = {};\n  var header = \"Accessors for \".concat(config.id);\n\n  var _iterator = _createForOfIteratorHelper(config.attributeInfos),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var attributeInfo = _step.value;\n\n      if (attributeInfo) {\n        var glslDeclaration = getGLSLDeclaration(attributeInfo);\n        table[\"in \".concat(glslDeclaration)] = _defineProperty({}, header, JSON.stringify(attributeInfo.accessor));\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(config.varyingInfos),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var varyingInfo = _step2.value;\n\n      if (varyingInfo) {\n        var _glslDeclaration = getGLSLDeclaration(varyingInfo);\n\n        table[\"out \".concat(_glslDeclaration)] = _defineProperty({}, header, JSON.stringify(varyingInfo.accessor));\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return table;\n}\n\nfunction getGLSLDeclaration(attributeInfo) {\n  var _attributeInfo$access = attributeInfo.accessor,\n      type = _attributeInfo$access.type,\n      size = _attributeInfo$access.size;\n  var typeAndName = getCompositeGLType(type, size);\n\n  if (typeAndName) {\n    return \"\".concat(typeAndName.name, \" \").concat(attributeInfo.name);\n  }\n\n  return attributeInfo.name;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Buffer, assert } from '@luma.gl/webgl';\nvar GLTF_TO_LUMA_ATTRIBUTE_MAP = {\n  POSITION: 'positions',\n  NORMAL: 'normals',\n  COLOR_0: 'colors',\n  TEXCOORD_0: 'texCoords',\n  TEXCOORD_1: 'texCoords1',\n  TEXCOORD_2: 'texCoords2'\n};\nexport function getBuffersFromGeometry(gl, geometry, options) {\n  var buffers = {};\n  var indices = geometry.indices;\n\n  for (var name in geometry.attributes) {\n    var attribute = geometry.attributes[name];\n    var remappedName = mapAttributeName(name, options);\n\n    if (name === 'indices') {\n      indices = attribute;\n    } else if (attribute.constant) {\n      buffers[remappedName] = attribute.value;\n    } else {\n      var typedArray = attribute.value;\n\n      var accessor = _objectSpread({}, attribute);\n\n      delete accessor.value;\n      buffers[remappedName] = [new Buffer(gl, typedArray), accessor];\n      inferAttributeAccessor(name, accessor);\n    }\n  }\n\n  if (indices) {\n    var data = indices.value || indices;\n    assert(data instanceof Uint16Array || data instanceof Uint32Array, 'attribute array for \"indices\" must be of integer type');\n    var _accessor = {\n      size: 1,\n      isIndexed: indices.isIndexed === undefined ? true : indices.isIndexed\n    };\n    buffers.indices = [new Buffer(gl, {\n      data: data,\n      target: 34963\n    }), _accessor];\n  }\n\n  return buffers;\n}\n\nfunction mapAttributeName(name, options) {\n  var _ref = options || {},\n      _ref$attributeMap = _ref.attributeMap,\n      attributeMap = _ref$attributeMap === void 0 ? GLTF_TO_LUMA_ATTRIBUTE_MAP : _ref$attributeMap;\n\n  return attributeMap && attributeMap[name] || name;\n}\n\nexport function inferAttributeAccessor(attributeName, attribute) {\n  var category;\n\n  switch (attributeName) {\n    case 'texCoords':\n    case 'texCoord1':\n    case 'texCoord2':\n    case 'texCoord3':\n      category = 'uvs';\n      break;\n\n    case 'vertices':\n    case 'positions':\n    case 'normals':\n    case 'pickingColors':\n      category = 'vectors';\n      break;\n\n    default:\n  }\n\n  switch (category) {\n    case 'vectors':\n      attribute.size = attribute.size || 3;\n      break;\n\n    case 'uvs':\n      attribute.size = attribute.size || 2;\n      break;\n\n    default:\n  }\n\n  assert(Number.isFinite(attribute.size), \"attribute \".concat(attributeName, \" needs size\"));\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { isWebGL } from '@luma.gl/gltools';\nimport ProgramManager from './program-manager';\nimport { Program, VertexArray, clear as _clear, TransformFeedback, Buffer, log, isObjectEmpty, uid, assert } from '@luma.gl/webgl';\nimport { getDebugTableForUniforms, getDebugTableForVertexArray, getDebugTableForProgramConfiguration } from '@luma.gl/webgl';\nimport { getBuffersFromGeometry } from './model-utils';\nvar LOG_DRAW_PRIORITY = 2;\nvar LOG_DRAW_TIMEOUT = 10000;\nvar ERR_MODEL_PARAMS = 'Model needs drawMode and vertexCount';\n\nvar NOOP = function NOOP() {};\n\nvar DRAW_PARAMS = {};\n\nvar Model = /*#__PURE__*/function () {\n  function Model(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Model);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? uid('model') : _props$id;\n    assert(isWebGL(gl));\n    this.id = id;\n    this.gl = gl;\n    this.id = props.id || uid('Model');\n    this.lastLogTime = 0;\n    this.animated = false;\n    this.initialize(props);\n  }\n\n  _createClass(Model, [{\n    key: \"initialize\",\n    value: function initialize(props) {\n      this.props = {};\n      this.programManager = props.programManager || ProgramManager.getDefaultProgramManager(this.gl);\n      this._programManagerState = -1;\n      this._managedProgram = false;\n      var _props$program = props.program,\n          program = _props$program === void 0 ? null : _props$program,\n          vs = props.vs,\n          fs = props.fs,\n          modules = props.modules,\n          defines = props.defines,\n          inject = props.inject,\n          varyings = props.varyings,\n          bufferMode = props.bufferMode,\n          transpileToGLSL100 = props.transpileToGLSL100;\n      this.programProps = {\n        program: program,\n        vs: vs,\n        fs: fs,\n        modules: modules,\n        defines: defines,\n        inject: inject,\n        varyings: varyings,\n        bufferMode: bufferMode,\n        transpileToGLSL100: transpileToGLSL100\n      };\n      this.program = null;\n      this.vertexArray = null;\n      this._programDirty = true;\n      this.userData = {};\n      this.needsRedraw = true;\n      this._attributes = {};\n      this.attributes = {};\n      this.uniforms = {};\n      this.pickable = true;\n\n      this._checkProgram();\n\n      this.setUniforms(Object.assign({}, this.getModuleUniforms(props.moduleSettings)));\n      this.drawMode = props.drawMode !== undefined ? props.drawMode : 4;\n      this.vertexCount = props.vertexCount || 0;\n      this.geometryBuffers = {};\n      this.isInstanced = props.isInstanced || props.instanced || props.instanceCount > 0;\n\n      this._setModelProps(props);\n\n      this.geometry = {};\n      assert(this.drawMode !== undefined && Number.isFinite(this.vertexCount), ERR_MODEL_PARAMS);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._setModelProps(props);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      for (var key in this._attributes) {\n        if (this._attributes[key] !== this.attributes[key]) {\n          this._attributes[key].delete();\n        }\n      }\n\n      if (this._managedProgram) {\n        this.programManager.release(this.program);\n        this._managedProgram = false;\n      }\n\n      this.vertexArray.delete();\n\n      this._deleteGeometryBuffers();\n    }\n  }, {\n    key: \"getDrawMode\",\n    value: function getDrawMode() {\n      return this.drawMode;\n    }\n  }, {\n    key: \"getVertexCount\",\n    value: function getVertexCount() {\n      return this.vertexCount;\n    }\n  }, {\n    key: \"getInstanceCount\",\n    value: function getInstanceCount() {\n      return this.instanceCount;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.attributes;\n    }\n  }, {\n    key: \"getProgram\",\n    value: function getProgram() {\n      return this.program;\n    }\n  }, {\n    key: \"setProgram\",\n    value: function setProgram(props) {\n      var program = props.program,\n          vs = props.vs,\n          fs = props.fs,\n          modules = props.modules,\n          defines = props.defines,\n          inject = props.inject,\n          varyings = props.varyings,\n          bufferMode = props.bufferMode,\n          transpileToGLSL100 = props.transpileToGLSL100;\n      this.programProps = {\n        program: program,\n        vs: vs,\n        fs: fs,\n        modules: modules,\n        defines: defines,\n        inject: inject,\n        varyings: varyings,\n        bufferMode: bufferMode,\n        transpileToGLSL100: transpileToGLSL100\n      };\n      this._programDirty = true;\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms() {\n      return this.uniforms;\n    }\n  }, {\n    key: \"setDrawMode\",\n    value: function setDrawMode(drawMode) {\n      this.drawMode = drawMode;\n      return this;\n    }\n  }, {\n    key: \"setVertexCount\",\n    value: function setVertexCount(vertexCount) {\n      assert(Number.isFinite(vertexCount));\n      this.vertexCount = vertexCount;\n      return this;\n    }\n  }, {\n    key: \"setInstanceCount\",\n    value: function setInstanceCount(instanceCount) {\n      assert(Number.isFinite(instanceCount));\n      this.instanceCount = instanceCount;\n      return this;\n    }\n  }, {\n    key: \"setGeometry\",\n    value: function setGeometry(geometry) {\n      this.drawMode = geometry.drawMode;\n      this.vertexCount = geometry.getVertexCount();\n\n      this._deleteGeometryBuffers();\n\n      this.geometryBuffers = getBuffersFromGeometry(this.gl, geometry);\n      this.vertexArray.setAttributes(this.geometryBuffers);\n      return this;\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes() {\n      var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (isObjectEmpty(attributes)) {\n        return this;\n      }\n\n      var normalizedAttributes = {};\n\n      for (var name in attributes) {\n        var attribute = attributes[name];\n        normalizedAttributes[name] = attribute.getValue ? attribute.getValue() : attribute;\n      }\n\n      this.vertexArray.setAttributes(normalizedAttributes);\n      return this;\n    }\n  }, {\n    key: \"setUniforms\",\n    value: function setUniforms() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.assign(this.uniforms, uniforms);\n      return this;\n    }\n  }, {\n    key: \"getModuleUniforms\",\n    value: function getModuleUniforms(opts) {\n      this._checkProgram();\n\n      var getUniforms = this.programManager.getUniforms(this.program);\n\n      if (getUniforms) {\n        return getUniforms(opts);\n      }\n\n      return {};\n    }\n  }, {\n    key: \"updateModuleSettings\",\n    value: function updateModuleSettings(opts) {\n      var uniforms = this.getModuleUniforms(opts || {});\n      return this.setUniforms(uniforms);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(opts) {\n      _clear(this.program.gl, opts);\n\n      return this;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._checkProgram();\n\n      var _opts$moduleSettings = opts.moduleSettings,\n          moduleSettings = _opts$moduleSettings === void 0 ? null : _opts$moduleSettings,\n          framebuffer = opts.framebuffer,\n          _opts$uniforms = opts.uniforms,\n          uniforms = _opts$uniforms === void 0 ? {} : _opts$uniforms,\n          _opts$attributes = opts.attributes,\n          attributes = _opts$attributes === void 0 ? {} : _opts$attributes,\n          _opts$transformFeedba = opts.transformFeedback,\n          transformFeedback = _opts$transformFeedba === void 0 ? this.transformFeedback : _opts$transformFeedba,\n          _opts$parameters = opts.parameters,\n          parameters = _opts$parameters === void 0 ? {} : _opts$parameters,\n          _opts$vertexArray = opts.vertexArray,\n          vertexArray = _opts$vertexArray === void 0 ? this.vertexArray : _opts$vertexArray;\n      this.setAttributes(attributes);\n      this.updateModuleSettings(moduleSettings);\n      this.setUniforms(uniforms);\n      var logPriority;\n\n      if (log.priority >= LOG_DRAW_PRIORITY) {\n        logPriority = this._logDrawCallStart(LOG_DRAW_PRIORITY);\n      }\n\n      var drawParams = this.vertexArray.getDrawParams();\n      var _this$props = this.props,\n          _this$props$isIndexed = _this$props.isIndexed,\n          isIndexed = _this$props$isIndexed === void 0 ? drawParams.isIndexed : _this$props$isIndexed,\n          _this$props$indexType = _this$props.indexType,\n          indexType = _this$props$indexType === void 0 ? drawParams.indexType : _this$props$indexType,\n          _this$props$indexOffs = _this$props.indexOffset,\n          indexOffset = _this$props$indexOffs === void 0 ? drawParams.indexOffset : _this$props$indexOffs,\n          _this$props$vertexArr = _this$props.vertexArrayInstanced,\n          vertexArrayInstanced = _this$props$vertexArr === void 0 ? drawParams.isInstanced : _this$props$vertexArr;\n\n      if (vertexArrayInstanced && !this.isInstanced) {\n        log.warn('Found instanced attributes on non-instanced model', this.id)();\n      }\n\n      var isInstanced = this.isInstanced,\n          instanceCount = this.instanceCount;\n      var _this$props2 = this.props,\n          _this$props2$onBefore = _this$props2.onBeforeRender,\n          onBeforeRender = _this$props2$onBefore === void 0 ? NOOP : _this$props2$onBefore,\n          _this$props2$onAfterR = _this$props2.onAfterRender,\n          onAfterRender = _this$props2$onAfterR === void 0 ? NOOP : _this$props2$onAfterR;\n      onBeforeRender();\n      this.program.setUniforms(this.uniforms);\n      var didDraw = this.program.draw(Object.assign(DRAW_PARAMS, opts, {\n        logPriority: logPriority,\n        uniforms: null,\n        framebuffer: framebuffer,\n        parameters: parameters,\n        drawMode: this.getDrawMode(),\n        vertexCount: this.getVertexCount(),\n        vertexArray: vertexArray,\n        transformFeedback: transformFeedback,\n        isIndexed: isIndexed,\n        indexType: indexType,\n        isInstanced: isInstanced,\n        instanceCount: instanceCount,\n        offset: isIndexed ? indexOffset : 0\n      }));\n      onAfterRender();\n\n      if (log.priority >= LOG_DRAW_PRIORITY) {\n        this._logDrawCallEnd(logPriority, vertexArray, framebuffer);\n      }\n\n      return didDraw;\n    }\n  }, {\n    key: \"transform\",\n    value: function transform() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$discard = opts.discard,\n          discard = _opts$discard === void 0 ? true : _opts$discard,\n          feedbackBuffers = opts.feedbackBuffers,\n          _opts$unbindModels = opts.unbindModels,\n          unbindModels = _opts$unbindModels === void 0 ? [] : _opts$unbindModels;\n      var parameters = opts.parameters;\n\n      if (feedbackBuffers) {\n        this._setFeedbackBuffers(feedbackBuffers);\n      }\n\n      if (discard) {\n        parameters = Object.assign({}, parameters, _defineProperty({}, 35977, discard));\n      }\n\n      unbindModels.forEach(function (model) {\n        return model.vertexArray.unbindBuffers();\n      });\n\n      try {\n        this.draw(Object.assign({}, opts, {\n          parameters: parameters\n        }));\n      } finally {\n        unbindModels.forEach(function (model) {\n          return model.vertexArray.bindBuffers();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      log.warn('Model.render() is deprecated. Use Model.setUniforms() and Model.draw()')();\n      return this.setUniforms(uniforms).draw();\n    }\n  }, {\n    key: \"_setModelProps\",\n    value: function _setModelProps(props) {\n      Object.assign(this.props, props);\n\n      if ('uniforms' in props) {\n        this.setUniforms(props.uniforms);\n      }\n\n      if ('pickable' in props) {\n        this.pickable = props.pickable;\n      }\n\n      if ('instanceCount' in props) {\n        this.instanceCount = props.instanceCount;\n      }\n\n      if ('geometry' in props) {\n        this.setGeometry(props.geometry);\n      }\n\n      if ('attributes' in props) {\n        this.setAttributes(props.attributes);\n      }\n\n      if ('_feedbackBuffers' in props) {\n        this._setFeedbackBuffers(props._feedbackBuffers);\n      }\n    }\n  }, {\n    key: \"_checkProgram\",\n    value: function _checkProgram() {\n      var needsUpdate = this._programDirty || this.programManager.stateHash !== this._programManagerState;\n\n      if (!needsUpdate) {\n        return;\n      }\n\n      var program = this.programProps.program;\n\n      if (program) {\n        this._managedProgram = false;\n      } else {\n        var _this$programProps = this.programProps,\n            vs = _this$programProps.vs,\n            fs = _this$programProps.fs,\n            modules = _this$programProps.modules,\n            inject = _this$programProps.inject,\n            defines = _this$programProps.defines,\n            varyings = _this$programProps.varyings,\n            bufferMode = _this$programProps.bufferMode,\n            transpileToGLSL100 = _this$programProps.transpileToGLSL100;\n        program = this.programManager.get({\n          vs: vs,\n          fs: fs,\n          modules: modules,\n          inject: inject,\n          defines: defines,\n          varyings: varyings,\n          bufferMode: bufferMode,\n          transpileToGLSL100: transpileToGLSL100\n        });\n\n        if (this.program && this._managedProgram) {\n          this.programManager.release(this.program);\n        }\n\n        this._programManagerState = this.programManager.stateHash;\n        this._managedProgram = true;\n      }\n\n      assert(program instanceof Program, 'Model needs a program');\n      this._programDirty = false;\n\n      if (program === this.program) {\n        return;\n      }\n\n      this.program = program;\n\n      if (this.vertexArray) {\n        this.vertexArray.setProps({\n          program: this.program,\n          attributes: this.vertexArray.attributes\n        });\n      } else {\n        this.vertexArray = new VertexArray(this.gl, {\n          program: this.program\n        });\n      }\n\n      this.setUniforms(Object.assign({}, this.getModuleUniforms()));\n    }\n  }, {\n    key: \"_deleteGeometryBuffers\",\n    value: function _deleteGeometryBuffers() {\n      for (var name in this.geometryBuffers) {\n        var buffer = this.geometryBuffers[name][0] || this.geometryBuffers[name];\n\n        if (buffer instanceof Buffer) {\n          buffer.delete();\n        }\n      }\n    }\n  }, {\n    key: \"_setAnimationProps\",\n    value: function _setAnimationProps(animationProps) {\n      if (this.animated) {\n        assert(animationProps, 'Model.draw(): animated uniforms but no animationProps');\n      }\n    }\n  }, {\n    key: \"_setFeedbackBuffers\",\n    value: function _setFeedbackBuffers() {\n      var feedbackBuffers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (isObjectEmpty(feedbackBuffers)) {\n        return this;\n      }\n\n      var gl = this.program.gl;\n      this.transformFeedback = this.transformFeedback || new TransformFeedback(gl, {\n        program: this.program\n      });\n      this.transformFeedback.setBuffers(feedbackBuffers);\n      return this;\n    }\n  }, {\n    key: \"_logDrawCallStart\",\n    value: function _logDrawCallStart(logLevel) {\n      var logDrawTimeout = logLevel > 3 ? 0 : LOG_DRAW_TIMEOUT;\n\n      if (Date.now() - this.lastLogTime < logDrawTimeout) {\n        return undefined;\n      }\n\n      this.lastLogTime = Date.now();\n      log.group(LOG_DRAW_PRIORITY, \">>> DRAWING MODEL \".concat(this.id), {\n        collapsed: log.level <= 2\n      })();\n      return logLevel;\n    }\n  }, {\n    key: \"_logDrawCallEnd\",\n    value: function _logDrawCallEnd(logLevel, vertexArray, uniforms, framebuffer) {\n      if (logLevel === undefined) {\n        return;\n      }\n\n      var attributeTable = getDebugTableForVertexArray({\n        vertexArray: vertexArray,\n        header: \"\".concat(this.id, \" attributes\"),\n        attributes: this._attributes\n      });\n\n      var _getDebugTableForUnif = getDebugTableForUniforms({\n        header: \"\".concat(this.id, \" uniforms\"),\n        program: this.program,\n        uniforms: Object.assign({}, this.program.uniforms, uniforms)\n      }),\n          uniformTable = _getDebugTableForUnif.table,\n          unusedTable = _getDebugTableForUnif.unusedTable,\n          unusedCount = _getDebugTableForUnif.unusedCount;\n\n      var _getDebugTableForUnif2 = getDebugTableForUniforms({\n        header: \"\".concat(this.id, \" uniforms\"),\n        program: this.program,\n        uniforms: Object.assign({}, this.program.uniforms, uniforms),\n        undefinedOnly: true\n      }),\n          missingTable = _getDebugTableForUnif2.table,\n          missingCount = _getDebugTableForUnif2.count;\n\n      if (missingCount > 0) {\n        log.log('MISSING UNIFORMS', Object.keys(missingTable))();\n      }\n\n      if (unusedCount > 0) {\n        log.log('UNUSED UNIFORMS', Object.keys(unusedTable))();\n      }\n\n      var configTable = getDebugTableForProgramConfiguration(this.vertexArray.configuration);\n      log.table(logLevel, attributeTable)();\n      log.table(logLevel, uniformTable)();\n      log.table(logLevel + 1, configTable)();\n\n      if (framebuffer) {\n        framebuffer.log({\n          logLevel: LOG_DRAW_PRIORITY,\n          message: \"Rendered to \".concat(framebuffer.id)\n        });\n      }\n\n      log.groupEnd(LOG_DRAW_PRIORITY, \">>> DRAWING MODEL \".concat(this.id))();\n    }\n  }]);\n\n  return Model;\n}();\n\nexport { Model as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getPassthroughFS } from '@luma.gl/shadertools';\nimport BufferTransform from './buffer-transform';\nimport TextureTransform from './texture-transform';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { assert, isObjectEmpty, getShaderVersion } from '@luma.gl/webgl';\nimport Model from '../lib/model';\n\nvar Transform = /*#__PURE__*/function () {\n  function Transform(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Transform);\n\n    this.gl = gl;\n    this.model = null;\n    this.elementCount = 0;\n    this.bufferTransform = null;\n    this.textureTransform = null;\n    this.elementIDBuffer = null;\n\n    this._initialize(props);\n\n    Object.seal(this);\n  }\n\n  _createClass(Transform, [{\n    key: \"delete\",\n    value: function _delete() {\n      var model = this.model,\n          bufferTransform = this.bufferTransform,\n          textureTransform = this.textureTransform;\n\n      if (model) {\n        model.delete();\n      }\n\n      if (bufferTransform) {\n        bufferTransform.delete();\n      }\n\n      if (textureTransform) {\n        textureTransform.delete();\n      }\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$clearRenderTarg = opts.clearRenderTarget,\n          clearRenderTarget = _opts$clearRenderTarg === void 0 ? true : _opts$clearRenderTarg;\n\n      var updatedOpts = this._updateDrawOptions(opts);\n\n      if (clearRenderTarget && updatedOpts.framebuffer) {\n        updatedOpts.framebuffer.clear({\n          color: true\n        });\n      }\n\n      this.model.transform(updatedOpts);\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      var swapped = false;\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n\n      var _iterator = _createForOfIteratorHelper(resourceTransforms),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var resourceTransform = _step.value;\n          swapped = swapped || resourceTransform.swap();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      assert(swapped, 'Nothing to swap');\n    }\n  }, {\n    key: \"getBuffer\",\n    value: function getBuffer() {\n      var varyingName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return this.bufferTransform && this.bufferTransform.getBuffer(varyingName);\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n\n      var _iterator2 = _createForOfIteratorHelper(resourceTransforms),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var resourceTransform = _step2.value;\n          var data = resourceTransform.getData(opts);\n\n          if (data) {\n            return data;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getFramebuffer\",\n    value: function getFramebuffer() {\n      return this.textureTransform && this.textureTransform.getFramebuffer();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if ('elementCount' in opts) {\n        this.model.setVertexCount(opts.elementCount);\n      }\n\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n\n      var _iterator3 = _createForOfIteratorHelper(resourceTransforms),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var resourceTransform = _step3.value;\n          resourceTransform.update(opts);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var gl = this.gl;\n\n      this._buildResourceTransforms(gl, props);\n\n      props = this._updateModelProps(props);\n      this.model = new Model(gl, Object.assign({}, props, {\n        fs: props.fs || getPassthroughFS({\n          version: getShaderVersion(props.vs)\n        }),\n        id: props.id || 'transform-model',\n        drawMode: props.drawMode || 0,\n        vertexCount: props.elementCount\n      }));\n      this.bufferTransform && this.bufferTransform.setupResources({\n        model: this.model\n      });\n    }\n  }, {\n    key: \"_updateModelProps\",\n    value: function _updateModelProps(props) {\n      var updatedProps = Object.assign({}, props);\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n\n      var _iterator4 = _createForOfIteratorHelper(resourceTransforms),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var resourceTransform = _step4.value;\n          updatedProps = resourceTransform.updateModelProps(updatedProps);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      return updatedProps;\n    }\n  }, {\n    key: \"_buildResourceTransforms\",\n    value: function _buildResourceTransforms(gl, props) {\n      if (canCreateBufferTransform(props)) {\n        this.bufferTransform = new BufferTransform(gl, props);\n      }\n\n      if (canCreateTextureTransform(props)) {\n        this.textureTransform = new TextureTransform(gl, props);\n      }\n\n      assert(this.bufferTransform || this.textureTransform, 'must provide source/feedback buffers or source/target textures');\n    }\n  }, {\n    key: \"_updateDrawOptions\",\n    value: function _updateDrawOptions(opts) {\n      var updatedOpts = Object.assign({}, opts);\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n\n      var _iterator5 = _createForOfIteratorHelper(resourceTransforms),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var resourceTransform = _step5.value;\n          updatedOpts = Object.assign(updatedOpts, resourceTransform.getDrawOptions(updatedOpts));\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      return updatedOpts;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      return isWebGL2(gl);\n    }\n  }]);\n\n  return Transform;\n}();\n\nexport { Transform as default };\n\nfunction canCreateBufferTransform(props) {\n  if (!isObjectEmpty(props.feedbackBuffers) || !isObjectEmpty(props.feedbackMap) || props.varyings && props.varyings.length > 0) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction canCreateTextureTransform(props) {\n  if (!isObjectEmpty(props._sourceTextures) || props._targetTexture || props._targetTextureVarying) {\n    return true;\n  }\n\n  return false;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Buffer, Transform } from '@luma.gl/core';\nimport Attribute from '../lib/attribute/attribute';\nimport { padBuffer, getAttributeTypeFromSize, getSourceBufferAttribute, getAttributeBufferLength, cycleBuffers } from '../lib/attribute/attribute-transition-utils';\nimport Transition from './transition';\n\nvar GPUInterpolationTransition = /*#__PURE__*/function () {\n  function GPUInterpolationTransition(_ref) {\n    var gl = _ref.gl,\n        attribute = _ref.attribute,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, GPUInterpolationTransition);\n\n    this.gl = gl;\n    this.type = 'interpolation';\n    this.transition = new Transition(timeline);\n    this.attribute = attribute;\n    this.attributeInTransition = new Attribute(gl, attribute.settings);\n    this.currentStartIndices = attribute.startIndices;\n    this.currentLength = 0;\n    this.transform = getTransform(gl, attribute);\n    var bufferOpts = {\n      byteLength: 0,\n      usage: 35050\n    };\n    this.buffers = [new Buffer(gl, bufferOpts), new Buffer(gl, bufferOpts)];\n  }\n\n  _createClass(GPUInterpolationTransition, [{\n    key: \"inProgress\",\n    get: function get() {\n      return this.transition.inProgress;\n    }\n  }, {\n    key: \"start\",\n    value: function start(transitionSettings, numInstances) {\n      if (transitionSettings.duration <= 0) {\n        this.transition.cancel();\n        return;\n      }\n\n      var gl = this.gl,\n          buffers = this.buffers,\n          attribute = this.attribute;\n      cycleBuffers(buffers);\n      var padBufferOpts = {\n        numInstances: numInstances,\n        attribute: attribute,\n        fromLength: this.currentLength,\n        fromStartIndices: this.currentStartIndices,\n        getData: transitionSettings.enter\n      };\n\n      var _iterator = _createForOfIteratorHelper(buffers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var buffer = _step.value;\n          padBuffer(_objectSpread({\n            buffer: buffer\n          }, padBufferOpts));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.currentStartIndices = attribute.startIndices;\n      this.currentLength = getAttributeBufferLength(attribute, numInstances);\n      this.attributeInTransition.update({\n        buffer: buffers[1],\n        value: attribute.value\n      });\n      this.transition.start(transitionSettings);\n      this.transform.update({\n        elementCount: Math.floor(this.currentLength / attribute.size),\n        sourceBuffers: {\n          aFrom: buffers[0],\n          aTo: getSourceBufferAttribute(gl, attribute)\n        },\n        feedbackBuffers: {\n          vCurrent: buffers[1]\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var updated = this.transition.update();\n\n      if (updated) {\n        var _this$transition = this.transition,\n            time = _this$transition.time,\n            _this$transition$sett = _this$transition.settings,\n            duration = _this$transition$sett.duration,\n            easing = _this$transition$sett.easing;\n        var t = easing(time / duration);\n        this.transform.run({\n          uniforms: {\n            time: t\n          }\n        });\n      }\n\n      return updated;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.transition.cancel();\n      this.transform.delete();\n\n      while (this.buffers.length) {\n        this.buffers.pop().delete();\n      }\n    }\n  }]);\n\n  return GPUInterpolationTransition;\n}();\n\nexport { GPUInterpolationTransition as default };\nvar vs = \"\\n#define SHADER_NAME interpolation-transition-vertex-shader\\n\\nuniform float time;\\nattribute ATTRIBUTE_TYPE aFrom;\\nattribute ATTRIBUTE_TYPE aTo;\\nvarying ATTRIBUTE_TYPE vCurrent;\\n\\nvoid main(void) {\\n  vCurrent = mix(aFrom, aTo, time);\\n  gl_Position = vec4(0.0);\\n}\\n\";\n\nfunction getTransform(gl, attribute) {\n  var attributeType = getAttributeTypeFromSize(attribute.size);\n  return new Transform(gl, {\n    vs: vs,\n    defines: {\n      ATTRIBUTE_TYPE: attributeType\n    },\n    varyings: ['vCurrent']\n  });\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Buffer, Transform, Framebuffer, Texture2D, readPixelsToArray } from '@luma.gl/core';\nimport { padBuffer, getAttributeTypeFromSize, getSourceBufferAttribute, getAttributeBufferLength, cycleBuffers } from '../lib/attribute/attribute-transition-utils';\nimport Attribute from '../lib/attribute/attribute';\nimport Transition from './transition';\n\nvar GPUSpringTransition = /*#__PURE__*/function () {\n  function GPUSpringTransition(_ref) {\n    var gl = _ref.gl,\n        attribute = _ref.attribute,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, GPUSpringTransition);\n\n    this.gl = gl;\n    this.type = 'spring';\n    this.transition = new Transition(timeline);\n    this.attribute = attribute;\n    this.attributeInTransition = new Attribute(gl, _objectSpread(_objectSpread({}, attribute.settings), {}, {\n      normalized: false\n    }));\n    this.currentStartIndices = attribute.startIndices;\n    this.currentLength = 0;\n    this.texture = getTexture(gl);\n    this.framebuffer = getFramebuffer(gl, this.texture);\n    this.transform = getTransform(gl, attribute, this.framebuffer);\n    var bufferOpts = {\n      byteLength: 0,\n      usage: 35050\n    };\n    this.buffers = [new Buffer(gl, bufferOpts), new Buffer(gl, bufferOpts), new Buffer(gl, bufferOpts)];\n  }\n\n  _createClass(GPUSpringTransition, [{\n    key: \"inProgress\",\n    get: function get() {\n      return this.transition.inProgress;\n    }\n  }, {\n    key: \"start\",\n    value: function start(transitionSettings, numInstances) {\n      var gl = this.gl,\n          buffers = this.buffers,\n          attribute = this.attribute;\n      var padBufferOpts = {\n        numInstances: numInstances,\n        attribute: attribute,\n        fromLength: this.currentLength,\n        fromStartIndices: this.currentStartIndices,\n        getData: transitionSettings.enter\n      };\n\n      var _iterator = _createForOfIteratorHelper(buffers),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var buffer = _step.value;\n          padBuffer(_objectSpread({\n            buffer: buffer\n          }, padBufferOpts));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.currentStartIndices = attribute.startIndices;\n      this.currentLength = getAttributeBufferLength(attribute, numInstances);\n      this.attributeInTransition.update({\n        buffer: buffers[1],\n        value: attribute.value\n      });\n      this.transition.start(transitionSettings);\n      this.transform.update({\n        elementCount: Math.floor(this.currentLength / attribute.size),\n        sourceBuffers: {\n          aTo: getSourceBufferAttribute(gl, attribute)\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var buffers = this.buffers,\n          transform = this.transform,\n          framebuffer = this.framebuffer,\n          transition = this.transition;\n      var updated = transition.update();\n\n      if (!updated) {\n        return false;\n      }\n\n      transform.update({\n        sourceBuffers: {\n          aPrev: buffers[0],\n          aCur: buffers[1]\n        },\n        feedbackBuffers: {\n          vNext: buffers[2]\n        }\n      });\n      transform.run({\n        framebuffer: framebuffer,\n        discard: false,\n        clearRenderTarget: true,\n        uniforms: {\n          stiffness: transition.settings.stiffness,\n          damping: transition.settings.damping\n        },\n        parameters: {\n          depthTest: false,\n          blend: true,\n          viewport: [0, 0, 1, 1],\n          blendFunc: [1, 1],\n          blendEquation: [32776, 32776]\n        }\n      });\n      cycleBuffers(buffers);\n      this.attributeInTransition.update({\n        buffer: buffers[1],\n        value: this.attribute.value\n      });\n      var isTransitioning = readPixelsToArray(framebuffer)[0] > 0;\n\n      if (!isTransitioning) {\n        transition.end();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.transition.cancel();\n      this.transform.delete();\n\n      while (this.buffers.length) {\n        this.buffers.pop().delete();\n      }\n\n      this.texture.delete();\n      this.texture = null;\n      this.framebuffer.delete();\n      this.framebuffer = null;\n    }\n  }]);\n\n  return GPUSpringTransition;\n}();\n\nexport { GPUSpringTransition as default };\n\nfunction getTransform(gl, attribute, framebuffer) {\n  var attributeType = getAttributeTypeFromSize(attribute.size);\n  return new Transform(gl, {\n    framebuffer: framebuffer,\n    vs: \"\\n#define SHADER_NAME spring-transition-vertex-shader\\n\\n#define EPSILON 0.00001\\n\\nuniform float stiffness;\\nuniform float damping;\\nattribute ATTRIBUTE_TYPE aPrev;\\nattribute ATTRIBUTE_TYPE aCur;\\nattribute ATTRIBUTE_TYPE aTo;\\nvarying ATTRIBUTE_TYPE vNext;\\nvarying float vIsTransitioningFlag;\\n\\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\\n  ATTRIBUTE_TYPE velocity = cur - prev;\\n  ATTRIBUTE_TYPE delta = dest - cur;\\n  ATTRIBUTE_TYPE spring = delta * stiffness;\\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\\n  return spring + damper + velocity + cur;\\n}\\n\\nvoid main(void) {\\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\\n\\n  vNext = getNextValue(aCur, aPrev, aTo);\\n  gl_Position = vec4(0, 0, 0, 1);\\n  gl_PointSize = 100.0;\\n}\\n\",\n    fs: \"\\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\\n\\nvarying float vIsTransitioningFlag;\\n\\nvoid main(void) {\\n  if (vIsTransitioningFlag == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor = vec4(1.0);\\n}\",\n    defines: {\n      ATTRIBUTE_TYPE: attributeType\n    },\n    varyings: ['vNext']\n  });\n}\n\nfunction getTexture(gl) {\n  return new Texture2D(gl, {\n    data: new Uint8Array(4),\n    format: 6408,\n    type: 5121,\n    border: 0,\n    mipmaps: false,\n    dataFormat: 6408,\n    width: 1,\n    height: 1\n  });\n}\n\nfunction getFramebuffer(gl, texture) {\n  return new Framebuffer(gl, {\n    id: 'spring-transition-is-transitioning-framebuffer',\n    width: 1,\n    height: 1,\n    attachments: _defineProperty({}, 36064, texture)\n  });\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Transform } from '@luma.gl/core';\nimport GPUInterpolationTransition from '../../transitions/gpu-interpolation-transition';\nimport GPUSpringTransition from '../../transitions/gpu-spring-transition';\nimport log from '../../utils/log';\nvar TRANSITION_TYPES = {\n  interpolation: GPUInterpolationTransition,\n  spring: GPUSpringTransition\n};\n\nvar AttributeTransitionManager = /*#__PURE__*/function () {\n  function AttributeTransitionManager(gl, _ref) {\n    var id = _ref.id,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, AttributeTransitionManager);\n\n    this.id = id;\n    this.gl = gl;\n    this.timeline = timeline;\n    this.transitions = {};\n    this.needsRedraw = false;\n    this.numInstances = 1;\n    this.isSupported = Transform.isSupported(gl);\n  }\n\n  _createClass(AttributeTransitionManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var attributeName in this.transitions) {\n        this._removeTransition(attributeName);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref2) {\n      var attributes = _ref2.attributes,\n          transitions = _ref2.transitions,\n          numInstances = _ref2.numInstances;\n      this.numInstances = numInstances || 1;\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        var settings = attribute.getTransitionSetting(transitions);\n        if (!settings) continue;\n\n        this._updateAttribute(attributeName, attribute, settings);\n      }\n\n      for (var _attributeName in this.transitions) {\n        var _attribute = attributes[_attributeName];\n\n        if (!_attribute || !_attribute.getTransitionSetting(transitions)) {\n          this._removeTransition(_attributeName);\n        }\n      }\n    }\n  }, {\n    key: \"hasAttribute\",\n    value: function hasAttribute(attributeName) {\n      var transition = this.transitions[attributeName];\n      return transition && transition.inProgress;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      var animatedAttributes = {};\n\n      for (var attributeName in this.transitions) {\n        var transition = this.transitions[attributeName];\n\n        if (transition.inProgress) {\n          animatedAttributes[attributeName] = transition.attributeInTransition;\n        }\n      }\n\n      return animatedAttributes;\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      if (!this.isSupported || this.numInstances === 0) {\n        return false;\n      }\n\n      for (var attributeName in this.transitions) {\n        var updated = this.transitions[attributeName].update();\n\n        if (updated) {\n          this.needsRedraw = true;\n        }\n      }\n\n      var needsRedraw = this.needsRedraw;\n      this.needsRedraw = false;\n      return needsRedraw;\n    }\n  }, {\n    key: \"_removeTransition\",\n    value: function _removeTransition(attributeName) {\n      this.transitions[attributeName].cancel();\n      delete this.transitions[attributeName];\n    }\n  }, {\n    key: \"_updateAttribute\",\n    value: function _updateAttribute(attributeName, attribute, settings) {\n      var transition = this.transitions[attributeName];\n      var isNew = !transition || transition.type !== settings.type;\n\n      if (isNew) {\n        if (!this.isSupported) {\n          log.warn(\"WebGL2 not supported by this browser. Transition for \".concat(attributeName, \" is disabled.\"))();\n          return;\n        }\n\n        if (transition) {\n          this._removeTransition(attributeName);\n        }\n\n        var TransitionType = TRANSITION_TYPES[settings.type];\n\n        if (TransitionType) {\n          this.transitions[attributeName] = new TransitionType({\n            attribute: attribute,\n            timeline: this.timeline,\n            gl: this.gl\n          });\n        } else {\n          log.error(\"unsupported transition type '\".concat(settings.type, \"'\"))();\n          isNew = false;\n        }\n      }\n\n      if (isNew || attribute.needsRedraw()) {\n        this.needsRedraw = true;\n        this.transitions[attributeName].start(settings, this.numInstances);\n      }\n    }\n  }]);\n\n  return AttributeTransitionManager;\n}();\n\nexport { AttributeTransitionManager as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Attribute from './attribute';\nimport log from '../../utils/log';\nimport debug from '../../debug';\nimport AttributeTransitionManager from './attribute-transition-manager';\nvar TRACE_INVALIDATE = 'attributeManager.invalidate';\nvar TRACE_UPDATE_START = 'attributeManager.updateStart';\nvar TRACE_UPDATE_END = 'attributeManager.updateEnd';\nvar TRACE_ATTRIBUTE_UPDATE_START = 'attribute.updateStart';\nvar TRACE_ATTRIBUTE_ALLOCATE = 'attribute.allocate';\nvar TRACE_ATTRIBUTE_UPDATE_END = 'attribute.updateEnd';\n\nvar AttributeManager = /*#__PURE__*/function () {\n  function AttributeManager(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$id = _ref.id,\n        id = _ref$id === void 0 ? 'attribute-manager' : _ref$id,\n        stats = _ref.stats,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, AttributeManager);\n\n    this.id = id;\n    this.gl = gl;\n    this.attributes = {};\n    this.updateTriggers = {};\n    this.accessors = {};\n    this.needsRedraw = true;\n    this.userData = {};\n    this.stats = stats;\n    this.attributeTransitionManager = new AttributeTransitionManager(gl, {\n      id: \"\".concat(id, \"-transitions\"),\n      timeline: timeline\n    });\n    Object.seal(this);\n  }\n\n  _createClass(AttributeManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var attributeName in this.attributes) {\n        this.attributes[attributeName].delete();\n      }\n\n      this.attributeTransitionManager.finalize();\n    }\n  }, {\n    key: \"getNeedsRedraw\",\n    value: function getNeedsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this.needsRedraw;\n      this.needsRedraw = this.needsRedraw && !opts.clearRedrawFlags;\n      return redraw && this.id;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var redraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.needsRedraw = true;\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(attributes, updaters) {\n      this._add(attributes, updaters);\n    }\n  }, {\n    key: \"addInstanced\",\n    value: function addInstanced(attributes, updaters) {\n      this._add(attributes, updaters, {\n        instanced: 1\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(attributeNameArray) {\n      for (var i = 0; i < attributeNameArray.length; i++) {\n        var name = attributeNameArray[i];\n\n        if (this.attributes[name] !== undefined) {\n          this.attributes[name].delete();\n          delete this.attributes[name];\n        }\n      }\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(triggerName, dataRange) {\n      var invalidatedAttributes = this._invalidateTrigger(triggerName, dataRange);\n\n      debug(TRACE_INVALIDATE, this, triggerName, invalidatedAttributes);\n    }\n  }, {\n    key: \"invalidateAll\",\n    value: function invalidateAll(dataRange) {\n      for (var attributeName in this.attributes) {\n        this.attributes[attributeName].setNeedsUpdate(attributeName, dataRange);\n      }\n\n      debug(TRACE_INVALIDATE, this, 'all');\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          data = _ref2.data,\n          numInstances = _ref2.numInstances,\n          _ref2$startIndices = _ref2.startIndices,\n          startIndices = _ref2$startIndices === void 0 ? null : _ref2$startIndices,\n          transitions = _ref2.transitions,\n          _ref2$props = _ref2.props,\n          props = _ref2$props === void 0 ? {} : _ref2$props,\n          _ref2$buffers = _ref2.buffers,\n          buffers = _ref2$buffers === void 0 ? {} : _ref2$buffers,\n          _ref2$context = _ref2.context,\n          context = _ref2$context === void 0 ? {} : _ref2$context;\n\n      var updated = false;\n      debug(TRACE_UPDATE_START, this);\n\n      if (this.stats) {\n        this.stats.get('Update Attributes').timeStart();\n      }\n\n      for (var attributeName in this.attributes) {\n        var attribute = this.attributes[attributeName];\n        var accessorName = attribute.settings.accessor;\n        attribute.startIndices = startIndices;\n\n        if (props[attributeName]) {\n          log.removed(\"props.\".concat(attributeName), \"data.attributes.\".concat(attributeName))();\n        }\n\n        if (attribute.setExternalBuffer(buffers[attributeName])) {} else if (attribute.setBinaryValue(buffers[accessorName], data.startIndices)) {} else if (!buffers[accessorName] && attribute.setConstantValue(props[accessorName])) {} else if (attribute.needsUpdate()) {\n          updated = true;\n\n          this._updateAttribute({\n            attribute: attribute,\n            numInstances: numInstances,\n            data: data,\n            props: props,\n            context: context\n          });\n        }\n\n        this.needsRedraw |= attribute.needsRedraw();\n      }\n\n      if (updated) {\n        debug(TRACE_UPDATE_END, this, numInstances);\n      }\n\n      if (this.stats) {\n        this.stats.get('Update Attributes').timeEnd();\n      }\n\n      this.attributeTransitionManager.update({\n        attributes: this.attributes,\n        numInstances: numInstances,\n        transitions: transitions\n      });\n    }\n  }, {\n    key: \"updateTransition\",\n    value: function updateTransition() {\n      var attributeTransitionManager = this.attributeTransitionManager;\n      var transitionUpdated = attributeTransitionManager.run();\n      this.needsRedraw = this.needsRedraw || transitionUpdated;\n      return transitionUpdated;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.attributes;\n    }\n  }, {\n    key: \"getChangedAttributes\",\n    value: function getChangedAttributes() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearChangedFlags: false\n      };\n      var attributes = this.attributes,\n          attributeTransitionManager = this.attributeTransitionManager;\n\n      var changedAttributes = _objectSpread({}, attributeTransitionManager.getAttributes());\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n\n        if (attribute.needsRedraw(opts) && !attributeTransitionManager.hasAttribute(attributeName)) {\n          changedAttributes[attributeName] = attribute;\n        }\n      }\n\n      return changedAttributes;\n    }\n  }, {\n    key: \"getShaderAttributes\",\n    value: function getShaderAttributes(attributes) {\n      var excludeAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!attributes) {\n        attributes = this.getAttributes();\n      }\n\n      var shaderAttributes = {};\n\n      for (var attributeName in attributes) {\n        if (!excludeAttributes[attributeName]) {\n          Object.assign(shaderAttributes, attributes[attributeName].getShaderAttributes());\n        }\n      }\n\n      return shaderAttributes;\n    }\n  }, {\n    key: \"getAccessors\",\n    value: function getAccessors() {\n      return this.updateTriggers;\n    }\n  }, {\n    key: \"_add\",\n    value: function _add(attributes, updaters) {\n      var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (updaters) {\n        log.warn('AttributeManager.add({updaters}) - updater map no longer supported')();\n      }\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        this.attributes[attributeName] = this._createAttribute(attributeName, attribute, extraProps);\n      }\n\n      this._mapUpdateTriggersToAttributes();\n    }\n  }, {\n    key: \"_createAttribute\",\n    value: function _createAttribute(name, attribute, extraProps) {\n      var props = _objectSpread(_objectSpread({}, attribute), {}, {\n        id: name,\n        isIndexed: attribute.isIndexed || attribute.elements || false,\n        constant: attribute.constant || false,\n        size: attribute.elements && 1 || attribute.size || 1,\n        value: attribute.value || null,\n        divisor: attribute.instanced || extraProps.instanced ? 1 : attribute.divisor || 0\n      });\n\n      return new Attribute(this.gl, props);\n    }\n  }, {\n    key: \"_mapUpdateTriggersToAttributes\",\n    value: function _mapUpdateTriggersToAttributes() {\n      var _this = this;\n\n      var triggers = {};\n\n      var _loop = function _loop(attributeName) {\n        var attribute = _this.attributes[attributeName];\n        attribute.getUpdateTriggers().forEach(function (triggerName) {\n          if (!triggers[triggerName]) {\n            triggers[triggerName] = [];\n          }\n\n          triggers[triggerName].push(attributeName);\n        });\n      };\n\n      for (var attributeName in this.attributes) {\n        _loop(attributeName);\n      }\n\n      this.updateTriggers = triggers;\n    }\n  }, {\n    key: \"_invalidateTrigger\",\n    value: function _invalidateTrigger(triggerName, dataRange) {\n      var attributes = this.attributes,\n          updateTriggers = this.updateTriggers;\n      var invalidatedAttributes = updateTriggers[triggerName];\n\n      if (invalidatedAttributes) {\n        invalidatedAttributes.forEach(function (name) {\n          var attribute = attributes[name];\n\n          if (attribute) {\n            attribute.setNeedsUpdate(attribute.id, dataRange);\n          }\n        });\n      }\n\n      return invalidatedAttributes;\n    }\n  }, {\n    key: \"_updateAttribute\",\n    value: function _updateAttribute(opts) {\n      var attribute = opts.attribute,\n          numInstances = opts.numInstances;\n      debug(TRACE_ATTRIBUTE_UPDATE_START, attribute);\n\n      if (attribute.constant) {\n        attribute.setConstantValue(attribute.value);\n        return;\n      }\n\n      if (attribute.allocate(numInstances)) {\n        debug(TRACE_ATTRIBUTE_ALLOCATE, attribute, numInstances);\n      }\n\n      var updated = attribute.updateBuffer(opts);\n\n      if (updated) {\n        this.needsRedraw = true;\n        debug(TRACE_ATTRIBUTE_UPDATE_END, attribute, numInstances);\n      }\n    }\n  }]);\n\n  return AttributeManager;\n}();\n\nexport { AttributeManager as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { lerp } from 'math.gl';\nimport Transition from './transition';\n\nvar CPUInterpolationTransition = /*#__PURE__*/function (_Transition) {\n  _inherits(CPUInterpolationTransition, _Transition);\n\n  var _super = _createSuper(CPUInterpolationTransition);\n\n  function CPUInterpolationTransition() {\n    _classCallCheck(this, CPUInterpolationTransition);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CPUInterpolationTransition, [{\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      var time = this.time,\n          _this$settings = this.settings,\n          fromValue = _this$settings.fromValue,\n          toValue = _this$settings.toValue,\n          duration = _this$settings.duration,\n          easing = _this$settings.easing;\n      var t = easing(time / duration);\n      this._value = lerp(fromValue, toValue, t);\n    }\n  }]);\n\n  return CPUInterpolationTransition;\n}(Transition);\n\nexport { CPUInterpolationTransition as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Transition from './transition';\nvar EPSILON = 1e-5;\n\nfunction updateSpringElement(prev, cur, dest, damping, stiffness) {\n  var velocity = cur - prev;\n  var delta = dest - cur;\n  var spring = delta * stiffness;\n  var damper = -velocity * damping;\n  return spring + damper + velocity + cur;\n}\n\nfunction updateSpring(prev, cur, dest, damping, stiffness) {\n  if (Array.isArray(dest)) {\n    var next = [];\n\n    for (var i = 0; i < dest.length; i++) {\n      next[i] = updateSpringElement(prev[i], cur[i], dest[i], damping, stiffness);\n    }\n\n    return next;\n  }\n\n  return updateSpringElement(prev, cur, dest, damping, stiffness);\n}\n\nfunction distance(value1, value2) {\n  if (Array.isArray(value1)) {\n    var distanceSquare = 0;\n\n    for (var i = 0; i < value1.length; i++) {\n      var d = value1[i] - value2[i];\n      distanceSquare += d * d;\n    }\n\n    return Math.sqrt(distanceSquare);\n  }\n\n  return Math.abs(value1 - value2);\n}\n\nvar CPUSpringTransition = /*#__PURE__*/function (_Transition) {\n  _inherits(CPUSpringTransition, _Transition);\n\n  var _super = _createSuper(CPUSpringTransition);\n\n  function CPUSpringTransition() {\n    _classCallCheck(this, CPUSpringTransition);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CPUSpringTransition, [{\n    key: \"value\",\n    get: function get() {\n      return this._currValue;\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      var _this$settings = this.settings,\n          fromValue = _this$settings.fromValue,\n          toValue = _this$settings.toValue,\n          damping = _this$settings.damping,\n          stiffness = _this$settings.stiffness;\n\n      var _this$_prevValue = this._prevValue,\n          _prevValue = _this$_prevValue === void 0 ? fromValue : _this$_prevValue,\n          _this$_currValue = this._currValue,\n          _currValue = _this$_currValue === void 0 ? fromValue : _this$_currValue;\n\n      var nextValue = updateSpring(_prevValue, _currValue, toValue, damping, stiffness);\n      var delta = distance(nextValue, toValue);\n      var velocity = distance(nextValue, _currValue);\n\n      if (delta < EPSILON && velocity < EPSILON) {\n        nextValue = toValue;\n        this.end();\n      }\n\n      this._prevValue = _currValue;\n      this._currValue = nextValue;\n    }\n  }]);\n\n  return CPUSpringTransition;\n}(Transition);\n\nexport { CPUSpringTransition as default };","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { normalizeTransitionSettings } from './attribute/attribute-transition-utils';\nimport CPUInterpolationTransition from '../transitions/cpu-interpolation-transition';\nimport CPUSpringTransition from '../transitions/cpu-spring-transition';\nimport log from '../utils/log';\nvar TRANSITION_TYPES = {\n  interpolation: CPUInterpolationTransition,\n  spring: CPUSpringTransition\n};\n\nvar UniformTransitionManager = /*#__PURE__*/function () {\n  function UniformTransitionManager(timeline) {\n    _classCallCheck(this, UniformTransitionManager);\n\n    this.transitions = new Map();\n    this.timeline = timeline;\n  }\n\n  _createClass(UniformTransitionManager, [{\n    key: \"active\",\n    get: function get() {\n      return this.transitions.size > 0;\n    }\n  }, {\n    key: \"add\",\n    value: function add(key, fromValue, toValue, settings) {\n      var transitions = this.transitions;\n\n      if (transitions.has(key)) {\n        var _transition = transitions.get(key);\n\n        var _transition$value = _transition.value,\n            value = _transition$value === void 0 ? _transition.settings.fromValue : _transition$value;\n        fromValue = value;\n        this.remove(key);\n      }\n\n      settings = normalizeTransitionSettings(settings);\n\n      if (!settings) {\n        return;\n      }\n\n      var TransitionType = TRANSITION_TYPES[settings.type];\n\n      if (!TransitionType) {\n        log.error(\"unsupported transition type '\".concat(settings.type, \"'\"))();\n        return;\n      }\n\n      var transition = new TransitionType(this.timeline);\n      transition.start(_objectSpread(_objectSpread({}, settings), {}, {\n        fromValue: fromValue,\n        toValue: toValue\n      }));\n      transitions.set(key, transition);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      var transitions = this.transitions;\n\n      if (transitions.has(key)) {\n        transitions.get(key).cancel();\n        transitions.delete(key);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var propsInTransition = {};\n\n      var _iterator = _createForOfIteratorHelper(this.transitions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              transition = _step$value[1];\n\n          transition.update();\n          propsInTransition[key] = transition.value;\n\n          if (!transition.inProgress) {\n            this.remove(key);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return propsInTransition;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _iterator2 = _createForOfIteratorHelper(this.transitions.keys()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          this.remove(key);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }]);\n\n  return UniformTransitionManager;\n}();\n\nexport { UniformTransitionManager as default };","import { PROP_SYMBOLS } from './constants';\nvar COMPONENT = PROP_SYMBOLS.COMPONENT;\nexport function validateProps(props) {\n  var propTypes = getPropTypes(props);\n\n  for (var propName in propTypes) {\n    var propType = propTypes[propName];\n    var validate = propType.validate;\n\n    if (validate && !validate(props[propName], propType)) {\n      throw new Error(\"Invalid prop \".concat(propName, \": \").concat(props[propName]));\n    }\n  }\n}\nexport function diffProps(props, oldProps) {\n  var propsChangedReason = compareProps({\n    newProps: props,\n    oldProps: oldProps,\n    propTypes: getPropTypes(props),\n    ignoreProps: {\n      data: null,\n      updateTriggers: null,\n      extensions: null,\n      transitions: null\n    }\n  });\n  var dataChangedReason = diffDataProps(props, oldProps);\n  var updateTriggersChangedReason = false;\n\n  if (!dataChangedReason) {\n    updateTriggersChangedReason = diffUpdateTriggers(props, oldProps);\n  }\n\n  return {\n    dataChanged: dataChangedReason,\n    propsChanged: propsChangedReason,\n    updateTriggersChanged: updateTriggersChangedReason,\n    extensionsChanged: diffExtensions(props, oldProps),\n    transitionsChanged: diffTransitions(props, oldProps)\n  };\n}\n\nfunction diffTransitions(props, oldProps) {\n  if (!props.transitions) {\n    return null;\n  }\n\n  var result = {};\n  var propTypes = getPropTypes(props);\n\n  for (var key in props.transitions) {\n    var propType = propTypes[key];\n    var type = propType && propType.type;\n    var isTransitionable = type === 'number' || type === 'color' || type === 'array';\n\n    if (isTransitionable && comparePropValues(props[key], oldProps[key], propType)) {\n      result[key] = true;\n    }\n  }\n\n  return result;\n}\n\nexport function compareProps() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      newProps = _ref.newProps,\n      oldProps = _ref.oldProps,\n      _ref$ignoreProps = _ref.ignoreProps,\n      ignoreProps = _ref$ignoreProps === void 0 ? {} : _ref$ignoreProps,\n      _ref$propTypes = _ref.propTypes,\n      propTypes = _ref$propTypes === void 0 ? {} : _ref$propTypes,\n      _ref$triggerName = _ref.triggerName,\n      triggerName = _ref$triggerName === void 0 ? 'props' : _ref$triggerName;\n\n  if (oldProps === newProps) {\n    return null;\n  }\n\n  if (typeof newProps !== 'object' || newProps === null) {\n    return \"\".concat(triggerName, \" changed shallowly\");\n  }\n\n  if (typeof oldProps !== 'object' || oldProps === null) {\n    return \"\".concat(triggerName, \" changed shallowly\");\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(newProps); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in ignoreProps)) {\n      if (!(key in oldProps)) {\n        return \"\".concat(triggerName, \".\").concat(key, \" added\");\n      }\n\n      var changed = comparePropValues(newProps[key], oldProps[key], propTypes[key]);\n\n      if (changed) {\n        return \"\".concat(triggerName, \".\").concat(key, \" \").concat(changed);\n      }\n    }\n  }\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(oldProps); _i2 < _Object$keys2.length; _i2++) {\n    var _key = _Object$keys2[_i2];\n\n    if (!(_key in ignoreProps)) {\n      if (!(_key in newProps)) {\n        return \"\".concat(triggerName, \".\").concat(_key, \" dropped\");\n      }\n\n      if (!Object.hasOwnProperty.call(newProps, _key)) {\n        var _changed = comparePropValues(newProps[_key], oldProps[_key], propTypes[_key]);\n\n        if (_changed) {\n          return \"\".concat(triggerName, \".\").concat(_key, \" \").concat(_changed);\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction comparePropValues(newProp, oldProp, propType) {\n  var equal = propType && propType.equal;\n\n  if (equal && !equal(newProp, oldProp, propType)) {\n    return 'changed deeply';\n  }\n\n  if (!equal) {\n    equal = newProp && oldProp && newProp.equals;\n\n    if (equal && !equal.call(newProp, oldProp)) {\n      return 'changed deeply';\n    }\n  }\n\n  if (!equal && oldProp !== newProp) {\n    return 'changed shallowly';\n  }\n\n  return null;\n}\n\nfunction diffDataProps(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  var dataChanged = null;\n  var dataComparator = props.dataComparator,\n      _dataDiff = props._dataDiff;\n\n  if (dataComparator) {\n    if (!dataComparator(props.data, oldProps.data)) {\n      dataChanged = 'Data comparator detected a change';\n    }\n  } else if (props.data !== oldProps.data) {\n    dataChanged = 'A new data container was supplied';\n  }\n\n  if (dataChanged && _dataDiff) {\n    dataChanged = _dataDiff(props.data, oldProps.data) || dataChanged;\n  }\n\n  return dataChanged;\n}\n\nfunction diffUpdateTriggers(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  if ('all' in props.updateTriggers) {\n    var diffReason = diffUpdateTrigger(props, oldProps, 'all');\n\n    if (diffReason) {\n      return {\n        all: true\n      };\n    }\n  }\n\n  var triggerChanged = {};\n  var reason = false;\n\n  for (var triggerName in props.updateTriggers) {\n    if (triggerName !== 'all') {\n      var _diffReason = diffUpdateTrigger(props, oldProps, triggerName);\n\n      if (_diffReason) {\n        triggerChanged[triggerName] = true;\n        reason = triggerChanged;\n      }\n    }\n  }\n\n  return reason;\n}\n\nfunction diffExtensions(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  var oldExtensions = oldProps.extensions;\n  var extensions = props.extensions;\n\n  if (extensions === oldExtensions) {\n    return false;\n  }\n\n  if (extensions.length !== oldExtensions.length) {\n    return true;\n  }\n\n  for (var i = 0; i < extensions.length; i++) {\n    if (!extensions[i].equals(oldExtensions[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction diffUpdateTrigger(props, oldProps, triggerName) {\n  var newTriggers = props.updateTriggers[triggerName];\n  newTriggers = newTriggers === undefined || newTriggers === null ? {} : newTriggers;\n  var oldTriggers = oldProps.updateTriggers[triggerName];\n  oldTriggers = oldTriggers === undefined || oldTriggers === null ? {} : oldTriggers;\n  var diffReason = compareProps({\n    oldProps: oldTriggers,\n    newProps: newTriggers,\n    triggerName: triggerName\n  });\n  return diffReason;\n}\n\nfunction getPropTypes(props) {\n  var layer = props[COMPONENT];\n  var LayerType = layer && layer.constructor;\n  return LayerType ? LayerType._propTypes : {};\n}","var ERR_NOT_OBJECT = 'count(): argument not an object';\nvar ERR_NOT_CONTAINER = 'count(): argument not a container';\nexport function count(container) {\n  if (!isObject(container)) {\n    throw new Error(ERR_NOT_OBJECT);\n  }\n\n  if (typeof container.count === 'function') {\n    return container.count();\n  }\n\n  if (Number.isFinite(container.size)) {\n    return container.size;\n  }\n\n  if (Number.isFinite(container.length)) {\n    return container.length;\n  }\n\n  if (isPlainObject(container)) {\n    return Object.keys(container).length;\n  }\n\n  throw new Error(ERR_NOT_CONTAINER);\n}\n\nfunction isPlainObject(value) {\n  return value !== null && typeof value === 'object' && value.constructor === Object;\n}\n\nfunction isObject(value) {\n  return value !== null && typeof value === 'object';\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport function mergeShaders(target, source) {\n  if (!source) {\n    return target;\n  }\n\n  var result = _objectSpread(_objectSpread({}, target), source);\n\n  if ('defines' in source) {\n    result.defines = _objectSpread(_objectSpread({}, target.defines), source.defines);\n  }\n\n  if ('modules' in source) {\n    result.modules = (target.modules || []).concat(source.modules);\n\n    if (source.modules.some(function (module) {\n      return module.name === 'project64';\n    })) {\n      var index = result.modules.findIndex(function (module) {\n        return module.name === 'project32';\n      });\n\n      if (index >= 0) {\n        result.modules.splice(index, 1);\n      }\n    }\n  }\n\n  if ('inject' in source) {\n    if (!target.inject) {\n      result.inject = source.inject;\n    } else {\n      var mergedInjection = _objectSpread({}, target.inject);\n\n      for (var key in source.inject) {\n        mergedInjection[key] = (mergedInjection[key] || '') + source.inject[key];\n      }\n\n      result.inject = mergedInjection;\n    }\n  }\n\n  return result;\n}","import \"core-js/modules/es.math.hypot.js\";\nimport * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _DEFAULT_TEXTURE_PARA;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Texture2D } from '@luma.gl/core';\nvar DEFAULT_TEXTURE_PARAMETERS = (_DEFAULT_TEXTURE_PARA = {}, _defineProperty(_DEFAULT_TEXTURE_PARA, 10241, 9987), _defineProperty(_DEFAULT_TEXTURE_PARA, 10240, 9729), _defineProperty(_DEFAULT_TEXTURE_PARA, 10242, 33071), _defineProperty(_DEFAULT_TEXTURE_PARA, 10243, 33071), _DEFAULT_TEXTURE_PARA);\nvar internalTextures = {};\nexport function createTexture(layer, image) {\n  var gl = layer.context && layer.context.gl;\n\n  if (!gl || !image) {\n    return null;\n  }\n\n  if (image instanceof Texture2D) {\n    return image;\n  } else if (image.constructor && image.constructor.name !== 'Object') {\n    image = {\n      data: image\n    };\n  }\n\n  var specialTextureParameters = null;\n\n  if (image.compressed) {\n    specialTextureParameters = _defineProperty({}, 10241, image.data.length > 1 ? 9985 : 9729);\n  }\n\n  var texture = new Texture2D(gl, _objectSpread(_objectSpread({}, image), {}, {\n    parameters: _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_TEXTURE_PARAMETERS), specialTextureParameters), layer.props.textureParameters)\n  }));\n  internalTextures[texture.id] = true;\n  return texture;\n}\nexport function destroyTexture(texture) {\n  if (!texture || !(texture instanceof Texture2D)) {\n    return;\n  }\n\n  if (internalTextures[texture.id]) {\n    texture.delete();\n    delete internalTextures[texture.id];\n  }\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { COORDINATE_SYSTEM } from '../../lib/constants';\nimport { getOffsetOrigin } from './viewport-uniforms';\nimport WebMercatorViewport from '../../viewports/web-mercator-viewport';\nimport * as vec4 from 'gl-matrix/vec4';\nimport * as vec3 from 'gl-matrix/vec3';\nimport { addMetersToLngLat } from '@math.gl/web-mercator';\n\nfunction lngLatZToWorldPosition(lngLatZ, viewport) {\n  var offsetMode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var p = viewport.projectPosition(lngLatZ);\n\n  if (offsetMode && viewport instanceof WebMercatorViewport) {\n    var _lngLatZ = _slicedToArray(lngLatZ, 3),\n        longitude = _lngLatZ[0],\n        latitude = _lngLatZ[1],\n        _lngLatZ$ = _lngLatZ[2],\n        z = _lngLatZ$ === void 0 ? 0 : _lngLatZ$;\n\n    var distanceScales = viewport.getDistanceScales([longitude, latitude]);\n    p[2] = z * distanceScales.unitsPerMeter[2];\n  }\n\n  return p;\n}\n\nfunction normalizeParameters(opts) {\n  var normalizedParams = _objectSpread({}, opts);\n\n  var coordinateSystem = opts.coordinateSystem;\n  var viewport = opts.viewport,\n      coordinateOrigin = opts.coordinateOrigin,\n      fromCoordinateSystem = opts.fromCoordinateSystem,\n      fromCoordinateOrigin = opts.fromCoordinateOrigin;\n\n  if (coordinateSystem === COORDINATE_SYSTEM.DEFAULT) {\n    coordinateSystem = viewport.isGeospatial ? COORDINATE_SYSTEM.LNGLAT : COORDINATE_SYSTEM.CARTESIAN;\n  }\n\n  if (fromCoordinateSystem === undefined) {\n    normalizedParams.fromCoordinateSystem = coordinateSystem;\n  }\n\n  if (fromCoordinateOrigin === undefined) {\n    normalizedParams.fromCoordinateOrigin = coordinateOrigin;\n  }\n\n  normalizedParams.coordinateSystem = coordinateSystem;\n  return normalizedParams;\n}\n\nexport function getWorldPosition(position, _ref) {\n  var viewport = _ref.viewport,\n      modelMatrix = _ref.modelMatrix,\n      coordinateSystem = _ref.coordinateSystem,\n      coordinateOrigin = _ref.coordinateOrigin,\n      offsetMode = _ref.offsetMode;\n\n  var _position = _slicedToArray(position, 3),\n      x = _position[0],\n      y = _position[1],\n      _position$ = _position[2],\n      z = _position$ === void 0 ? 0 : _position$;\n\n  if (modelMatrix) {\n    var _vec4$transformMat = vec4.transformMat4([], [x, y, z, 1.0], modelMatrix);\n\n    var _vec4$transformMat2 = _slicedToArray(_vec4$transformMat, 3);\n\n    x = _vec4$transformMat2[0];\n    y = _vec4$transformMat2[1];\n    z = _vec4$transformMat2[2];\n  }\n\n  switch (coordinateSystem) {\n    case COORDINATE_SYSTEM.LNGLAT:\n      return lngLatZToWorldPosition([x, y, z], viewport, offsetMode);\n\n    case COORDINATE_SYSTEM.LNGLAT_OFFSETS:\n      return lngLatZToWorldPosition([x + coordinateOrigin[0], y + coordinateOrigin[1], z + (coordinateOrigin[2] || 0)], viewport, offsetMode);\n\n    case COORDINATE_SYSTEM.METER_OFFSETS:\n      return lngLatZToWorldPosition(addMetersToLngLat(coordinateOrigin, [x, y, z]), viewport, offsetMode);\n\n    case COORDINATE_SYSTEM.CARTESIAN:\n    default:\n      return viewport.isGeospatial ? [x + coordinateOrigin[0], y + coordinateOrigin[1], z + coordinateOrigin[2]] : viewport.projectPosition([x, y, z]);\n  }\n}\nexport function projectPosition(position, params) {\n  var _normalizeParameters = normalizeParameters(params),\n      viewport = _normalizeParameters.viewport,\n      coordinateSystem = _normalizeParameters.coordinateSystem,\n      coordinateOrigin = _normalizeParameters.coordinateOrigin,\n      modelMatrix = _normalizeParameters.modelMatrix,\n      fromCoordinateSystem = _normalizeParameters.fromCoordinateSystem,\n      fromCoordinateOrigin = _normalizeParameters.fromCoordinateOrigin;\n\n  var _getOffsetOrigin = getOffsetOrigin(viewport, coordinateSystem, coordinateOrigin),\n      geospatialOrigin = _getOffsetOrigin.geospatialOrigin,\n      shaderCoordinateOrigin = _getOffsetOrigin.shaderCoordinateOrigin,\n      offsetMode = _getOffsetOrigin.offsetMode;\n\n  var worldPosition = getWorldPosition(position, {\n    viewport: viewport,\n    modelMatrix: modelMatrix,\n    coordinateSystem: fromCoordinateSystem,\n    coordinateOrigin: fromCoordinateOrigin,\n    offsetMode: offsetMode\n  });\n\n  if (offsetMode) {\n    var positionCommonSpace = viewport.projectPosition(geospatialOrigin || shaderCoordinateOrigin);\n    vec3.sub(worldPosition, worldPosition, positionCommonSpace);\n  }\n\n  return worldPosition;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createTexture, destroyTexture } from '../utils/texture';\nvar TYPE_DEFINITIONS = {\n  boolean: {\n    validate: function validate(value, propType) {\n      return true;\n    },\n    equal: function equal(value1, value2, propType) {\n      return Boolean(value1) === Boolean(value2);\n    }\n  },\n  number: {\n    validate: function validate(value, propType) {\n      return Number.isFinite(value) && (!('max' in propType) || value <= propType.max) && (!('min' in propType) || value >= propType.min);\n    }\n  },\n  color: {\n    validate: function validate(value, propType) {\n      return propType.optional && !value || isArray(value) && (value.length === 3 || value.length === 4);\n    },\n    equal: function equal(value1, value2, propType) {\n      return arrayEqual(value1, value2);\n    }\n  },\n  accessor: {\n    validate: function validate(value, propType) {\n      var valueType = getTypeOf(value);\n      return valueType === 'function' || valueType === getTypeOf(propType.value);\n    },\n    equal: function equal(value1, value2, propType) {\n      if (typeof value2 === 'function') {\n        return true;\n      }\n\n      return arrayEqual(value1, value2);\n    }\n  },\n  array: {\n    validate: function validate(value, propType) {\n      return propType.optional && !value || isArray(value);\n    },\n    equal: function equal(value1, value2, propType) {\n      return propType.compare ? arrayEqual(value1, value2) : value1 === value2;\n    }\n  },\n  function: {\n    validate: function validate(value, propType) {\n      return propType.optional && !value || typeof value === 'function';\n    },\n    equal: function equal(value1, value2, propType) {\n      return !propType.compare || value1 === value2;\n    }\n  },\n  data: {\n    transform: function transform(value, propType, component) {\n      var _ref = component ? component.props : {},\n          dataTransform = _ref.dataTransform;\n\n      return dataTransform && value ? dataTransform(value) : value;\n    }\n  },\n  image: {\n    transform: function transform(value, propType, component) {\n      return createTexture(component, value);\n    },\n    release: function release(value) {\n      destroyTexture(value);\n    }\n  }\n};\n\nfunction arrayEqual(array1, array2) {\n  if (array1 === array2) {\n    return true;\n  }\n\n  if (!isArray(array1) || !isArray(array2)) {\n    return false;\n  }\n\n  var len = array1.length;\n\n  if (len !== array2.length) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function parsePropTypes(propDefs) {\n  var propTypes = {};\n  var defaultProps = {};\n  var deprecatedProps = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(propDefs); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        propName = _Object$entries$_i[0],\n        propDef = _Object$entries$_i[1];\n\n    if (propDef && propDef.deprecatedFor) {\n      deprecatedProps[propName] = Array.isArray(propDef.deprecatedFor) ? propDef.deprecatedFor : [propDef.deprecatedFor];\n    } else {\n      var propType = parsePropType(propName, propDef);\n      propTypes[propName] = propType;\n      defaultProps[propName] = propType.value;\n    }\n  }\n\n  return {\n    propTypes: propTypes,\n    defaultProps: defaultProps,\n    deprecatedProps: deprecatedProps\n  };\n}\n\nfunction parsePropType(name, propDef) {\n  switch (getTypeOf(propDef)) {\n    case 'object':\n      return normalizePropDefinition(name, propDef);\n\n    case 'array':\n      return normalizePropDefinition(name, {\n        type: 'array',\n        value: propDef,\n        compare: false\n      });\n\n    case 'boolean':\n      return normalizePropDefinition(name, {\n        type: 'boolean',\n        value: propDef\n      });\n\n    case 'number':\n      return normalizePropDefinition(name, {\n        type: 'number',\n        value: propDef\n      });\n\n    case 'function':\n      return normalizePropDefinition(name, {\n        type: 'function',\n        value: propDef,\n        compare: true\n      });\n\n    default:\n      return {\n        name: name,\n        type: 'unknown',\n        value: propDef\n      };\n  }\n}\n\nfunction normalizePropDefinition(name, propDef) {\n  if (!('type' in propDef)) {\n    if (!('value' in propDef)) {\n      return {\n        name: name,\n        type: 'object',\n        value: propDef\n      };\n    }\n\n    return _objectSpread({\n      name: name,\n      type: getTypeOf(propDef.value)\n    }, propDef);\n  }\n\n  return _objectSpread(_objectSpread({\n    name: name\n  }, TYPE_DEFINITIONS[propDef.type]), propDef);\n}\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nfunction getTypeOf(value) {\n  if (isArray(value)) {\n    return 'array';\n  }\n\n  if (value === null) {\n    return 'null';\n  }\n\n  return typeof value;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport log from '../utils/log';\nimport { isAsyncIterable } from '../utils/iterable-utils';\nimport { parsePropTypes } from './prop-types';\nimport { PROP_SYMBOLS } from './constants';\nvar COMPONENT = PROP_SYMBOLS.COMPONENT,\n    ASYNC_ORIGINAL = PROP_SYMBOLS.ASYNC_ORIGINAL,\n    ASYNC_RESOLVED = PROP_SYMBOLS.ASYNC_RESOLVED,\n    ASYNC_DEFAULTS = PROP_SYMBOLS.ASYNC_DEFAULTS;\nexport function createProps() {\n  var component = this;\n  var propsPrototype = getPropsPrototype(component.constructor);\n  var propsInstance = Object.create(propsPrototype);\n  propsInstance[COMPONENT] = component;\n  propsInstance[ASYNC_ORIGINAL] = {};\n  propsInstance[ASYNC_RESOLVED] = {};\n\n  for (var i = 0; i < arguments.length; ++i) {\n    var props = arguments[i];\n\n    for (var key in props) {\n      propsInstance[key] = props[key];\n    }\n  }\n\n  Object.freeze(propsInstance);\n  return propsInstance;\n}\n\nfunction getPropsPrototype(componentClass) {\n  var defaultProps = getOwnProperty(componentClass, '_mergedDefaultProps');\n\n  if (!defaultProps) {\n    createPropsPrototypeAndTypes(componentClass);\n    return componentClass._mergedDefaultProps;\n  }\n\n  return defaultProps;\n}\n\nfunction createPropsPrototypeAndTypes(componentClass) {\n  var parent = componentClass.prototype;\n\n  if (!parent) {\n    return;\n  }\n\n  var parentClass = Object.getPrototypeOf(componentClass);\n  var parentDefaultProps = getPropsPrototype(parentClass);\n  var componentDefaultProps = getOwnProperty(componentClass, 'defaultProps') || {};\n  var componentPropDefs = parsePropTypes(componentDefaultProps);\n  var defaultProps = createPropsPrototype(componentPropDefs.defaultProps, parentDefaultProps, componentClass);\n\n  var propTypes = _objectSpread(_objectSpread({}, parentClass._propTypes), componentPropDefs.propTypes);\n\n  addAsyncPropsToPropPrototype(defaultProps, propTypes);\n\n  var deprecatedProps = _objectSpread(_objectSpread({}, parentClass._deprecatedProps), componentPropDefs.deprecatedProps);\n\n  addDeprecatedPropsToPropPrototype(defaultProps, deprecatedProps);\n  componentClass._mergedDefaultProps = defaultProps;\n  componentClass._propTypes = propTypes;\n  componentClass._deprecatedProps = deprecatedProps;\n}\n\nfunction createPropsPrototype(props, parentProps, componentClass) {\n  var defaultProps = Object.create(null);\n  Object.assign(defaultProps, parentProps, props);\n  var id = getComponentName(componentClass);\n  delete props.id;\n  Object.defineProperties(defaultProps, {\n    id: {\n      writable: true,\n      value: id\n    }\n  });\n  return defaultProps;\n}\n\nfunction addDeprecatedPropsToPropPrototype(defaultProps, deprecatedProps) {\n  var _loop = function _loop(propName) {\n    Object.defineProperty(defaultProps, propName, {\n      enumerable: false,\n      set: function set(newValue) {\n        var nameStr = \"\".concat(this.id, \": \").concat(propName);\n\n        var _iterator = _createForOfIteratorHelper(deprecatedProps[propName]),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var newPropName = _step.value;\n\n            if (!hasOwnProperty(this, newPropName)) {\n              this[newPropName] = newValue;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        log.deprecated(nameStr, deprecatedProps[propName].join('/'))();\n      }\n    });\n  };\n\n  for (var propName in deprecatedProps) {\n    _loop(propName);\n  }\n}\n\nfunction addAsyncPropsToPropPrototype(defaultProps, propTypes) {\n  var defaultValues = {};\n  var descriptors = {};\n\n  for (var propName in propTypes) {\n    var propType = propTypes[propName];\n    var name = propType.name,\n        value = propType.value;\n\n    if (propType.async) {\n      defaultValues[name] = value;\n      descriptors[name] = getDescriptorForAsyncProp(name, value);\n    }\n  }\n\n  defaultProps[ASYNC_DEFAULTS] = defaultValues;\n  defaultProps[ASYNC_ORIGINAL] = {};\n  Object.defineProperties(defaultProps, descriptors);\n}\n\nfunction getDescriptorForAsyncProp(name) {\n  return {\n    enumerable: true,\n    set: function set(newValue) {\n      if (typeof newValue === 'string' || newValue instanceof Promise || isAsyncIterable(newValue)) {\n        this[ASYNC_ORIGINAL][name] = newValue;\n      } else {\n        this[ASYNC_RESOLVED][name] = newValue;\n      }\n    },\n    get: function get() {\n      if (this[ASYNC_RESOLVED]) {\n        if (name in this[ASYNC_RESOLVED]) {\n          var value = this[ASYNC_RESOLVED][name];\n          return value || this[ASYNC_DEFAULTS][name];\n        }\n\n        if (name in this[ASYNC_ORIGINAL]) {\n          var state = this[COMPONENT] && this[COMPONENT].internalState;\n\n          if (state && state.hasAsyncProp(name)) {\n            return state.getAsyncProp(name) || this[ASYNC_DEFAULTS][name];\n          }\n        }\n      }\n\n      return this[ASYNC_DEFAULTS][name];\n    }\n  };\n}\n\nfunction hasOwnProperty(object, prop) {\n  return Object.prototype.hasOwnProperty.call(object, prop);\n}\n\nfunction getOwnProperty(object, prop) {\n  return hasOwnProperty(object, prop) && object[prop];\n}\n\nfunction getComponentName(componentClass) {\n  var componentName = getOwnProperty(componentClass, 'layerName') || getOwnProperty(componentClass, 'componentName');\n\n  if (!componentName) {\n    log.once(0, \"\".concat(componentClass.name, \".componentName not specified\"))();\n  }\n\n  return componentName || componentClass.name;\n}","import _asyncToGenerator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _asyncIterator from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/asyncIterator\";\nimport _regeneratorRuntime from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/regenerator\";\nimport { isAsyncIterable } from '../utils/iterable-utils';\nimport { PROP_SYMBOLS } from './constants';\nvar ASYNC_ORIGINAL = PROP_SYMBOLS.ASYNC_ORIGINAL,\n    ASYNC_RESOLVED = PROP_SYMBOLS.ASYNC_RESOLVED,\n    ASYNC_DEFAULTS = PROP_SYMBOLS.ASYNC_DEFAULTS;\nvar EMPTY_PROPS = Object.freeze({});\n\nvar ComponentState = /*#__PURE__*/function () {\n  function ComponentState() {\n    var component = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, ComponentState);\n\n    this.component = component;\n    this.asyncProps = {};\n\n    this.onAsyncPropUpdated = function () {};\n\n    this.oldProps = EMPTY_PROPS;\n    this.oldAsyncProps = null;\n  }\n\n  _createClass(ComponentState, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var propName in this.asyncProps) {\n        var asyncProp = this.asyncProps[propName];\n\n        if (asyncProp.type && asyncProp.type.release) {\n          asyncProp.type.release(asyncProp.resolvedValue, asyncProp.type, this.component);\n        }\n      }\n    }\n  }, {\n    key: \"getOldProps\",\n    value: function getOldProps() {\n      return this.oldAsyncProps || this.oldProps;\n    }\n  }, {\n    key: \"resetOldProps\",\n    value: function resetOldProps() {\n      this.oldAsyncProps = null;\n      this.oldProps = this.component.props;\n    }\n  }, {\n    key: \"freezeAsyncOldProps\",\n    value: function freezeAsyncOldProps() {\n      if (!this.oldAsyncProps) {\n        this.oldProps = this.oldProps || this.component.props;\n        this.oldAsyncProps = Object.create(this.oldProps);\n\n        for (var propName in this.asyncProps) {\n          Object.defineProperty(this.oldAsyncProps, propName, {\n            enumerable: true,\n            value: this.oldProps[propName]\n          });\n        }\n      }\n    }\n  }, {\n    key: \"hasAsyncProp\",\n    value: function hasAsyncProp(propName) {\n      return propName in this.asyncProps;\n    }\n  }, {\n    key: \"getAsyncProp\",\n    value: function getAsyncProp(propName) {\n      var asyncProp = this.asyncProps[propName];\n      return asyncProp && asyncProp.resolvedValue;\n    }\n  }, {\n    key: \"isAsyncPropLoading\",\n    value: function isAsyncPropLoading(propName) {\n      if (propName) {\n        var asyncProp = this.asyncProps[propName];\n        return Boolean(asyncProp && asyncProp.pendingLoadCount > 0 && asyncProp.pendingLoadCount !== asyncProp.resolvedLoadCount);\n      }\n\n      for (var key in this.asyncProps) {\n        if (this.isAsyncPropLoading(key)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"reloadAsyncProp\",\n    value: function reloadAsyncProp(propName, value) {\n      this._watchPromise(propName, Promise.resolve(value));\n    }\n  }, {\n    key: \"setAsyncProps\",\n    value: function setAsyncProps(props) {\n      var resolvedValues = props[ASYNC_RESOLVED] || {};\n      var originalValues = props[ASYNC_ORIGINAL] || props;\n      var defaultValues = props[ASYNC_DEFAULTS] || {};\n\n      for (var propName in resolvedValues) {\n        var value = resolvedValues[propName];\n\n        this._createAsyncPropData(propName, defaultValues[propName]);\n\n        this._updateAsyncProp(propName, value);\n\n        resolvedValues[propName] = this.getAsyncProp(propName);\n      }\n\n      for (var _propName in originalValues) {\n        var _value = originalValues[_propName];\n\n        this._createAsyncPropData(_propName, defaultValues[_propName]);\n\n        this._updateAsyncProp(_propName, _value);\n      }\n    }\n  }, {\n    key: \"_updateAsyncProp\",\n    value: function _updateAsyncProp(propName, value) {\n      if (!this._didAsyncInputValueChange(propName, value)) {\n        return;\n      }\n\n      if (typeof value === 'string') {\n        var _this$layer;\n\n        var fetch = (_this$layer = this.layer) === null || _this$layer === void 0 ? void 0 : _this$layer.props.fetch;\n        var url = value;\n\n        if (fetch) {\n          value = fetch(url, {\n            propName: propName,\n            layer: this.layer\n          });\n        }\n      }\n\n      if (value instanceof Promise) {\n        this._watchPromise(propName, value);\n\n        return;\n      }\n\n      if (isAsyncIterable(value)) {\n        this._resolveAsyncIterable(propName, value);\n\n        return;\n      }\n\n      this._setPropValue(propName, value);\n    }\n  }, {\n    key: \"_didAsyncInputValueChange\",\n    value: function _didAsyncInputValueChange(propName, value) {\n      var asyncProp = this.asyncProps[propName];\n\n      if (value === asyncProp.resolvedValue || value === asyncProp.lastValue) {\n        return false;\n      }\n\n      asyncProp.lastValue = value;\n      return true;\n    }\n  }, {\n    key: \"_setPropValue\",\n    value: function _setPropValue(propName, value) {\n      this.freezeAsyncOldProps();\n      var asyncProp = this.asyncProps[propName];\n      value = this._postProcessValue(asyncProp, value);\n      asyncProp.resolvedValue = value;\n      asyncProp.pendingLoadCount++;\n      asyncProp.resolvedLoadCount = asyncProp.pendingLoadCount;\n    }\n  }, {\n    key: \"_setAsyncPropValue\",\n    value: function _setAsyncPropValue(propName, value, loadCount) {\n      var asyncProp = this.asyncProps[propName];\n\n      if (asyncProp && loadCount >= asyncProp.resolvedLoadCount && value !== undefined) {\n        this.freezeAsyncOldProps();\n        asyncProp.resolvedValue = value;\n        asyncProp.resolvedLoadCount = loadCount;\n        this.onAsyncPropUpdated(propName, value);\n      }\n    }\n  }, {\n    key: \"_watchPromise\",\n    value: function _watchPromise(propName, promise) {\n      var _this = this;\n\n      var asyncProp = this.asyncProps[propName];\n      asyncProp.pendingLoadCount++;\n      var loadCount = asyncProp.pendingLoadCount;\n      promise.then(function (data) {\n        var _this$layer2;\n\n        data = _this._postProcessValue(asyncProp, data);\n\n        _this._setAsyncPropValue(propName, data, loadCount);\n\n        var onDataLoad = (_this$layer2 = _this.layer) === null || _this$layer2 === void 0 ? void 0 : _this$layer2.props.onDataLoad;\n\n        if (propName === 'data' && onDataLoad) {\n          onDataLoad(data, {\n            propName: propName,\n            layer: _this.layer\n          });\n        }\n      }).catch(function (error) {\n        var _this$layer3;\n\n        (_this$layer3 = _this.layer) === null || _this$layer3 === void 0 ? void 0 : _this$layer3.raiseError(error, \"loading \".concat(propName, \" of \").concat(_this.layer));\n      });\n    }\n  }, {\n    key: \"_resolveAsyncIterable\",\n    value: function () {\n      var _resolveAsyncIterable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(propName, iterable) {\n        var _this$layer4, asyncProp, loadCount, data, count, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, chunk, _ref, dataTransform, onDataLoad;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (propName !== 'data') {\n                  this._setPropValue(propName, iterable);\n                }\n\n                asyncProp = this.asyncProps[propName];\n                asyncProp.pendingLoadCount++;\n                loadCount = asyncProp.pendingLoadCount;\n                data = [];\n                count = 0;\n                _iteratorAbruptCompletion = false;\n                _didIteratorError = false;\n                _context.prev = 8;\n                _iterator = _asyncIterator(iterable);\n\n              case 10:\n                _context.next = 12;\n                return _iterator.next();\n\n              case 12:\n                if (!(_iteratorAbruptCompletion = !(_step = _context.sent).done)) {\n                  _context.next = 22;\n                  break;\n                }\n\n                chunk = _step.value;\n                _ref = this.component ? this.component.props : {}, dataTransform = _ref.dataTransform;\n\n                if (dataTransform) {\n                  data = dataTransform(chunk, data);\n                } else {\n                  data = data.concat(chunk);\n                }\n\n                Object.defineProperty(data, '__diff', {\n                  enumerable: false,\n                  value: [{\n                    startRow: count,\n                    endRow: data.length\n                  }]\n                });\n                count = data.length;\n\n                this._setAsyncPropValue(propName, data, loadCount);\n\n              case 19:\n                _iteratorAbruptCompletion = false;\n                _context.next = 10;\n                break;\n\n              case 22:\n                _context.next = 28;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context[\"catch\"](8);\n                _didIteratorError = true;\n                _iteratorError = _context.t0;\n\n              case 28:\n                _context.prev = 28;\n                _context.prev = 29;\n\n                if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                  _context.next = 33;\n                  break;\n                }\n\n                _context.next = 33;\n                return _iterator.return();\n\n              case 33:\n                _context.prev = 33;\n\n                if (!_didIteratorError) {\n                  _context.next = 36;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 36:\n                return _context.finish(33);\n\n              case 37:\n                return _context.finish(28);\n\n              case 38:\n                onDataLoad = (_this$layer4 = this.layer) === null || _this$layer4 === void 0 ? void 0 : _this$layer4.props.onDataLoad;\n\n                if (onDataLoad) {\n                  onDataLoad(data, {\n                    propName: propName,\n                    layer: this.layer\n                  });\n                }\n\n              case 40:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[8, 24, 28, 38], [29,, 33, 37]]);\n      }));\n\n      function _resolveAsyncIterable(_x, _x2) {\n        return _resolveAsyncIterable2.apply(this, arguments);\n      }\n\n      return _resolveAsyncIterable;\n    }()\n  }, {\n    key: \"_postProcessValue\",\n    value: function _postProcessValue(asyncProp, value) {\n      var propType = asyncProp.type;\n\n      if (propType) {\n        if (propType.release) {\n          propType.release(asyncProp.resolvedValue, propType, this.component);\n        }\n\n        if (propType.transform) {\n          return propType.transform(value, propType, this.component);\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"_createAsyncPropData\",\n    value: function _createAsyncPropData(propName, defaultValue) {\n      var asyncProp = this.asyncProps[propName];\n\n      if (!asyncProp) {\n        var propTypes = this.component && this.component.constructor._propTypes;\n        this.asyncProps[propName] = {\n          type: propTypes && propTypes[propName],\n          lastValue: null,\n          resolvedValue: defaultValue,\n          pendingLoadCount: 0,\n          resolvedLoadCount: 0\n        };\n      }\n    }\n  }]);\n\n  return ComponentState;\n}();\n\nexport { ComponentState as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { LIFECYCLE } from '../lifecycle/constants';\nimport { createProps } from './create-props';\nimport { PROP_SYMBOLS } from './constants';\nvar ASYNC_ORIGINAL = PROP_SYMBOLS.ASYNC_ORIGINAL,\n    ASYNC_RESOLVED = PROP_SYMBOLS.ASYNC_RESOLVED,\n    ASYNC_DEFAULTS = PROP_SYMBOLS.ASYNC_DEFAULTS;\nimport ComponentState from './component-state';\nvar defaultProps = {};\nvar counter = 0;\n\nvar Component = /*#__PURE__*/function () {\n  function Component() {\n    _classCallCheck(this, Component);\n\n    this.props = createProps.apply(this, arguments);\n    this.id = this.props.id;\n    this.count = counter++;\n    this.lifecycle = LIFECYCLE.NO_STATE;\n    this.parent = null;\n    this.context = null;\n    this.state = null;\n    this.internalState = null;\n    Object.seal(this);\n  }\n\n  _createClass(Component, [{\n    key: \"root\",\n    get: function get() {\n      var component = this;\n\n      while (component.parent) {\n        component = component.parent;\n      }\n\n      return component;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(newProps) {\n      var props = this.props;\n      var asyncProps = {};\n\n      for (var key in props[ASYNC_DEFAULTS]) {\n        if (key in props[ASYNC_RESOLVED]) {\n          asyncProps[key] = props[ASYNC_RESOLVED][key];\n        } else if (key in props[ASYNC_ORIGINAL]) {\n          asyncProps[key] = props[ASYNC_ORIGINAL][key];\n        }\n      }\n\n      return new this.constructor(_objectSpread(_objectSpread(_objectSpread({}, props), asyncProps), newProps));\n    }\n  }, {\n    key: \"stats\",\n    get: function get() {\n      return this.internalState.stats;\n    }\n  }, {\n    key: \"_initState\",\n    value: function _initState() {\n      this.internalState = new ComponentState({});\n    }\n  }]);\n\n  return Component;\n}();\n\nexport { Component as default };\nComponent.componentName = 'Component';\nComponent.defaultProps = defaultProps;","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport ComponentState from '../lifecycle/component-state';\n\nvar LayerState = /*#__PURE__*/function (_ComponentState) {\n  _inherits(LayerState, _ComponentState);\n\n  var _super = _createSuper(LayerState);\n\n  function LayerState(_ref) {\n    var _this;\n\n    var attributeManager = _ref.attributeManager,\n        layer = _ref.layer;\n\n    _classCallCheck(this, LayerState);\n\n    _this = _super.call(this, layer);\n    _this.attributeManager = attributeManager;\n    _this.model = null;\n    _this.needsRedraw = true;\n    _this.subLayers = null;\n    _this.usesPickingColorCache = false;\n    return _this;\n  }\n\n  _createClass(LayerState, [{\n    key: \"layer\",\n    get: function get() {\n      return this.component;\n    },\n    set: function set(layer) {\n      this.component = layer;\n    }\n  }]);\n\n  return LayerState;\n}(ComponentState);\n\nexport { LayerState as default };","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { COORDINATE_SYSTEM } from './constants';\nimport AttributeManager from './attribute/attribute-manager';\nimport UniformTransitionManager from './uniform-transition-manager';\nimport { diffProps as _diffProps, validateProps as _validateProps } from '../lifecycle/props';\nimport { count } from '../utils/count';\nimport log from '../utils/log';\nimport debug from '../debug';\nimport { withParameters, setParameters } from '@luma.gl/core';\nimport assert from '../utils/assert';\nimport memoize from '../utils/memoize';\nimport { mergeShaders } from '../utils/shader';\nimport { projectPosition as _projectPosition, getWorldPosition } from '../shaderlib/project/project-functions';\nimport typedArrayManager from '../utils/typed-array-manager';\nimport Component from '../lifecycle/component';\nimport LayerState from './layer-state';\nimport { worldToPixels } from '@math.gl/web-mercator';\nimport { load } from '@loaders.gl/core';\nvar TRACE_CHANGE_FLAG = 'layer.changeFlag';\nvar TRACE_INITIALIZE = 'layer.initialize';\nvar TRACE_UPDATE = 'layer.update';\nvar TRACE_FINALIZE = 'layer.finalize';\nvar TRACE_MATCHED = 'layer.matched';\nvar MAX_PICKING_COLOR_CACHE_SIZE = Math.pow(2, 24) - 1;\nvar EMPTY_ARRAY = Object.freeze([]);\nvar areViewportsEqual = memoize(function (_ref) {\n  var oldViewport = _ref.oldViewport,\n      viewport = _ref.viewport;\n  return oldViewport.equals(viewport);\n});\nvar pickingColorCache = new Uint8ClampedArray(0);\nvar defaultProps = {\n  data: {\n    type: 'data',\n    value: EMPTY_ARRAY,\n    async: true\n  },\n  dataComparator: null,\n  _dataDiff: {\n    type: 'function',\n    value: function value(data) {\n      return data && data.__diff;\n    },\n    compare: false,\n    optional: true\n  },\n  dataTransform: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDataLoad: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onError: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  fetch: {\n    type: 'function',\n    value: function value(url, _ref2) {\n      var propName = _ref2.propName,\n          layer = _ref2.layer,\n          loaders = _ref2.loaders,\n          loadOptions = _ref2.loadOptions,\n          signal = _ref2.signal;\n      var resourceManager = layer.context.resourceManager;\n      loadOptions = loadOptions || layer.getLoadOptions();\n      loaders = loaders || layer.props.loaders;\n\n      if (signal) {\n        var _loadOptions;\n\n        loadOptions = _objectSpread(_objectSpread({}, loadOptions), {}, {\n          fetch: _objectSpread(_objectSpread({}, (_loadOptions = loadOptions) === null || _loadOptions === void 0 ? void 0 : _loadOptions.fetch), {}, {\n            signal: signal\n          })\n        });\n      }\n\n      var inResourceManager = resourceManager.contains(url);\n\n      if (!inResourceManager && !loadOptions) {\n        resourceManager.add({\n          resourceId: url,\n          data: load(url, loaders),\n          persistent: false\n        });\n        inResourceManager = true;\n      }\n\n      if (inResourceManager) {\n        return resourceManager.subscribe({\n          resourceId: url,\n          onChange: function onChange(data) {\n            return layer.internalState.reloadAsyncProp(propName, data);\n          },\n          consumerId: layer.id,\n          requestId: propName\n        });\n      }\n\n      return load(url, loaders, loadOptions);\n    },\n    compare: false\n  },\n  updateTriggers: {},\n  visible: true,\n  pickable: false,\n  opacity: {\n    type: 'number',\n    min: 0,\n    max: 1,\n    value: 1\n  },\n  onHover: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onClick: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDragStart: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDrag: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDragEnd: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  coordinateSystem: COORDINATE_SYSTEM.DEFAULT,\n  coordinateOrigin: {\n    type: 'array',\n    value: [0, 0, 0],\n    compare: true\n  },\n  modelMatrix: {\n    type: 'array',\n    value: null,\n    compare: true,\n    optional: true\n  },\n  wrapLongitude: false,\n  positionFormat: 'XYZ',\n  colorFormat: 'RGBA',\n  parameters: {},\n  transitions: null,\n  extensions: [],\n  loaders: {\n    type: 'array',\n    value: [],\n    optional: true,\n    compare: true\n  },\n  getPolygonOffset: {\n    type: 'function',\n    value: function value(_ref3) {\n      var layerIndex = _ref3.layerIndex;\n      return [0, -layerIndex * 100];\n    },\n    compare: false\n  },\n  highlightedObjectIndex: -1,\n  autoHighlight: false,\n  highlightColor: {\n    type: 'accessor',\n    value: [0, 0, 128, 128]\n  }\n};\n\nvar Layer = /*#__PURE__*/function (_Component) {\n  _inherits(Layer, _Component);\n\n  var _super = _createSuper(Layer);\n\n  function Layer() {\n    _classCallCheck(this, Layer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Layer, [{\n    key: \"toString\",\n    value: function toString() {\n      var className = this.constructor.layerName || this.constructor.name;\n      return \"\".concat(className, \"({id: '\").concat(this.props.id, \"'})\");\n    }\n  }, {\n    key: \"raiseError\",\n    value: function raiseError(error, message) {\n      var _this$props$onError, _this$props;\n\n      if (message) {\n        error.message = \"\".concat(message, \": \").concat(error.message);\n      }\n\n      if (!((_this$props$onError = (_this$props = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props, error))) {\n        var _this$context, _this$context$onError;\n\n        (_this$context = this.context) === null || _this$context === void 0 ? void 0 : (_this$context$onError = _this$context.onError) === null || _this$context$onError === void 0 ? void 0 : _this$context$onError.call(_this$context, error, this);\n      }\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(updateObject) {\n      this.setChangeFlags({\n        stateChanged: true\n      });\n      Object.assign(this.state, updateObject);\n      this.setNeedsRedraw();\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var redraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.internalState) {\n        this.internalState.needsRedraw = redraw;\n      }\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate() {\n      this.context.layerManager.setNeedsUpdate(String(this));\n      this.internalState.needsUpdate = true;\n    }\n  }, {\n    key: \"getNeedsRedraw\",\n    value: function getNeedsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      return this._getNeedsRedraw(opts);\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this.internalState.needsUpdate || this.hasUniformTransition() || this.shouldUpdateState(this._getUpdateParams());\n    }\n  }, {\n    key: \"hasUniformTransition\",\n    value: function hasUniformTransition() {\n      return this.internalState.uniformTransitions.active;\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return this.internalState && !this.internalState.isAsyncPropLoading();\n    }\n  }, {\n    key: \"wrapLongitude\",\n    get: function get() {\n      return this.props.wrapLongitude;\n    }\n  }, {\n    key: \"isPickable\",\n    value: function isPickable() {\n      return this.props.pickable && this.props.visible;\n    }\n  }, {\n    key: \"getModels\",\n    value: function getModels() {\n      return this.state && (this.state.models || (this.state.model ? [this.state.model] : []));\n    }\n  }, {\n    key: \"getAttributeManager\",\n    value: function getAttributeManager() {\n      return this.internalState && this.internalState.attributeManager;\n    }\n  }, {\n    key: \"getCurrentLayer\",\n    value: function getCurrentLayer() {\n      return this.internalState && this.internalState.layer;\n    }\n  }, {\n    key: \"getLoadOptions\",\n    value: function getLoadOptions() {\n      return this.props.loadOptions;\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var viewport = this.context.viewport;\n      var worldPosition = getWorldPosition(xyz, {\n        viewport: viewport,\n        modelMatrix: this.props.modelMatrix,\n        coordinateOrigin: this.props.coordinateOrigin,\n        coordinateSystem: this.props.coordinateSystem\n      });\n\n      var _worldToPixels = worldToPixels(worldPosition, viewport.pixelProjectionMatrix),\n          _worldToPixels2 = _slicedToArray(_worldToPixels, 3),\n          x = _worldToPixels2[0],\n          y = _worldToPixels2[1],\n          z = _worldToPixels2[2];\n\n      return xyz.length === 2 ? [x, y] : [x, y, z];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xy) {\n      var viewport = this.context.viewport;\n      return viewport.unproject(xy);\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      return _projectPosition(xyz, {\n        viewport: this.context.viewport,\n        modelMatrix: this.props.modelMatrix,\n        coordinateOrigin: this.props.coordinateOrigin,\n        coordinateSystem: this.props.coordinateSystem\n      });\n    }\n  }, {\n    key: \"use64bitPositions\",\n    value: function use64bitPositions() {\n      var coordinateSystem = this.props.coordinateSystem;\n      return coordinateSystem === COORDINATE_SYSTEM.DEFAULT || coordinateSystem === COORDINATE_SYSTEM.LNGLAT || coordinateSystem === COORDINATE_SYSTEM.CARTESIAN;\n    }\n  }, {\n    key: \"onHover\",\n    value: function onHover(info, pickingEvent) {\n      if (this.props.onHover) {\n        return this.props.onHover(info, pickingEvent);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(info, pickingEvent) {\n      if (this.props.onClick) {\n        return this.props.onClick(info, pickingEvent);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"nullPickingColor\",\n    value: function nullPickingColor() {\n      return [0, 0, 0];\n    }\n  }, {\n    key: \"encodePickingColor\",\n    value: function encodePickingColor(i) {\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      target[0] = i + 1 & 255;\n      target[1] = i + 1 >> 8 & 255;\n      target[2] = i + 1 >> 8 >> 8 & 255;\n      return target;\n    }\n  }, {\n    key: \"decodePickingColor\",\n    value: function decodePickingColor(color) {\n      assert(color instanceof Uint8Array);\n\n      var _color = _slicedToArray(color, 3),\n          i1 = _color[0],\n          i2 = _color[1],\n          i3 = _color[2];\n\n      var index = i1 + i2 * 256 + i3 * 65536 - 1;\n      return index;\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      throw new Error(\"Layer \".concat(this, \" has not defined initializeState\"));\n    }\n  }, {\n    key: \"getShaders\",\n    value: function getShaders(shaders) {\n      var _iterator = _createForOfIteratorHelper(this.props.extensions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var extension = _step.value;\n          shaders = mergeShaders(shaders, extension.getShaders.call(this, extension));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return shaders;\n    }\n  }, {\n    key: \"shouldUpdateState\",\n    value: function shouldUpdateState(_ref4) {\n      var oldProps = _ref4.oldProps,\n          props = _ref4.props,\n          context = _ref4.context,\n          changeFlags = _ref4.changeFlags;\n      return changeFlags.propsOrDataChanged;\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref5) {\n      var oldProps = _ref5.oldProps,\n          props = _ref5.props,\n          context = _ref5.context,\n          changeFlags = _ref5.changeFlags;\n      var attributeManager = this.getAttributeManager();\n\n      if (changeFlags.dataChanged && attributeManager) {\n        var dataChanged = changeFlags.dataChanged;\n\n        if (Array.isArray(dataChanged)) {\n          var _iterator2 = _createForOfIteratorHelper(dataChanged),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var dataRange = _step2.value;\n              attributeManager.invalidateAll(dataRange);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        } else {\n          attributeManager.invalidateAll();\n        }\n      }\n\n      var neededPickingBuffer = oldProps.highlightedObjectIndex >= 0 || oldProps.pickable;\n      var needPickingBuffer = props.highlightedObjectIndex >= 0 || props.pickable;\n\n      if (neededPickingBuffer !== needPickingBuffer && attributeManager) {\n        var _attributeManager$att = attributeManager.attributes,\n            pickingColors = _attributeManager$att.pickingColors,\n            instancePickingColors = _attributeManager$att.instancePickingColors;\n        var pickingColorsAttribute = pickingColors || instancePickingColors;\n\n        if (pickingColorsAttribute) {\n          if (needPickingBuffer && pickingColorsAttribute.constant) {\n            pickingColorsAttribute.constant = false;\n            attributeManager.invalidate(pickingColorsAttribute.id);\n          }\n\n          if (!pickingColorsAttribute.value && !needPickingBuffer) {\n            pickingColorsAttribute.constant = true;\n            pickingColorsAttribute.value = [0, 0, 0];\n          }\n        }\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      var _iterator3 = _createForOfIteratorHelper(this.getModels()),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var model = _step3.value;\n          model.delete();\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      var attributeManager = this.getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.finalize();\n      }\n\n      this.context.resourceManager.unsubscribe({\n        consumerId: this.id\n      });\n      this.internalState.uniformTransitions.clear();\n      this.internalState.finalize();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(opts) {\n      var _iterator4 = _createForOfIteratorHelper(this.getModels()),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var model = _step4.value;\n          model.draw(opts);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref6) {\n      var info = _ref6.info,\n          mode = _ref6.mode;\n      var index = info.index;\n\n      if (index >= 0) {\n        if (Array.isArray(this.props.data)) {\n          info.object = this.props.data[index];\n        }\n      }\n\n      return info;\n    }\n  }, {\n    key: \"activateViewport\",\n    value: function activateViewport(viewport) {\n      var oldViewport = this.internalState.viewport;\n      this.internalState.viewport = viewport;\n\n      if (!oldViewport || !areViewportsEqual({\n        oldViewport: oldViewport,\n        viewport: viewport\n      })) {\n        this.setChangeFlags({\n          viewportChanged: true\n        });\n\n        if (this.isComposite) {\n          if (this.needsUpdate()) {\n            this.setNeedsUpdate();\n          }\n        } else {\n          this._update();\n        }\n      }\n    }\n  }, {\n    key: \"invalidateAttribute\",\n    value: function invalidateAttribute() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';\n      var diffReason = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var attributeManager = this.getAttributeManager();\n\n      if (!attributeManager) {\n        return;\n      }\n\n      if (name === 'all') {\n        attributeManager.invalidateAll();\n      } else {\n        attributeManager.invalidate(name);\n      }\n    }\n  }, {\n    key: \"updateAttributes\",\n    value: function updateAttributes(changedAttributes) {\n      var _iterator5 = _createForOfIteratorHelper(this.getModels()),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var model = _step5.value;\n\n          this._setModelAttributes(model, changedAttributes);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }, {\n    key: \"_updateAttributes\",\n    value: function _updateAttributes(props) {\n      var attributeManager = this.getAttributeManager();\n\n      if (!attributeManager) {\n        return;\n      }\n\n      var numInstances = this.getNumInstances(props);\n      var startIndices = this.getStartIndices(props);\n      attributeManager.update({\n        data: props.data,\n        numInstances: numInstances,\n        startIndices: startIndices,\n        props: props,\n        transitions: props.transitions,\n        buffers: props.data.attributes,\n        context: this,\n        ignoreUnknownAttributes: true\n      });\n      var changedAttributes = attributeManager.getChangedAttributes({\n        clearChangedFlags: true\n      });\n      this.updateAttributes(changedAttributes);\n    }\n  }, {\n    key: \"_updateAttributeTransition\",\n    value: function _updateAttributeTransition() {\n      var attributeManager = this.getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.updateTransition();\n      }\n    }\n  }, {\n    key: \"_updateUniformTransition\",\n    value: function _updateUniformTransition() {\n      var uniformTransitions = this.internalState.uniformTransitions;\n\n      if (uniformTransitions.active) {\n        var propsInTransition = uniformTransitions.update();\n        var props = Object.create(this.props);\n\n        for (var key in propsInTransition) {\n          Object.defineProperty(props, key, {\n            value: propsInTransition[key]\n          });\n        }\n\n        return props;\n      }\n\n      return this.props;\n    }\n  }, {\n    key: \"calculateInstancePickingColors\",\n    value: function calculateInstancePickingColors(attribute, _ref7) {\n      var numInstances = _ref7.numInstances;\n\n      if (attribute.constant) {\n        return;\n      }\n\n      var cacheSize = Math.floor(pickingColorCache.length / 3);\n      this.internalState.usesPickingColorCache = true;\n\n      if (cacheSize < numInstances) {\n        if (numInstances > MAX_PICKING_COLOR_CACHE_SIZE) {\n          log.warn('Layer has too many data objects. Picking might not be able to distinguish all objects.')();\n        }\n\n        pickingColorCache = typedArrayManager.allocate(pickingColorCache, numInstances, {\n          size: 3,\n          copy: true,\n          maxCount: Math.max(numInstances, MAX_PICKING_COLOR_CACHE_SIZE)\n        });\n        var newCacheSize = Math.floor(pickingColorCache.length / 3);\n        var pickingColor = [];\n\n        for (var i = cacheSize; i < newCacheSize; i++) {\n          this.encodePickingColor(i, pickingColor);\n          pickingColorCache[i * 3 + 0] = pickingColor[0];\n          pickingColorCache[i * 3 + 1] = pickingColor[1];\n          pickingColorCache[i * 3 + 2] = pickingColor[2];\n        }\n      }\n\n      attribute.value = pickingColorCache.subarray(0, numInstances * 3);\n    }\n  }, {\n    key: \"_setModelAttributes\",\n    value: function _setModelAttributes(model, changedAttributes) {\n      var attributeManager = this.getAttributeManager();\n      var excludeAttributes = model.userData.excludeAttributes || {};\n      var shaderAttributes = attributeManager.getShaderAttributes(changedAttributes, excludeAttributes);\n      model.setAttributes(shaderAttributes);\n    }\n  }, {\n    key: \"disablePickingIndex\",\n    value: function disablePickingIndex(objectIndex) {\n      this._disablePickingIndex(objectIndex);\n    }\n  }, {\n    key: \"_disablePickingIndex\",\n    value: function _disablePickingIndex(objectIndex) {\n      var _this$getAttributeMan = this.getAttributeManager().attributes,\n          pickingColors = _this$getAttributeMan.pickingColors,\n          instancePickingColors = _this$getAttributeMan.instancePickingColors;\n      var colors = pickingColors || instancePickingColors;\n      var start = colors.getVertexOffset(objectIndex);\n      var end = colors.getVertexOffset(objectIndex + 1);\n      colors.buffer.subData({\n        data: new Uint8Array(end - start),\n        offset: start\n      });\n    }\n  }, {\n    key: \"restorePickingColors\",\n    value: function restorePickingColors() {\n      var _this$getAttributeMan2 = this.getAttributeManager().attributes,\n          pickingColors = _this$getAttributeMan2.pickingColors,\n          instancePickingColors = _this$getAttributeMan2.instancePickingColors;\n      var colors = pickingColors || instancePickingColors;\n\n      if (this.internalState.usesPickingColorCache && colors.value.buffer !== pickingColorCache.buffer) {\n        colors.value = pickingColorCache.subarray(0, colors.value.length);\n      }\n\n      colors.updateSubBuffer({\n        startOffset: 0\n      });\n    }\n  }, {\n    key: \"getNumInstances\",\n    value: function getNumInstances(props) {\n      props = props || this.props;\n\n      if (props.numInstances !== undefined) {\n        return props.numInstances;\n      }\n\n      if (this.state && this.state.numInstances !== undefined) {\n        return this.state.numInstances;\n      }\n\n      return count(props.data);\n    }\n  }, {\n    key: \"getStartIndices\",\n    value: function getStartIndices(props) {\n      props = props || this.props;\n\n      if (props.startIndices !== undefined) {\n        return props.startIndices;\n      }\n\n      if (this.state && this.state.startIndices) {\n        return this.state.startIndices;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      debug(TRACE_INITIALIZE, this);\n\n      this._initState();\n\n      this.initializeState(this.context);\n\n      var _iterator6 = _createForOfIteratorHelper(this.props.extensions),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var extension = _step6.value;\n          extension.initializeState.call(this, this.context, extension);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      this.setChangeFlags({\n        dataChanged: true,\n        propsChanged: true,\n        viewportChanged: true,\n        extensionsChanged: true\n      });\n\n      this._updateState();\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var stateNeedsUpdate = this.needsUpdate();\n      debug(TRACE_UPDATE, this, stateNeedsUpdate);\n\n      if (stateNeedsUpdate) {\n        this._updateState();\n      }\n    }\n  }, {\n    key: \"_updateState\",\n    value: function _updateState() {\n      var currentProps = this.props;\n      var currentViewport = this.context.viewport;\n\n      var propsInTransition = this._updateUniformTransition();\n\n      this.internalState.propsInTransition = propsInTransition;\n      this.context.viewport = this.internalState.viewport || currentViewport;\n      this.props = propsInTransition;\n\n      try {\n        var updateParams = this._getUpdateParams();\n\n        var oldModels = this.getModels();\n\n        if (this.context.gl) {\n          this.updateState(updateParams);\n        } else {\n          try {\n            this.updateState(updateParams);\n          } catch (error) {}\n        }\n\n        var _iterator7 = _createForOfIteratorHelper(this.props.extensions),\n            _step7;\n\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var extension = _step7.value;\n            extension.updateState.call(this, updateParams, extension);\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n\n        var modelChanged = this.getModels()[0] !== oldModels[0];\n\n        this._updateModules(updateParams, modelChanged);\n\n        if (this.isComposite) {\n          this._renderLayers(updateParams);\n        } else {\n          this.setNeedsRedraw();\n\n          this._updateAttributes(this.props);\n\n          if (this.state.model) {\n            this.state.model.setInstanceCount(this.getNumInstances());\n          }\n        }\n      } finally {\n        this.context.viewport = currentViewport;\n        this.props = currentProps;\n        this.clearChangeFlags();\n        this.internalState.needsUpdate = false;\n        this.internalState.resetOldProps();\n      }\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      debug(TRACE_FINALIZE, this);\n      this.finalizeState(this.context);\n\n      var _iterator8 = _createForOfIteratorHelper(this.props.extensions),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var extension = _step8.value;\n          extension.finalizeState.call(this, extension);\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n    }\n  }, {\n    key: \"drawLayer\",\n    value: function drawLayer(_ref8) {\n      var _this = this;\n\n      var _ref8$moduleParameter = _ref8.moduleParameters,\n          moduleParameters = _ref8$moduleParameter === void 0 ? null : _ref8$moduleParameter,\n          _ref8$uniforms = _ref8.uniforms,\n          uniforms = _ref8$uniforms === void 0 ? {} : _ref8$uniforms,\n          _ref8$parameters = _ref8.parameters,\n          parameters = _ref8$parameters === void 0 ? {} : _ref8$parameters;\n\n      this._updateAttributeTransition();\n\n      var currentProps = this.props;\n      this.props = this.internalState.propsInTransition || currentProps;\n      var opacity = this.props.opacity;\n      uniforms.opacity = Math.pow(opacity, 1 / 2.2);\n\n      try {\n        if (moduleParameters) {\n          this.setModuleParameters(moduleParameters);\n        }\n\n        var getPolygonOffset = this.props.getPolygonOffset;\n        var offsets = getPolygonOffset && getPolygonOffset(uniforms) || [0, 0];\n        setParameters(this.context.gl, {\n          polygonOffset: offsets\n        });\n        withParameters(this.context.gl, parameters, function () {\n          var opts = {\n            moduleParameters: moduleParameters,\n            uniforms: uniforms,\n            parameters: parameters,\n            context: _this.context\n          };\n\n          var _iterator9 = _createForOfIteratorHelper(_this.props.extensions),\n              _step9;\n\n          try {\n            for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n              var extension = _step9.value;\n              extension.draw.call(_this, opts, extension);\n            }\n          } catch (err) {\n            _iterator9.e(err);\n          } finally {\n            _iterator9.f();\n          }\n\n          _this.draw(opts);\n        });\n      } finally {\n        this.props = currentProps;\n      }\n    }\n  }, {\n    key: \"getChangeFlags\",\n    value: function getChangeFlags() {\n      return this.internalState.changeFlags;\n    }\n  }, {\n    key: \"setChangeFlags\",\n    value: function setChangeFlags(flags) {\n      var changeFlags = this.internalState.changeFlags;\n\n      for (var key in flags) {\n        if (flags[key]) {\n          var flagChanged = false;\n\n          switch (key) {\n            case 'dataChanged':\n              if (Array.isArray(changeFlags[key])) {\n                changeFlags[key] = Array.isArray(flags[key]) ? changeFlags[key].concat(flags[key]) : flags[key];\n                flagChanged = true;\n              }\n\n            default:\n              if (!changeFlags[key]) {\n                changeFlags[key] = flags[key];\n                flagChanged = true;\n              }\n\n          }\n\n          if (flagChanged) {\n            debug(TRACE_CHANGE_FLAG, this, key, flags);\n          }\n        }\n      }\n\n      var propsOrDataChanged = changeFlags.dataChanged || changeFlags.updateTriggersChanged || changeFlags.propsChanged || changeFlags.extensionsChanged;\n      changeFlags.propsOrDataChanged = propsOrDataChanged;\n      changeFlags.somethingChanged = propsOrDataChanged || flags.viewportChanged || flags.stateChanged;\n    }\n  }, {\n    key: \"clearChangeFlags\",\n    value: function clearChangeFlags() {\n      this.internalState.changeFlags = {\n        dataChanged: false,\n        propsChanged: false,\n        updateTriggersChanged: false,\n        viewportChanged: false,\n        stateChanged: false,\n        extensionsChanged: false,\n        propsOrDataChanged: false,\n        somethingChanged: false\n      };\n    }\n  }, {\n    key: \"diffProps\",\n    value: function diffProps(newProps, oldProps) {\n      var changeFlags = _diffProps(newProps, oldProps);\n\n      if (changeFlags.updateTriggersChanged) {\n        for (var key in changeFlags.updateTriggersChanged) {\n          if (changeFlags.updateTriggersChanged[key]) {\n            this.invalidateAttribute(key);\n          }\n        }\n      }\n\n      if (changeFlags.transitionsChanged) {\n        for (var _key in changeFlags.transitionsChanged) {\n          this.internalState.uniformTransitions.add(_key, oldProps[_key], newProps[_key], newProps.transitions[_key]);\n        }\n      }\n\n      return this.setChangeFlags(changeFlags);\n    }\n  }, {\n    key: \"validateProps\",\n    value: function validateProps() {\n      _validateProps(this.props);\n    }\n  }, {\n    key: \"setModuleParameters\",\n    value: function setModuleParameters(moduleParameters) {\n      var _iterator10 = _createForOfIteratorHelper(this.getModels()),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var model = _step10.value;\n          model.updateModuleSettings(moduleParameters);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n  }, {\n    key: \"updateAutoHighlight\",\n    value: function updateAutoHighlight(info) {\n      if (this.props.autoHighlight) {\n        this._updateAutoHighlight(info);\n      }\n    }\n  }, {\n    key: \"_updateAutoHighlight\",\n    value: function _updateAutoHighlight(info) {\n      var pickingModuleParameters = {\n        pickingSelectedColor: info.picked ? info.color : null\n      };\n      var highlightColor = this.props.highlightColor;\n\n      if (info.picked && typeof highlightColor === 'function') {\n        pickingModuleParameters.pickingHighlightColor = highlightColor(info);\n      }\n\n      this.setModuleParameters(pickingModuleParameters);\n      this.setNeedsRedraw();\n    }\n  }, {\n    key: \"_updateModules\",\n    value: function _updateModules(_ref9, forceUpdate) {\n      var props = _ref9.props,\n          oldProps = _ref9.oldProps;\n      var autoHighlight = props.autoHighlight,\n          highlightedObjectIndex = props.highlightedObjectIndex,\n          highlightColor = props.highlightColor;\n\n      if (forceUpdate || oldProps.autoHighlight !== autoHighlight || oldProps.highlightedObjectIndex !== highlightedObjectIndex || oldProps.highlightColor !== highlightColor) {\n        var parameters = {};\n\n        if (!autoHighlight) {\n          parameters.pickingSelectedColor = null;\n        }\n\n        if (Array.isArray(highlightColor)) {\n          parameters.pickingHighlightColor = highlightColor;\n        }\n\n        if (Number.isInteger(highlightedObjectIndex)) {\n          parameters.pickingSelectedColor = highlightedObjectIndex >= 0 ? this.encodePickingColor(highlightedObjectIndex) : null;\n        }\n\n        this.setModuleParameters(parameters);\n      }\n    }\n  }, {\n    key: \"_getUpdateParams\",\n    value: function _getUpdateParams() {\n      return {\n        props: this.props,\n        oldProps: this.internalState.getOldProps(),\n        context: this.context,\n        changeFlags: this.internalState.changeFlags\n      };\n    }\n  }, {\n    key: \"_getNeedsRedraw\",\n    value: function _getNeedsRedraw(opts) {\n      if (!this.internalState) {\n        return false;\n      }\n\n      var redraw = false;\n      redraw = redraw || this.internalState.needsRedraw && this.id;\n      this.internalState.needsRedraw = this.internalState.needsRedraw && !opts.clearRedrawFlags;\n      var attributeManager = this.getAttributeManager();\n      var attributeManagerNeedsRedraw = attributeManager && attributeManager.getNeedsRedraw(opts);\n      redraw = redraw || attributeManagerNeedsRedraw;\n      return redraw;\n    }\n  }, {\n    key: \"_getAttributeManager\",\n    value: function _getAttributeManager() {\n      return new AttributeManager(this.context.gl, {\n        id: this.props.id,\n        stats: this.context.stats,\n        timeline: this.context.timeline\n      });\n    }\n  }, {\n    key: \"_initState\",\n    value: function _initState() {\n      assert(!this.internalState && !this.state);\n      assert(isFinite(this.props.coordinateSystem));\n\n      var attributeManager = this._getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.addInstanced({\n          instancePickingColors: {\n            type: 5121,\n            size: 3,\n            noAlloc: true,\n            update: this.calculateInstancePickingColors\n          }\n        });\n      }\n\n      this.internalState = new LayerState({\n        attributeManager: attributeManager,\n        layer: this\n      });\n      this.clearChangeFlags();\n      this.state = {};\n      Object.defineProperty(this.state, 'attributeManager', {\n        get: function get() {\n          log.deprecated('layer.state.attributeManager', 'layer.getAttributeManager()');\n          return attributeManager;\n        }\n      });\n      this.internalState.layer = this;\n      this.internalState.uniformTransitions = new UniformTransitionManager(this.context.timeline);\n      this.internalState.onAsyncPropUpdated = this._onAsyncPropUpdated.bind(this);\n      this.internalState.setAsyncProps(this.props);\n    }\n  }, {\n    key: \"_transferState\",\n    value: function _transferState(oldLayer) {\n      debug(TRACE_MATCHED, this, this === oldLayer);\n      var state = oldLayer.state,\n          internalState = oldLayer.internalState;\n\n      if (this === oldLayer) {\n        return;\n      }\n\n      this.internalState = internalState;\n      this.internalState.layer = this;\n      this.state = state;\n      this.internalState.setAsyncProps(this.props);\n      this.diffProps(this.props, this.internalState.getOldProps());\n    }\n  }, {\n    key: \"_onAsyncPropUpdated\",\n    value: function _onAsyncPropUpdated() {\n      this.diffProps(this.props, this.internalState.getOldProps());\n      this.setNeedsUpdate();\n    }\n  }]);\n\n  return Layer;\n}(Component);\n\nexport { Layer as default };\nLayer.layerName = 'Layer';\nLayer.defaultProps = defaultProps;","import _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { createElement } from 'react';\nimport { inheritsFrom } from './inherits-from';\nimport { Layer, View } from '@deck.gl/core';\n\nfunction wrapInView(node) {\n  if (!node) {\n    return node;\n  }\n\n  if (typeof node === 'function') {\n    return createElement(View, {}, node);\n  }\n\n  if (Array.isArray(node)) {\n    return node.map(wrapInView);\n  }\n\n  if (node.type === React.Fragment) {\n    return wrapInView(node.props.children);\n  }\n\n  if (inheritsFrom(node.type, View)) {\n    return node;\n  }\n\n  return node;\n}\n\nexport default function extractJSXLayers(_ref) {\n  var children = _ref.children,\n      layers = _ref.layers,\n      views = _ref.views;\n  var reactChildren = [];\n  var jsxLayers = [];\n  var jsxViews = {};\n  React.Children.forEach(wrapInView(children), function (reactElement) {\n    if (reactElement) {\n      var ElementType = reactElement.type;\n\n      if (inheritsFrom(ElementType, Layer)) {\n        var layer = createLayer(ElementType, reactElement.props);\n        jsxLayers.push(layer);\n      } else {\n        reactChildren.push(reactElement);\n      }\n\n      if (ElementType !== View && inheritsFrom(ElementType, View) && reactElement.props.id) {\n        var view = new ElementType(reactElement.props);\n        jsxViews[view.id] = view;\n      }\n    }\n  });\n\n  if (Object.keys(jsxViews).length > 0) {\n    if (Array.isArray(views)) {\n      views.forEach(function (view) {\n        jsxViews[view.id] = view;\n      });\n    } else if (views) {\n      jsxViews[views.id] = views;\n    }\n\n    views = Object.values(jsxViews);\n  }\n\n  layers = jsxLayers.length > 0 ? [].concat(jsxLayers, _toConsumableArray(layers)) : layers;\n  return {\n    layers: layers,\n    children: reactChildren,\n    views: views\n  };\n}\n\nfunction createLayer(LayerType, reactProps) {\n  var props = {};\n  var defaultProps = LayerType.defaultProps || {};\n\n  for (var key in reactProps) {\n    if (defaultProps[key] !== reactProps[key]) {\n      props[key] = reactProps[key];\n    }\n  }\n\n  return new LayerType(props);\n}","import { cloneElement } from 'react';\nvar MAP_STYLE = {\n  position: 'absolute',\n  zIndex: -1\n};\nexport default function evaluateChildren(children, childProps) {\n  if (!children) {\n    return children;\n  }\n\n  if (typeof children === 'function') {\n    return children(childProps);\n  }\n\n  if (Array.isArray(children)) {\n    return children.map(function (child) {\n      return evaluateChildren(child, childProps);\n    });\n  }\n\n  if (isReactMap(children)) {\n    childProps.style = MAP_STYLE;\n    return cloneElement(children, childProps);\n  }\n\n  if (needsDeckGLViewProps(children)) {\n    return cloneElement(children, childProps);\n  }\n\n  return children;\n}\n\nfunction isReactMap(child) {\n  var componentClass = child && child.type;\n  var componentProps = componentClass && componentClass.defaultProps;\n  return componentProps && componentProps.mapStyle;\n}\n\nfunction needsDeckGLViewProps(child) {\n  var componentClass = child && child.type;\n  return componentClass && componentClass.deckGLViewProps;\n}","import _toConsumableArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { createElement } from 'react';\nimport { View } from '@deck.gl/core';\nimport { inheritsFrom } from './inherits-from';\nimport evaluateChildren from './evaluate-children';\nexport default function positionChildrenUnderViews(_ref) {\n  var children = _ref.children,\n      deck = _ref.deck,\n      ContextProvider = _ref.ContextProvider;\n\n  var _ref2 = deck || {},\n      viewManager = _ref2.viewManager;\n\n  if (!viewManager || !viewManager.views.length) {\n    return [];\n  }\n\n  var views = {};\n  var defaultViewId = viewManager.views[0].id;\n\n  var _iterator = _createForOfIteratorHelper(children),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var child = _step.value;\n      var viewId = defaultViewId;\n      var viewChildren = child;\n\n      if (inheritsFrom(child.type, View)) {\n        viewId = child.props.id || defaultViewId;\n        viewChildren = child.props.children;\n      }\n\n      var viewport = viewManager.getViewport(viewId);\n      var viewState = viewManager.getViewState(viewId);\n\n      if (viewport) {\n        var x = viewport.x,\n            y = viewport.y,\n            width = viewport.width,\n            height = viewport.height;\n        viewChildren = evaluateChildren(viewChildren, {\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          viewport: viewport,\n          viewState: viewState\n        });\n\n        if (!views[viewId]) {\n          views[viewId] = {\n            viewport: viewport,\n            children: []\n          };\n        }\n\n        views[viewId].children.push(viewChildren);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return Object.keys(views).map(function (viewId) {\n    var _views$viewId = views[viewId],\n        viewport = _views$viewId.viewport,\n        viewChildren = _views$viewId.children;\n    var x = viewport.x,\n        y = viewport.y,\n        width = viewport.width,\n        height = viewport.height;\n    var style = {\n      position: 'absolute',\n      left: x,\n      top: y,\n      width: width,\n      height: height\n    };\n    var key = \"view-\".concat(viewId);\n    var viewElement = createElement.apply(void 0, ['div', {\n      key: key,\n      id: key,\n      style: style\n    }].concat(_toConsumableArray(viewChildren)));\n\n    if (ContextProvider) {\n      var contextValue = {\n        viewport: viewport,\n        container: deck.canvas.offsetParent,\n        eventManager: deck.eventManager,\n        onViewStateChange: function onViewStateChange(params) {\n          params.viewId = viewId;\n\n          deck._onViewStateChange(params);\n        }\n      };\n      return createElement(ContextProvider, {\n        key: key,\n        value: contextValue\n      }, viewElement);\n    }\n\n    return viewElement;\n  });\n}","var CANVAS_ONLY_STYLES = {\n  mixBlendMode: null\n};\nexport default function extractStyles(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      style = _ref.style;\n  var containerStyle = {\n    position: 'absolute',\n    zIndex: 0,\n    left: 0,\n    top: 0,\n    width: width,\n    height: height\n  };\n  var canvasStyle = {\n    left: 0,\n    top: 0\n  };\n\n  if (style) {\n    for (var key in style) {\n      if (key in CANVAS_ONLY_STYLES) {\n        canvasStyle[key] = style[key];\n      } else {\n        containerStyle[key] = style[key];\n      }\n    }\n  }\n\n  return {\n    containerStyle: containerStyle,\n    canvasStyle: canvasStyle\n  };\n}","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createElement, useRef, useState, useMemo, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Deck } from '@deck.gl/core';\nimport useIsomorphicLayoutEffect from './utils/use-isomorphic-layout-effect';\nimport extractJSXLayers from './utils/extract-jsx-layers';\nimport positionChildrenUnderViews from './utils/position-children-under-views';\nimport extractStyles from './utils/extract-styles';\n\nfunction getRefHandles(thisRef) {\n  var handles = {\n    pickObject: function pickObject(opts) {\n      return thisRef.deck.pickObject(opts);\n    },\n    pickMultipleObjects: function pickMultipleObjects(opts) {\n      return thisRef.deck.pickMultipleObjects(opts);\n    },\n    pickObjects: function pickObjects(opts) {\n      return thisRef.deck.pickObjects(opts);\n    }\n  };\n  Object.defineProperty(handles, 'deck', {\n    get: function get() {\n      return thisRef.deck;\n    }\n  });\n  return handles;\n}\n\nfunction redrawDeck(thisRef) {\n  if (thisRef.redrawReason) {\n    thisRef.deck._drawLayers(thisRef.redrawReason);\n\n    thisRef.redrawReason = null;\n  }\n}\n\nfunction createDeckInstance(thisRef, props) {\n  var DeckClass = props.Deck || Deck;\n  var deck = new DeckClass(_objectSpread(_objectSpread({}, props), {}, {\n    style: null,\n    width: '100%',\n    height: '100%',\n    _customRender: function _customRender(redrawReason) {\n      thisRef.redrawReason = redrawReason;\n      var viewports = deck.viewManager.getViewports();\n\n      if (thisRef.lastRenderedViewports !== viewports) {\n        thisRef.forceUpdate(function (v) {\n          return v + 1;\n        });\n      } else {\n        redrawDeck(thisRef);\n      }\n    }\n  }));\n  return deck;\n}\n\nvar DeckGL = forwardRef(function (props, ref) {\n  var _thisRef = useRef({});\n\n  var thisRef = _thisRef.current;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      version = _useState2[0],\n      setVersion = _useState2[1];\n\n  thisRef.forceUpdate = setVersion;\n  var containerRef = useRef(null);\n  var canvasRef = useRef(null);\n  var jsxProps = useMemo(function () {\n    return extractJSXLayers(props);\n  }, [props.layers, props.views, props.children]);\n  var inRender = true;\n\n  var handleViewStateChange = function handleViewStateChange(params) {\n    if (inRender && props.viewState) {\n      thisRef.viewStateUpdateRequested = params;\n      return null;\n    }\n\n    thisRef.viewStateUpdateRequested = null;\n    return props.onViewStateChange(params);\n  };\n\n  var handleInteractionStateChange = function handleInteractionStateChange(params) {\n    if (inRender) {\n      thisRef.interactionStateUpdateRequested = params;\n    } else {\n      thisRef.interactionStateUpdateRequested = null;\n      props.onInteractionStateChange(params);\n    }\n  };\n\n  var deckProps = useMemo(function () {\n    var forwardProps = _objectSpread(_objectSpread({}, props), {}, {\n      style: null,\n      width: '100%',\n      height: '100%',\n      layers: jsxProps.layers,\n      views: jsxProps.views,\n      onViewStateChange: handleViewStateChange,\n      onInteractionStateChange: handleInteractionStateChange\n    });\n\n    if (thisRef.deck) {\n      thisRef.deck.setProps(forwardProps);\n    }\n\n    return forwardProps;\n  }, [props]);\n  useEffect(function () {\n    thisRef.deck = createDeckInstance(thisRef, _objectSpread(_objectSpread({}, deckProps), {}, {\n      parent: containerRef.current,\n      canvas: canvasRef.current\n    }));\n    return function () {\n      return thisRef.deck.finalize();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    redrawDeck(thisRef);\n    var viewStateUpdateRequested = thisRef.viewStateUpdateRequested,\n        interactionStateUpdateRequested = thisRef.interactionStateUpdateRequested;\n\n    if (viewStateUpdateRequested) {\n      handleViewStateChange(viewStateUpdateRequested);\n    }\n\n    if (interactionStateUpdateRequested) {\n      handleInteractionStateChange(interactionStateUpdateRequested);\n    }\n  });\n  useImperativeHandle(ref, function () {\n    return getRefHandles(thisRef);\n  }, []);\n\n  var _ref = thisRef.deck || {},\n      viewManager = _ref.viewManager;\n\n  var currentViewports = viewManager && viewManager.getViewports();\n  var ContextProvider = props.ContextProvider,\n      width = props.width,\n      height = props.height,\n      id = props.id,\n      style = props.style;\n\n  var _useMemo = useMemo(function () {\n    return extractStyles({\n      width: width,\n      height: height,\n      style: style\n    });\n  }, [width, height, style]),\n      containerStyle = _useMemo.containerStyle,\n      canvasStyle = _useMemo.canvasStyle;\n\n  if (!thisRef.viewStateUpdateRequested && thisRef.lastRenderedViewports === currentViewports || thisRef.version !== version) {\n    thisRef.lastRenderedViewports = currentViewports;\n    thisRef.version = version;\n    var childrenUnderViews = positionChildrenUnderViews({\n      children: jsxProps.children,\n      deck: thisRef.deck,\n      ContextProvider: ContextProvider\n    });\n    var canvas = createElement('canvas', {\n      key: 'canvas',\n      id: id || 'deckgl-overlay',\n      ref: canvasRef,\n      style: canvasStyle\n    });\n    thisRef.control = createElement('div', {\n      id: \"\".concat(id || 'deckgl', \"-wrapper\"),\n      ref: containerRef,\n      style: containerStyle\n    }, [canvas, childrenUnderViews]);\n  }\n\n  inRender = false;\n  return thisRef.control;\n});\nDeckGL.propTypes = Deck.getPropTypes(PropTypes);\nDeckGL.defaultProps = Deck.defaultProps;\nexport default DeckGL;","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return function () {\n    function class_1() {\n      this.__entries__ = [];\n    }\n\n    Object.defineProperty(class_1.prototype, \"size\", {\n      /**\r\n       * @returns {boolean}\r\n       */\n      get: function get() {\n        return this.__entries__.length;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    /**\r\n     * @param {*} key\r\n     * @returns {*}\r\n     */\n\n    class_1.prototype.get = function (key) {\n      var index = getIndex(this.__entries__, key);\n      var entry = this.__entries__[index];\n      return entry && entry[1];\n    };\n    /**\r\n     * @param {*} key\r\n     * @param {*} value\r\n     * @returns {void}\r\n     */\n\n\n    class_1.prototype.set = function (key, value) {\n      var index = getIndex(this.__entries__, key);\n\n      if (~index) {\n        this.__entries__[index][1] = value;\n      } else {\n        this.__entries__.push([key, value]);\n      }\n    };\n    /**\r\n     * @param {*} key\r\n     * @returns {void}\r\n     */\n\n\n    class_1.prototype.delete = function (key) {\n      var entries = this.__entries__;\n      var index = getIndex(entries, key);\n\n      if (~index) {\n        entries.splice(index, 1);\n      }\n    };\n    /**\r\n     * @param {*} key\r\n     * @returns {void}\r\n     */\n\n\n    class_1.prototype.has = function (key) {\n      return !!~getIndex(this.__entries__, key);\n    };\n    /**\r\n     * @returns {void}\r\n     */\n\n\n    class_1.prototype.clear = function () {\n      this.__entries__.splice(0);\n    };\n    /**\r\n     * @param {Function} callback\r\n     * @param {*} [ctx=null]\r\n     * @returns {void}\r\n     */\n\n\n    class_1.prototype.forEach = function (callback, ctx) {\n      if (ctx === void 0) {\n        ctx = null;\n      }\n\n      for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n        var entry = _a[_i];\n        callback.call(ctx, entry[1], entry[0]);\n      }\n    };\n\n    return class_1;\n  }();\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController = function () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation = function () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry = function () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI = function () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver = function () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nexport default index;","var window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nexport function normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (style.toJS) {\n    style = style.toJS();\n  }\n\n  var layerIndex = {};\n\n  var _iterator = _createForOfIteratorHelper(style.layers),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as PropTypes from 'prop-types';\nimport { document } from '../utils/globals';\nimport { normalizeStyle } from '../utils/style-utils';\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\n\nvar propTypes = {\n  container: PropTypes.object,\n  gl: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  mapboxApiUrl: PropTypes.string,\n  attributionControl: PropTypes.bool,\n  preserveDrawingBuffer: PropTypes.bool,\n  reuseMaps: PropTypes.bool,\n  transformRequest: PropTypes.func,\n  mapOptions: PropTypes.object,\n  mapStyle: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  preventStyleDiffing: PropTypes.bool,\n  visible: PropTypes.bool,\n  asyncRender: PropTypes.bool,\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  viewState: PropTypes.object,\n  longitude: PropTypes.number,\n  latitude: PropTypes.number,\n  zoom: PropTypes.number,\n  bearing: PropTypes.number,\n  pitch: PropTypes.number,\n  altitude: PropTypes.number\n};\nvar defaultProps = {\n  container: document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nexport function getAccessToken() {\n  var accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n\n  return accessToken || 'no-token';\n}\n\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n\n  if (props.debug) {\n    PropTypes.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\n\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n\n    _classCallCheck(this, Mapbox);\n\n    _defineProperty(this, \"props\", defaultProps);\n\n    _defineProperty(this, \"width\", 0);\n\n    _defineProperty(this, \"height\", 0);\n\n    _defineProperty(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n\n    _defineProperty(this, \"_handleError\", function (event) {\n      _this.props.onError(event);\n    });\n\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  _createClass(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n\n          map._frame = null;\n        }\n\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n\n      var oldContainer = this._map.getContainer();\n\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n\n      if (props.mapStyle) {\n        this._map.setStyle(normalizeStyle(props.mapStyle), {\n          diff: false\n        });\n      }\n\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: normalizeStyle(props.mapStyle),\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n        this._map.once('load', this._fireLoadEvent);\n\n        this._map.on('error', this._handleError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n\n      if (this.props.reuseMaps && !Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n\n        this._map.off('load', this._fireLoadEvent);\n\n        this._map.off('error', this._handleError);\n\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n      this._create(props);\n\n      var _props = props,\n          container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n\n      var canvas = this._map.getCanvas();\n\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n\n      this._updateMapViewport({}, props);\n\n      this._updateMapSize({}, props);\n\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n\n      this._updateMapStyle(oldProps, newProps);\n\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n\n      if (styleChanged) {\n        this._map.setStyle(normalizeStyle(newProps.mapStyle), {\n          diff: !newProps.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n\n        this._map.resize();\n      }\n\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n\n      var newViewState = this._getViewState(newProps);\n\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n          longitude = _ref.longitude,\n          latitude = _ref.latitude,\n          zoom = _ref.zoom,\n          _ref$pitch = _ref.pitch,\n          pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n          _ref$bearing = _ref.bearing,\n          bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n          _ref$altitude = _ref.altitude,\n          altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      try {\n        var testElement = document.createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        document.body.appendChild(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n        if (!isCssLoaded) {\n          var link = document.createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          document.head.appendChild(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n\n  return Mapbox;\n}();\n\n_defineProperty(Mapbox, \"initialized\", false);\n\n_defineProperty(Mapbox, \"propTypes\", propTypes);\n\n_defineProperty(Mapbox, \"defaultProps\", defaultProps);\n\n_defineProperty(Mapbox, \"savedMap\", null);\n\nexport { Mapbox as default };","var EPSILON = 1e-7;\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nexport function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return Math.abs(a - b) <= EPSILON;\n}\nexport function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport WebMercatorViewport, { normalizeViewportProps } from 'viewport-mercator-project';\nimport { clamp } from './math-utils';\nimport assert from './assert';\nexport var MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 85\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\n\nvar MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        transitionDuration = _ref.transitionDuration,\n        transitionEasing = _ref.transitionEasing,\n        transitionInterpolator = _ref.transitionInterpolator,\n        transitionInterruption = _ref.transitionInterruption,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startRotatePos = _ref.startRotatePos,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    _classCallCheck(this, MapState);\n\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n\n  _createClass(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = _slicedToArray(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n          _ref5$deltaAngleX = _ref5.deltaAngleX,\n          deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n          _ref5$deltaAngleY = _ref5.deltaAngleY,\n          deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n          startRotatePos = _this$_state.startRotatePos,\n          startBearing = _this$_state.startBearing,\n          startPitch = _this$_state.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var newRotation;\n\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n\n      return this._getUpdatedMapState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      assert(scale > 0, '`scale` must be a positive number');\n      var _this$_state2 = this._state,\n          startZoom = _this$_state2.startZoom,\n          startZoomLngLat = _this$_state2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      assert(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n\n      var zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = _slicedToArray(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, normalizeViewportProps(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n          maxZoom = _this$_viewportProps.maxZoom,\n          minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n          minPitch = _this$_viewportProps2.minPitch,\n          maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps3 = this._viewportProps,\n          width = _this$_viewportProps3.width,\n          height = _this$_viewportProps3.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n\n  return MapState;\n}();\n\nexport { MapState as default };","import { MAPBOX_LIMITS } from './map-state';\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\nexport function checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : MAPBOX_LIMITS;\n\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n\n  return true;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { createContext, useState, useContext } from 'react';\nvar MapContext = createContext({\n  viewport: null,\n  map: null,\n  container: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null\n});\nexport var MapContextProvider = MapContext.Provider;\n\nfunction WrappedProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  var context = useContext(MapContext);\n  value = _objectSpread(_objectSpread({\n    setMap: setMap\n  }, context), {}, {\n    map: context && context.map || map\n  }, value);\n  return React.createElement(MapContextProvider, {\n    value: value\n  }, children);\n}\n\nMapContext.Provider = WrappedProvider;\nexport default MapContext;","import { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","export function getTerrainElevation(map, _ref) {\n  var longitude = _ref.longitude,\n      latitude = _ref.latitude;\n\n  if (map && map.queryTerrainElevation) {\n    return map.queryTerrainElevation([longitude, latitude]) || 0;\n  }\n\n  return 0;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useState, useRef, useCallback, useContext, useImperativeHandle, forwardRef } from 'react';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport Mapbox from '../mapbox/mapbox';\nimport mapboxgl from '../utils/mapboxgl';\nimport { checkVisibilityConstraints } from '../utils/map-constraints';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport MapContext, { MapContextProvider } from './map-context';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport { getTerrainElevation } from '../utils/terrain';\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n\nfunction noop() {}\n\nexport function getViewport(_ref) {\n  var map = _ref.map,\n      props = _ref.props,\n      width = _ref.width,\n      height = _ref.height;\n\n  var viewportProps = _objectSpread(_objectSpread(_objectSpread({}, props), props.viewState), {}, {\n    width: width,\n    height: height\n  });\n\n  viewportProps.position = [0, 0, getTerrainElevation(map, viewportProps)];\n  return new WebMercatorViewport(viewportProps);\n}\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar defaultProps = Object.assign({}, Mapbox.defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\n\nfunction NoTokenWarning() {\n  var style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return React.createElement(\"div\", {\n    key: \"warning\",\n    id: \"no-token-warning\",\n    style: style\n  }, React.createElement(\"h3\", {\n    key: \"header\"\n  }, NO_TOKEN_WARNING), React.createElement(\"div\", {\n    key: \"text\"\n  }, \"For information on setting up your basemap, read\"), React.createElement(\"a\", {\n    key: \"link\",\n    href: TOKEN_DOC_URL\n  }, \"Note on Map Tokens\"));\n}\n\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: function getMap() {\n      return mapboxRef.current && mapboxRef.current.getMap();\n    },\n    queryRenderedFeatures: function queryRenderedFeatures(geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\n\nvar StaticMap = forwardRef(function (props, ref) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      accessTokenValid = _useState2[0],\n      setTokenState = _useState2[1];\n\n  var _useState3 = useState({\n    width: 0,\n    height: 0\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  var mapboxRef = useRef(null);\n  var mapDivRef = useRef(null);\n  var containerRef = useRef(null);\n  var overlayRef = useRef(null);\n  var context = useContext(MapContext);\n  useIsomorphicLayoutEffect(function () {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n\n    var mapbox = new Mapbox(_objectSpread(_objectSpread(_objectSpread({}, props), size), {}, {\n      mapboxgl: mapboxgl,\n      container: mapDivRef.current,\n      onError: function onError(evt) {\n        var statusCode = evt.error && evt.error.status || evt.status;\n\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          console.error(NO_TOKEN_WARNING);\n          setTokenState(false);\n        }\n\n        props.onError(evt);\n      }\n    }));\n    mapboxRef.current = mapbox;\n\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      if (entries[0].contentRect) {\n        var _entries$0$contentRec = entries[0].contentRect,\n            _width = _entries$0$contentRec.width,\n            _height = _entries$0$contentRec.height;\n        setSize({\n          width: _width,\n          height: _height\n        });\n        props.onResize({\n          width: _width,\n          height: _height\n        });\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n    return function () {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps(_objectSpread(_objectSpread({}, props), size));\n    }\n  });\n  var map = mapboxRef.current && mapboxRef.current.getMap();\n  useImperativeHandle(ref, function () {\n    return getRefHandles(mapboxRef);\n  }, []);\n  var preventScroll = useCallback(function (_ref2) {\n    var target = _ref2.target;\n\n    if (target === overlayRef.current) {\n      target.scrollTo(0, 0);\n    }\n  }, []);\n  var overlays = map && React.createElement(MapContextProvider, {\n    value: _objectSpread(_objectSpread({}, context), {}, {\n      viewport: context.viewport || getViewport(_objectSpread({\n        map: map,\n        props: props\n      }, size)),\n      map: map,\n      container: context.container || containerRef.current\n    })\n  }, React.createElement(\"div\", {\n    key: \"map-overlays\",\n    className: \"overlays\",\n    ref: overlayRef,\n    style: CONTAINER_STYLE,\n    onScroll: preventScroll\n  }, props.children));\n  var className = props.className,\n      width = props.width,\n      height = props.height,\n      style = props.style,\n      visibilityConstraints = props.visibilityConstraints;\n  var mapContainerStyle = Object.assign({\n    position: 'relative'\n  }, style, {\n    width: width,\n    height: height\n  });\n  var visible = props.visible && checkVisibilityConstraints(props.viewState || props, visibilityConstraints);\n  var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n  return React.createElement(\"div\", {\n    key: \"map-container\",\n    ref: containerRef,\n    style: mapContainerStyle\n  }, React.createElement(\"div\", {\n    key: \"map-mapbox\",\n    ref: mapDivRef,\n    style: mapStyle,\n    className: className\n  }), overlays, !accessTokenValid && !props.disableTokenWarning && React.createElement(NoTokenWarning, null));\n});\n\nStaticMap.supported = function () {\n  return mapboxgl && mapboxgl.supported();\n};\n\nStaticMap.defaultProps = defaultProps;\nexport default StaticMap;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { equals } from '../math-utils';\nimport assert from '../assert';\n\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    _classCallCheck(this, TransitionInterpolator);\n\n    _defineProperty(this, \"propNames\", []);\n  }\n\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      assert(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\nexport { TransitionInterpolator as default };","var WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nexport function getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n\n  return endValue;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { flyToViewport, getFlyToDuration } from 'viewport-mercator-project';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\nvar ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  _inherits(ViewportFlyToInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(ViewportFlyToInterpolator);\n\n  function ViewportFlyToInterpolator() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ViewportFlyToInterpolator);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n\n  _createClass(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      var _iterator = _createForOfIteratorHelper(REQUIRED_PROPS),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n\n          var _startValue = startProps[_key] || 0;\n\n          var _endValue = endProps[_key] || 0;\n\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = getEndValueByShortestPath(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = flyToViewport(startProps, endProps, t, this.props);\n\n      var _iterator3 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n\n      if (transitionDuration === 'auto') {\n        transitionDuration = getFlyToDuration(startProps, endProps, this.props);\n      }\n\n      return transitionDuration;\n    }\n  }]);\n\n  return ViewportFlyToInterpolator;\n}(TransitionInterpolator);\n\nexport { ViewportFlyToInterpolator as default };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, LinearInterpolator);\n\n    _this = _super.call(this);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n\n    _this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n\n    return _this;\n  }\n\n  _createClass(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new WebMercatorViewport(startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new WebMercatorViewport(endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n\n      var _iterator = _createForOfIteratorHelper(this.propNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      var _iterator2 = _createForOfIteratorHelper(this.propNames),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new WebMercatorViewport(Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n          lngLat: endProps.aroundLngLat,\n          pos: lerp(startProps.around, endProps.around, t)\n        }),\n            _WebMercatorViewport$2 = _slicedToArray(_WebMercatorViewport$, 2),\n            longitude = _WebMercatorViewport$2[0],\n            latitude = _WebMercatorViewport$2[1];\n\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(TransitionInterpolator);\n\nexport { LinearInterpolator as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport assert from './assert';\nimport { LinearInterpolator } from './transition';\nimport MapState from './map-state';\n\nvar noop = function noop() {};\n\nexport function cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransitionManager);\n\n    _defineProperty(this, \"_animationFrame\", null);\n\n    _defineProperty(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  _createClass(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      assert(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n\n      this._onTransitionFrame();\n\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new MapState(Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\n_defineProperty(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n\nexport { TransitionManager as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport MapState from './map-state';\nimport { LinearInterpolator } from './transition';\nimport TransitionManager, { TRANSITION_EVENTS } from './transition-manager';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport var LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\n\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\n\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar MapController = function () {\n  function MapController() {\n    var _this = this;\n\n    _classCallCheck(this, MapController);\n\n    _defineProperty(this, \"events\", []);\n\n    _defineProperty(this, \"scrollZoom\", true);\n\n    _defineProperty(this, \"dragPan\", true);\n\n    _defineProperty(this, \"dragRotate\", true);\n\n    _defineProperty(this, \"doubleClickZoom\", true);\n\n    _defineProperty(this, \"touchZoom\", true);\n\n    _defineProperty(this, \"touchRotate\", false);\n\n    _defineProperty(this, \"keyboard\", true);\n\n    _defineProperty(this, \"_interactionState\", {\n      isDragging: false\n    });\n\n    _defineProperty(this, \"_events\", {});\n\n    _defineProperty(this, \"_setInteractionState\", function (newState) {\n      Object.assign(_this._interactionState, newState);\n\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._interactionState);\n      }\n    });\n\n    _defineProperty(this, \"_onTransition\", function (newViewport, oldViewport) {\n      _this.onViewportChange(newViewport, _this._interactionState, oldViewport);\n    });\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new TransitionManager({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n\n  _createClass(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n      var eventStartBlocked = this._eventStartBlocked;\n\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n\n        case 'tripanmove':\n          return this._onTriplePan(event);\n\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this2 = this;\n\n      var timer = setTimeout(function () {\n        if (_this2._eventStartBlocked === timer) {\n          _this2._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState, extraProps, interactionState) {\n      var oldViewport = this.mapState instanceof MapState ? this.mapState.getViewportProps() : this.mapState;\n\n      var newViewport = _objectSpread(_objectSpread({}, newMapState.getViewportProps()), extraProps);\n\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n      this._state = newMapState.getState();\n\n      this._setInteractionState(interactionState);\n\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, this._interactionState, oldViewport);\n      }\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new MapState(_objectSpread(_objectSpread(_objectSpread({}, this.mapStateProps), this._state), overrides));\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n          onStateChange = options.onStateChange,\n          _options$eventManager = options.eventManager,\n          eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n          _options$isInteractiv = options.isInteractive,\n          isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n          _options$scrollZoom = options.scrollZoom,\n          scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n          _options$dragPan = options.dragPan,\n          dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n          _options$dragRotate = options.dragRotate,\n          dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n          _options$doubleClickZ = options.doubleClickZoom,\n          doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n          _options$touchZoom = options.touchZoom,\n          touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n          _options$touchRotate = options.touchRotate,\n          touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n          _options$keyboard = options.keyboard,\n          keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var prevOptions = this.mapStateProps || {};\n      var dimensionChanged = prevOptions.height !== options.height || prevOptions.width !== options.width;\n      this.mapStateProps = options;\n\n      if (dimensionChanged) {\n        this.mapState = prevOptions;\n        this.updateViewport(new MapState(options));\n      }\n\n      this._transitionManager.processViewportChange(options);\n\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this3 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this3._events[eventName] !== enabled) {\n            _this3._events[eventName] = enabled;\n\n            if (enabled) {\n              _this3.eventManager.on(eventName, _this3.handleEvent);\n            } else {\n              _this3.eventManager.off(eventName, _this3.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n      var newMapState = this._panRotate ? this.mapState.rotateStart({\n        pos: pos\n      }) : this.mapState.panStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      if (this.dragPan) {\n        var _this$dragPan$inertia = this.dragPan.inertia,\n            inertia = _this$dragPan$inertia === void 0 ? DEFAULT_INERTIA : _this$dragPan$inertia;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.pan({\n            pos: endPos\n          }).panEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      if (this.dragRotate) {\n        var _this$dragRotate$iner = this.dragRotate.inertia,\n            inertia = _this$dragRotate$iner === void 0 ? DEFAULT_INERTIA : _this$dragRotate$iner;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.rotate({\n            pos: endPos\n          }).rotateEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      var _this$scrollZoom = this.scrollZoom,\n          _this$scrollZoom$spee = _this$scrollZoom.speed,\n          speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n          _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n          smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n\n      if (newMapState.getViewportProps().zoom === this.mapStateProps.zoom) {\n        return false;\n      }\n\n      this.updateViewport(newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        }),\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isPanning: true,\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      var newMapState = this.mapState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newMapState = newMapState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: Boolean(this.touchZoom),\n        isZooming: Boolean(this.touchZoom),\n        isRotating: Boolean(this.touchRotate)\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchZoom) {\n        var _this$touchZoom$inert = this.touchZoom.inertia,\n            inertia = _this$touchZoom$inert === void 0 ? DEFAULT_INERTIA : _this$touchZoom$inert;\n        var _lastPinchEvent = this._lastPinchEvent;\n\n        if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n          var pos = this.getCenter(event);\n\n          var _newMapState = this.mapState.rotateEnd();\n\n          var z = Math.log2(event.scale);\n\n          var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n\n          var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n          _newMapState = _newMapState.zoom({\n            pos: pos,\n            scale: endScale\n          }).zoomEnd();\n          this.updateViewport(_newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionInterpolator: new LinearInterpolator({\n              around: pos\n            }),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          });\n          this.blockEvents(inertia);\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchRotate) {\n        var _this$touchRotate$ine = this.touchRotate.inertia,\n            inertia = _this$touchRotate$ine === void 0 ? DEFAULT_INERTIA : _this$touchRotate$ine;\n\n        if (inertia && event.velocityY) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n\n          var _newMapState2 = this.mapState.rotate({\n            pos: endPos\n          });\n\n          this.updateViewport(_newMapState2, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          this.blockEvents(inertia);\n          return false;\n        }\n      }\n\n      var newMapState = this.mapState.rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n          _this$keyboard$zoomSp = _this$keyboard.zoomSpeed,\n          zoomSpeed = _this$keyboard$zoomSp === void 0 ? 2 : _this$keyboard$zoomSp,\n          _this$keyboard$moveSp = _this$keyboard.moveSpeed,\n          moveSpeed = _this$keyboard$moveSp === void 0 ? 100 : _this$keyboard$moveSp,\n          _this$keyboard$rotate = _this$keyboard.rotateSpeedX,\n          rotateSpeedX = _this$keyboard$rotate === void 0 ? 15 : _this$keyboard$rotate,\n          _this$keyboard$rotate2 = _this$keyboard.rotateSpeedY,\n          rotateSpeedY = _this$keyboard$rotate2 === void 0 ? 10 : _this$keyboard$rotate2;\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n\n  return MapController;\n}();\n\nexport { MapController as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useContext, useRef, useMemo, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport StaticMap, { getViewport } from './static-map';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport TransitionManager from '../utils/transition-manager';\nimport MapContext, { MapContextProvider } from './map-context';\nimport { EventManager } from 'mjolnir.js';\nimport MapController from '../utils/map-controller';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport { getTerrainElevation } from '../utils/terrain';\nvar propTypes = Object.assign({}, StaticMap.propTypes, {\n  maxZoom: PropTypes.number,\n  minZoom: PropTypes.number,\n  maxPitch: PropTypes.number,\n  minPitch: PropTypes.number,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onInteractionStateChange: PropTypes.func,\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  transitionInterpolator: PropTypes.object,\n  transitionInterruption: PropTypes.number,\n  transitionEasing: PropTypes.func,\n  onTransitionStart: PropTypes.func,\n  onTransitionInterrupt: PropTypes.func,\n  onTransitionEnd: PropTypes.func,\n  scrollZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragPan: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  doubleClickZoom: PropTypes.bool,\n  touchZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  touchRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  keyboard: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onDblClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onWheel: PropTypes.func,\n  touchAction: PropTypes.string,\n  eventRecognizerOptions: PropTypes.object,\n  clickRadius: PropTypes.number,\n  interactiveLayerIds: PropTypes.array,\n  getCursor: PropTypes.func,\n  controller: PropTypes.instanceOf(MapController)\n});\n\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n      isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\n\nvar defaultProps = Object.assign({}, StaticMap.defaultProps, MAPBOX_LIMITS, TransitionManager.defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\n\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return event;\n  }\n\n  var pos = [x, y];\n  event.point = pos;\n  var viewport = this.viewport;\n  var location = viewport.unproject(pos, {\n    targetZ: viewport.meterOffset[2]\n  });\n  event.lngLat = [location[0], location[1]];\n  return event;\n}\n\nfunction getFeatures(pos) {\n  var map = this.map;\n\n  if (!map || !pos) {\n    return null;\n  }\n\n  var queryParams = {};\n  var size = this.props.clickRadius;\n\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n\n  try {\n    return map.queryRenderedFeatures(size ? [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]] : pos, queryParams);\n  } catch (_unused) {\n    return null;\n  }\n}\n\nfunction onEvent(callbackName, event) {\n  var func = this.props[callbackName];\n\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\n\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\n\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\n\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n\n  if (!this.state.isDragging) {\n    var _this$props = this.props,\n        onHover = _this$props.onHover,\n        interactiveLayerIds = _this$props.interactiveLayerIds;\n    var features;\n    event = normalizeEvent.call(this, event);\n\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n\n    var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    var isEntering = isHovering && !this.state.isHovering;\n    var isExiting = !isHovering && this.state.isHovering;\n\n    if (onHover || isEntering) {\n      event.features = features;\n\n      if (onHover) {\n        onHover(event);\n      }\n    }\n\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n\n    if (isEntering || isExiting) {\n      this.setState({\n        isHovering: isHovering\n      });\n    }\n  }\n}\n\nfunction onPointerClick(event) {\n  var _this$props2 = this.props,\n      onClick = _this$props2.onClick,\n      onNativeClick = _this$props2.onNativeClick,\n      onDblClick = _this$props2.onDblClick,\n      doubleClickZoom = _this$props2.doubleClickZoom;\n  var callbacks = [];\n  var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    default:\n  }\n\n  callbacks = callbacks.filter(Boolean);\n\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n  }\n}\n\nfunction getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\n\nvar InteractiveMap = forwardRef(function (props, ref) {\n  var parentContext = useContext(MapContext);\n  var controller = useMemo(function () {\n    return props.controller || new MapController();\n  }, []);\n  var eventManager = useMemo(function () {\n    return new EventManager(null, {\n      touchAction: props.touchAction,\n      recognizerOptions: props.eventRecognizerOptions\n    });\n  }, []);\n  var eventCanvasRef = useRef(null);\n  var staticMapRef = useRef(null);\n\n  var _thisRef = useRef({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n\n  thisRef.setState = function (newState) {\n    thisRef.state = _objectSpread(_objectSpread({}, thisRef.state), newState);\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n\n  var inRender = true;\n  var viewportUpdateRequested;\n  var stateUpdateRequested;\n\n  var handleViewportChange = function handleViewportChange(viewState, interactionState, oldViewState) {\n    if (inRender) {\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n\n    var _thisRef$props = thisRef.props,\n        onViewStateChange = _thisRef$props.onViewStateChange,\n        onViewportChange = _thisRef$props.onViewportChange;\n    Object.defineProperty(viewState, 'position', {\n      get: function get() {\n        return [0, 0, getTerrainElevation(thisRef.map, viewState)];\n      }\n    });\n\n    if (onViewStateChange) {\n      onViewStateChange({\n        viewState: viewState,\n        interactionState: interactionState,\n        oldViewState: oldViewState\n      });\n    }\n\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n\n  useImperativeHandle(ref, function () {\n    return getRefHandles(staticMapRef);\n  }, []);\n  var context = useMemo(function () {\n    return _objectSpread(_objectSpread({}, parentContext), {}, {\n      eventManager: eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    });\n  }, [parentContext, eventCanvasRef.current]);\n  context.onViewportChange = handleViewportChange;\n  context.viewport = parentContext.viewport || getViewport(thisRef);\n  thisRef.viewport = context.viewport;\n\n  var handleInteractionStateChange = function handleInteractionStateChange(interactionState) {\n    var _interactionState$isD = interactionState.isDragging,\n        isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({\n        isDragging: isDragging\n      });\n    }\n\n    if (inRender) {\n      stateUpdateRequested = interactionState;\n      return;\n    }\n\n    var onInteractionStateChange = thisRef.props.onInteractionStateChange;\n\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n\n  var updateControllerOpts = function updateControllerOpts() {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions(_objectSpread(_objectSpread(_objectSpread({}, thisRef.props), thisRef.props.viewState), {}, {\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager: eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      }));\n    }\n  };\n\n  var onResize = function onResize(_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({\n      width: width,\n      height: height\n    });\n  };\n\n  useEffect(function () {\n    eventManager.setElement(eventCanvasRef.current);\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n    return function () {\n      eventManager.destroy();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (viewportUpdateRequested) {\n      handleViewportChange.apply(void 0, _toConsumableArray(viewportUpdateRequested));\n    }\n\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n  updateControllerOpts();\n  var width = props.width,\n      height = props.height,\n      style = props.style,\n      getCursor = props.getCursor;\n  var eventCanvasStyle = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      position: 'relative'\n    }, style), {}, {\n      width: width,\n      height: height,\n      cursor: getCursor(thisRef.state)\n    });\n  }, [style, width, height, getCursor, thisRef.state]);\n\n  if (!viewportUpdateRequested || !thisRef._child) {\n    thisRef._child = React.createElement(MapContextProvider, {\n      value: context\n    }, React.createElement(\"div\", {\n      key: \"event-canvas\",\n      ref: eventCanvasRef,\n      style: eventCanvasStyle\n    }, React.createElement(StaticMap, _extends({}, props, {\n      width: \"100%\",\n      height: \"100%\",\n      style: null,\n      onResize: onResize,\n      ref: staticMapRef\n    }))));\n  }\n\n  inRender = false;\n  return thisRef._child;\n});\nInteractiveMap.supported = StaticMap.supported;\nInteractiveMap.propTypes = propTypes;\nInteractiveMap.defaultProps = defaultProps;\nexport default InteractiveMap;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (_typeof(a) === 'object' && _typeof(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar LAYER_TYPES = ['fill', 'line', 'symbol', 'circle', 'fill-extrusion', 'raster', 'background', 'heatmap', 'hillshade', 'sky'];\nvar propTypes = {\n  type: PropTypes.oneOf(LAYER_TYPES).isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\n\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n      layout = _props$layout === void 0 ? {} : _props$layout,\n      _props$paint = props.paint,\n      paint = _props$paint === void 0 ? {} : _props$paint,\n      filter = props.filter,\n      minzoom = props.minzoom,\n      maxzoom = props.maxzoom,\n      beforeId = props.beforeId,\n      otherProps = _objectWithoutProperties(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n\n  if (layout !== prevProps.layout) {\n    var prevLayout = prevProps.layout || {};\n\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n\n    for (var _key in prevLayout) {\n      if (!layout.hasOwnProperty(_key)) {\n        map.setLayoutProperty(id, _key, undefined);\n      }\n    }\n  }\n\n  if (paint !== prevProps.paint) {\n    var prevPaint = prevProps.paint || {};\n\n    for (var _key2 in paint) {\n      if (!deepEqual(paint[_key2], prevPaint[_key2])) {\n        map.setPaintProperty(id, _key2, paint[_key2]);\n      }\n    }\n\n    for (var _key3 in prevPaint) {\n      if (!paint.hasOwnProperty(_key3)) {\n        map.setPaintProperty(id, _key3, undefined);\n      }\n    }\n  }\n\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n\n  for (var _key4 in otherProps) {\n    if (!deepEqual(otherProps[_key4], prevProps[_key4])) {\n      map.setLayerProperty(id, _key4, otherProps[_key4]);\n    }\n  }\n}\n\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread(_objectSpread({}, props), {}, {\n      id: id\n    });\n\n    delete options.beforeId;\n    map.addLayer(options, props.beforeId);\n  }\n}\n\nfunction updateLayer(map, id, props, prevProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error);\n  }\n}\n\nvar layerCounter = 0;\n\nfunction Layer(props) {\n  var context = useContext(MapContext);\n  var propsRef = useRef({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = useMemo(function () {\n    return props.id || \"jsx-layer-\".concat(layerCounter++);\n  }, []);\n  var map = context.map;\n  useEffect(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n\n    return undefined;\n  }, [map]);\n  var layer = map && map.style && map.getLayer(id);\n\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n\n  propsRef.current = props;\n  return null;\n}\n\nLayer.propTypes = propTypes;\nexport default Layer;","import { useContext, useRef, useEffect } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nexport var mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\nexport var mapControlPropTypes = {\n  captureScroll: PropTypes.bool,\n  captureDrag: PropTypes.bool,\n  captureClick: PropTypes.bool,\n  captureDoubleClick: PropTypes.bool,\n  capturePointerMove: PropTypes.bool\n};\n\nfunction onMount(thisRef) {\n  var ref = thisRef.containerRef.current;\n  var eventManager = thisRef.context.eventManager;\n\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n\n  var events = {\n    wheel: function wheel(evt) {\n      var props = thisRef.props;\n\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: function panstart(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: function anyclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onNativeClick) {\n        props.onNativeClick(evt, thisRef);\n      }\n    },\n    click: function click(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: function dblclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: function pointermove(evt) {\n      var props = thisRef.props;\n\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nexport default function useMapControl() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = useContext(MapContext);\n  var containerRef = useRef(null);\n\n  var _thisRef = useRef({\n    props: props,\n    state: {},\n    context: context,\n    containerRef: containerRef\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.context = context;\n  useEffect(function () {\n    return onMount(thisRef);\n  }, [context.eventManager]);\n  return thisRef;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nfunction Control(props) {\n  var instance = props.instance;\n\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  instance._context = context;\n  instance._containerRef = containerRef;\n  return instance._render();\n}\n\nvar BaseControl = function (_PureComponent) {\n  _inherits(BaseControl, _PureComponent);\n\n  var _super = _createSuper(BaseControl);\n\n  function BaseControl() {\n    var _this;\n\n    _classCallCheck(this, BaseControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_context\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDblClick\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (evt) {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerMove\", function (evt) {});\n\n    return _this;\n  }\n\n  _createClass(BaseControl, [{\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Control, _extends({\n        instance: this\n      }, this.props, {\n        onScroll: this._onScroll,\n        onDragStart: this._onDragStart,\n        onDblClick: this._onDblClick,\n        onClick: this._onClick,\n        onPointerMove: this._onPointerMove\n      }));\n    }\n  }]);\n\n  return BaseControl;\n}(PureComponent);\n\n_defineProperty(BaseControl, \"propTypes\", mapControlPropTypes);\n\n_defineProperty(BaseControl, \"defaultProps\", mapControlDefaultProps);\n\nexport { BaseControl as default };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nexport var draggableControlPropTypes = Object.assign({}, mapControlPropTypes, {\n  draggable: PropTypes.bool,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragStart: PropTypes.func,\n  offsetLeft: PropTypes.number,\n  offsetTop: PropTypes.number\n});\nexport var draggableControlDefaultProps = Object.assign({}, mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nfunction getDragEventPosition(event) {\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n  return [x, y];\n}\n\nfunction getDragEventOffset(event, container) {\n  var _event$center = event.center,\n      x = _event$center.x,\n      y = _event$center.y;\n\n  if (container) {\n    var rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n\n  return null;\n}\n\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  var x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  var y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  return context.viewport.unproject([x, y]);\n}\n\nfunction onDragStart(event, _ref) {\n  var props = _ref.props,\n      callbacks = _ref.callbacks,\n      state = _ref.state,\n      context = _ref.context,\n      containerRef = _ref.containerRef;\n  var draggable = props.draggable;\n\n  if (!draggable) {\n    return;\n  }\n\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  var dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n\n  if (callbacks.onDragStart && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\n\nfunction onDrag(event, _ref2) {\n  var props = _ref2.props,\n      callbacks = _ref2.callbacks,\n      state = _ref2.state,\n      context = _ref2.context;\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n  var dragOffset = state.dragOffset;\n\n  if (callbacks.onDrag && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\n\nfunction onDragEnd(event, _ref3) {\n  var props = _ref3.props,\n      callbacks = _ref3.callbacks,\n      state = _ref3.state,\n      context = _ref3.context;\n  event.stopPropagation();\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\n\nfunction onDragCancel(event, _ref4) {\n  var state = _ref4.state;\n  event.stopPropagation();\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\n\nfunction registerEvents(thisRef) {\n  var eventManager = thisRef.context.eventManager;\n\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n\n  var events = {\n    panmove: function panmove(evt) {\n      return onDrag(evt, thisRef);\n    },\n    panend: function panend(evt) {\n      return onDragEnd(evt, thisRef);\n    },\n    pancancel: function pancancel(evt) {\n      return onDragCancel(evt, thisRef);\n    }\n  };\n  eventManager.watch(events);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nexport default function useDraggableControl(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      dragPos = _useState2[0],\n      setDragPos = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dragOffset = _useState4[0],\n      setDragOffset = _useState4[1];\n\n  var thisRef = useMapControl(_objectSpread(_objectSpread({}, props), {}, {\n    onDragStart: onDragStart\n  }));\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n  useEffect(function () {\n    return registerEvents(thisRef);\n  }, [thisRef.context.eventManager, Boolean(dragPos)]);\n  return thisRef;\n}","var pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nexport var crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nexport var crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n\n  if (el === null) {\n    return percentage;\n  }\n\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport useDraggableControl, { draggableControlDefaultProps, draggableControlPropTypes } from './draggable-control';\nimport { crispPixel } from '../utils/crisp-pixel';\nimport { getTerrainElevation } from '../utils/terrain';\nvar defaultProps = Object.assign({}, draggableControlDefaultProps, {\n  className: ''\n});\n\nfunction getPosition(_ref) {\n  var props = _ref.props,\n      state = _ref.state,\n      context = _ref.context;\n  var longitude = props.longitude,\n      latitude = props.latitude,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop;\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  var viewport = context.viewport,\n      map = context.map;\n\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n\n  var altitude = getTerrainElevation(map, {\n    longitude: longitude,\n    latitude: latitude\n  });\n\n  var _viewport$project = viewport.project([longitude, latitude, altitude]),\n      _viewport$project2 = _slicedToArray(_viewport$project, 2),\n      x = _viewport$project2[0],\n      y = _viewport$project2[1];\n\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\n\nfunction Marker(props) {\n  var thisRef = useDraggableControl(props);\n  var state = thisRef.state,\n      containerRef = thisRef.containerRef;\n  var children = props.children,\n      className = props.className,\n      draggable = props.draggable;\n  var dragPos = state.dragPos;\n\n  var _getPosition = getPosition(thisRef),\n      _getPosition2 = _slicedToArray(_getPosition, 2),\n      x = _getPosition2[0],\n      y = _getPosition2[1];\n\n  var transform = \"translate(\".concat(crispPixel(x), \"px, \").concat(crispPixel(y), \"px)\");\n  var cursor = draggable ? dragPos ? 'grabbing' : 'grab' : 'auto';\n  var control = useMemo(function () {\n    var containerStyle = {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: transform,\n      cursor: cursor\n    };\n    return React.createElement(\"div\", {\n      className: \"mapboxgl-marker \".concat(className),\n      ref: thisRef.containerRef,\n      style: containerStyle\n    }, children);\n  }, [children, className]);\n  var container = containerRef.current;\n\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n\n  return control;\n}\n\nMarker.defaultProps = defaultProps;\nexport default React.memo(Marker);","export var ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nexport function getDynamicPosition(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      selfWidth = _ref.selfWidth,\n      selfHeight = _ref.selfHeight,\n      anchor = _ref.anchor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n      anchorX = _ANCHOR_POSITION$anch.x,\n      anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n  if (cutoffY > 0) {\n    var bestAnchorY = anchorY;\n    var minCutoff = cutoffY;\n\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n\n    anchorY = bestAnchorY;\n  }\n\n  var xStep = 0.5;\n\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n  if (cutoffX > 0) {\n    var bestAnchorX = anchorX;\n    var _minCutoff = cutoffX;\n\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n      if (cutoffX < _minCutoff) {\n        _minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n\n    anchorX = bestAnchorX;\n  }\n\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useState, useEffect, useCallback } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nimport { getDynamicPosition, ANCHOR_POSITION } from '../utils/dynamic-position';\nimport { getTerrainElevation } from '../utils/terrain';\nimport { crispPercentage, crispPixel } from '../utils/crisp-pixel';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\n\nfunction getPosition(props, viewport, el, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      x = _ref2[0],\n      y = _ref2[1];\n\n  var anchor = props.anchor,\n      dynamicPosition = props.dynamicPosition,\n      tipSize = props.tipSize;\n\n  if (el) {\n    return dynamicPosition ? getDynamicPosition({\n      x: x,\n      y: y,\n      anchor: anchor,\n      padding: tipSize,\n      width: viewport.width,\n      height: viewport.height,\n      selfWidth: el.clientWidth,\n      selfHeight: el.clientHeight\n    }) : anchor;\n  }\n\n  return anchor;\n}\n\nfunction getContainerStyle(props, viewport, el, _ref3, positionType) {\n  var _ref4 = _slicedToArray(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  var offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      sortByDepth = props.sortByDepth;\n  var anchorPosition = ANCHOR_POSITION[positionType];\n  var left = x + offsetLeft;\n  var top = y + offsetTop;\n  var xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n  var yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n  var style = {\n    position: 'absolute',\n    transform: \"\\n      translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n      translate(\").concat(crispPixel(left), \"px, \").concat(crispPixel(top), \"px)\\n    \"),\n    display: undefined,\n    zIndex: undefined\n  };\n\n  if (!sortByDepth) {\n    return style;\n  }\n\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    style.display = 'none';\n  } else {\n    style.zIndex = Math.floor((1 - z) / 2 * 100000);\n  }\n\n  return style;\n}\n\nfunction Popup(props) {\n  var contentRef = useRef(null);\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      setLoaded = _useState2[1];\n\n  useEffect(function () {\n    setLoaded(true);\n  }, [contentRef.current]);\n  useEffect(function () {\n    if (context.eventManager && props.closeOnClick) {\n      var clickCallback = function clickCallback() {\n        return thisRef.props.onClose();\n      };\n\n      context.eventManager.on('anyclick', clickCallback);\n      return function () {\n        context.eventManager.off('anyclick', clickCallback);\n      };\n    }\n\n    return undefined;\n  }, [context.eventManager, props.closeOnClick]);\n  var viewport = context.viewport,\n      map = context.map;\n  var className = props.className,\n      longitude = props.longitude,\n      latitude = props.latitude,\n      tipSize = props.tipSize,\n      closeButton = props.closeButton,\n      children = props.children;\n  var altitude = props.altitude;\n\n  if (altitude === undefined) {\n    altitude = getTerrainElevation(map, {\n      longitude: longitude,\n      latitude: latitude\n    });\n  }\n\n  var position = viewport.project([longitude, latitude, altitude]);\n  var positionType = getPosition(props, viewport, contentRef.current, position);\n  var containerStyle = getContainerStyle(props, viewport, containerRef.current, position, positionType);\n  var onClickCloseButton = useCallback(function (evt) {\n    thisRef.props.onClose();\n    var eventManager = thisRef.context.eventManager;\n\n    if (eventManager) {\n      eventManager.once('click', function (e) {\n        return e.stopPropagation();\n      }, evt.target);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n    style: containerStyle,\n    ref: containerRef\n  }, React.createElement(\"div\", {\n    key: \"tip\",\n    className: \"mapboxgl-popup-tip\",\n    style: {\n      borderWidth: tipSize\n    }\n  }), React.createElement(\"div\", {\n    key: \"content\",\n    ref: contentRef,\n    className: \"mapboxgl-popup-content\"\n  }, closeButton && React.createElement(\"button\", {\n    key: \"close-button\",\n    className: \"mapboxgl-popup-close-button\",\n    type: \"button\",\n    onClick: onClickCloseButton\n  }, \"\\xD7\"), children));\n}\n\nPopup.defaultProps = defaultProps;\nexport default React.memo(Popup);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useEffect, useCallback, useState, useRef, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\n\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  var control = new mapboxgl.AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n\n  control._updateAttributions();\n\n  control._updateEditLink();\n\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n  return control;\n}\n\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n\n  control._map.off('sourcedata', control._updateData);\n}\n\nfunction AttributionControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var innerContainerRef = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showCompact = _useState2[0],\n      setShowCompact = _useState2[1];\n\n  useEffect(function () {\n    var control;\n\n    if (context.map) {\n      control = setupAttributioncontrol({\n        customAttribution: props.customAttribution\n      }, context.map, containerRef.current, innerContainerRef.current);\n    }\n\n    return function () {\n      return control && removeAttributionControl(control);\n    };\n  }, [context.map]);\n  var compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n  useEffect(function () {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n  var toggleAttribution = useCallback(function () {\n    return setShowCompact(function (value) {\n      return !value;\n    });\n  }, []);\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    \"aria-pressed\": showCompact,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(compact ? 'mapboxgl-compact' : '', \" \").concat(showCompact ? 'mapboxgl-compact-show' : '')\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"mapboxgl-ctrl-attrib-button\",\n    title: props.toggleLabel,\n    onClick: toggleAttribution\n  }), React.createElement(\"div\", {\n    ref: innerContainerRef,\n    className: \"mapboxgl-ctrl-attrib-inner\",\n    role: \"list\"\n  })));\n}\n\nAttributionControl.defaultProps = defaultProps;\nexport default React.memo(AttributionControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { document } from '../utils/globals';\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\n\nfunction FullscreenControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFullscreen = _useState2[0],\n      setIsFullscreen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showButton = _useState4[0],\n      setShowButton = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mapboxFullscreenControl = _useState6[0],\n      createMapboxFullscreenControl = _useState6[1];\n\n  useEffect(function () {\n    var control = new mapboxgl.FullscreenControl();\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n\n    var onFullscreenChange = function onFullscreenChange() {\n      var nextState = !control._fullscreen;\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n\n    document.addEventListener(control._fullscreenchange, onFullscreenChange);\n    return function () {\n      document.removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n\n  var onClickFullscreen = function onClickFullscreen() {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._container = props.container || context.container;\n\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n\n  if (!showButton) {\n    return null;\n  }\n\n  var className = props.className,\n      label = props.label;\n  var type = isFullscreen ? 'shrink' : 'fullscreen';\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: onClickFullscreen\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nFullscreenControl.defaultProps = defaultProps;\nexport default React.memo(FullscreenControl);","var supported;\nexport function isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport { document } from '../utils/globals';\nimport mapboxgl from '../utils/mapboxgl';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { isGeolocationSupported } from '../utils/geolocate-utils';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nvar noop = function noop() {};\n\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 6000\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: false,\n  showUserLocation: true,\n  showAccuracyCircle: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nfunction getBounds(position) {\n  var center = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);\n  var radius = position.coords.accuracy;\n  var bounds = center.toBounds(radius);\n  return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n}\n\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  var control = new mapboxgl.GeolocateControl(props);\n  control._container = document.createElement('div');\n  control._map = {\n    on: function on() {},\n    _getUIString: function _getUIString() {\n      return '';\n    }\n  };\n\n  control._setupUI(true);\n\n  control._map = context.map;\n  control._geolocateButton = geolocateButton;\n  var eventManager = context.eventManager;\n\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', function () {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\n\nfunction updateCamera(position, _ref) {\n  var context = _ref.context,\n      props = _ref.props;\n  var bounds = getBounds(position);\n\n  var _context$viewport$fit = context.viewport.fitBounds(bounds, props.fitBoundsOptions),\n      longitude = _context$viewport$fit.longitude,\n      latitude = _context$viewport$fit.latitude,\n      zoom = _context$viewport$fit.zoom;\n\n  var newViewState = Object.assign({}, context.viewport, {\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var mapState = new MapState(newViewState);\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction GeolocateControl(props) {\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n  var geolocateButtonRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapboxGeolocateControl = _useState2[0],\n      createMapboxGeolocateControl = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      supportsGeolocation = _useState4[0],\n      setSupportsGeolocation = _useState4[1];\n\n  useEffect(function () {\n    var control;\n\n    if (context.map) {\n      isGeolocationSupported().then(function (result) {\n        setSupportsGeolocation(result);\n\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n\n          control._updateCamera = function (position) {\n            return updateCamera(position, thisRef);\n          };\n\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n\n    return function () {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n  var triggerGeolocate = useCallback(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n  useEffect(function () {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n  useEffect(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n  var className = props.className,\n      label = props.label,\n      disabledLabel = props.disabledLabel,\n      trackUserLocation = props.trackUserLocation;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    key: \"geolocate-control\",\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: \"geolocate\",\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",\n    ref: geolocateButtonRef,\n    disabled: !supportsGeolocation,\n    \"aria-pressed\": !trackUserLocation,\n    type: \"button\",\n    title: supportsGeolocation ? label : disabledLabel,\n    \"aria-label\": supportsGeolocation ? label : disabledLabel,\n    onClick: triggerGeolocate\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nGeolocateControl.defaultProps = defaultProps;\nexport default React.memo(GeolocateControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { compareVersions } from '../utils/version';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\n\nvar noop = function noop() {};\n\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nfunction updateViewport(context, props, opts) {\n  var viewport = context.viewport;\n  var mapState = new MapState(Object.assign({}, viewport, opts));\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction renderButton(type, label, callback, children) {\n  return React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: callback\n  }, children || React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }));\n}\n\nfunction renderCompass(context) {\n  var uiVersion = useMemo(function () {\n    return context.map ? getUIVersion(context.map.version) : VERSION_1_6;\n  }, [context.map]);\n  var bearing = context.viewport.bearing;\n  var style = {\n    transform: \"rotate(\".concat(-bearing, \"deg)\")\n  };\n  return uiVersion === VERSION_1_6 ? React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\",\n    style: style\n  }) : React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-compass-arrow\",\n    style: style\n  });\n}\n\nfunction NavigationControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var onZoomIn = function onZoomIn() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom + 1\n    });\n  };\n\n  var onZoomOut = function onZoomOut() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom - 1\n    });\n  };\n\n  var onResetNorth = function onResetNorth() {\n    updateViewport(context, props, {\n      bearing: 0,\n      pitch: 0\n    });\n  };\n\n  var className = props.className,\n      showCompass = props.showCompass,\n      showZoom = props.showZoom,\n      zoomInLabel = props.zoomInLabel,\n      zoomOutLabel = props.zoomOutLabel,\n      compassLabel = props.compassLabel;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn), showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut), showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))));\n}\n\nNavigationControl.defaultProps = defaultProps;\nexport default React.memo(NavigationControl);","export function compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n\n    if (part1 < part2) {\n      return -1;\n    }\n\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nfunction ScaleControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapboxScaleControl = _useState2[0],\n      createMapboxScaleControl = _useState2[1];\n\n  useEffect(function () {\n    if (context.map) {\n      var control = new mapboxgl.ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n\n    mapboxScaleControl._onMove();\n  }\n\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n  }));\n}\n\nScaleControl.defaultProps = defaultProps;\nexport default React.memo(ScaleControl);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction CanvasOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      ctx = _useState2[0],\n      setDrawingContext = _useState2[1];\n\n  useEffect(function () {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  if (ctx) {\n    ctx.save();\n    ctx.scale(pixelRatio, pixelRatio);\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx: ctx,\n      isDragging: isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n    ctx.restore();\n  }\n\n  return React.createElement(\"canvas\", {\n    ref: containerRef,\n    width: viewport.width * pixelRatio,\n    height: viewport.height * pixelRatio,\n    style: {\n      width: \"\".concat(viewport.width, \"px\"),\n      height: \"\".concat(viewport.height, \"px\"),\n      position: 'absolute',\n      left: 0,\n      top: 0\n    }\n  });\n}\n\nCanvasOverlay.defaultProps = defaultProps;\nexport default CanvasOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction HTMLOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height\n  }, props.style);\n\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nHTMLOverlay.defaultProps = defaultProps;\nexport default HTMLOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction SVGOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }, props.style);\n\n  return React.createElement(\"svg\", {\n    width: viewport.width,\n    height: viewport.height,\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nSVGOverlay.defaultProps = defaultProps;\nexport default SVGOverlay;","import mapboxgl from './mapboxgl';\nvar setRTLTextPlugin = mapboxgl ? mapboxgl.setRTLTextPlugin : function () {};\nexport default setRTLTextPlugin;","import project from '../project/project';\nvar vs = \"\\nvec4 project_position_to_clipspace(\\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\\n) {\\n  vec3 projectedPosition = project_position(position, position64Low);\\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\\n    // offset is specified as ENU\\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\\n    mat3 rotation = project_get_orientation_matrix(projectedPosition);\\n    offset = rotation * offset;\\n  }\\n  commonPosition = vec4(projectedPosition + offset, 1.0);\\n  return project_common_position_to_clipspace(commonPosition);\\n}\\n\\nvec4 project_position_to_clipspace(\\n  vec3 position, vec3 position64Low, vec3 offset\\n) {\\n  vec4 commonPosition;\\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\\n}\\n\";\nexport default {\n  name: 'project32',\n  dependencies: [project],\n  vs: vs\n};","var DEFAULT_HIGHLIGHT_COLOR = new Uint8Array([0, 255, 255, 255]);\nvar DEFAULT_MODULE_OPTIONS = {\n  pickingSelectedColor: null,\n  pickingHighlightColor: DEFAULT_HIGHLIGHT_COLOR,\n  pickingActive: false,\n  pickingAttribute: false\n};\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_MODULE_OPTIONS;\n  var uniforms = {};\n\n  if (opts.pickingSelectedColor !== undefined) {\n    if (!opts.pickingSelectedColor) {\n      uniforms.picking_uSelectedColorValid = 0;\n    } else {\n      var selectedColor = opts.pickingSelectedColor.slice(0, 3);\n      uniforms.picking_uSelectedColorValid = 1;\n      uniforms.picking_uSelectedColor = selectedColor;\n    }\n  }\n\n  if (opts.pickingHighlightColor) {\n    var color = Array.from(opts.pickingHighlightColor, function (x) {\n      return x / 255;\n    });\n\n    if (!Number.isFinite(color[3])) {\n      color[3] = 1;\n    }\n\n    uniforms.picking_uHighlightColor = color;\n  }\n\n  if (opts.pickingActive !== undefined) {\n    uniforms.picking_uActive = Boolean(opts.pickingActive);\n    uniforms.picking_uAttribute = Boolean(opts.pickingAttribute);\n  }\n\n  return uniforms;\n}\n\nvar vs = \"uniform bool picking_uActive;\\nuniform bool picking_uAttribute;\\nuniform vec3 picking_uSelectedColor;\\nuniform bool picking_uSelectedColorValid;\\n\\nout vec4 picking_vRGBcolor_Avalid;\\n\\nconst float COLOR_SCALE = 1. / 255.;\\n\\nbool picking_isColorValid(vec3 color) {\\n  return dot(color, vec3(1.0)) > 0.001;\\n}\\n\\nbool isVertexPicked(vec3 vertexColor) {\\n  return\\n    picking_uSelectedColorValid &&\\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\\n}\\n\\nvoid picking_setPickingColor(vec3 pickingColor) {\\n  if (picking_uActive) {\\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\\n\\n    if (!picking_uAttribute) {\\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\\n    }\\n  } else {\\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\\n  }\\n}\\n\\nvoid picking_setPickingAttribute(float value) {\\n  if (picking_uAttribute) {\\n    picking_vRGBcolor_Avalid.r = value;\\n  }\\n}\\nvoid picking_setPickingAttribute(vec2 value) {\\n  if (picking_uAttribute) {\\n    picking_vRGBcolor_Avalid.rg = value;\\n  }\\n}\\nvoid picking_setPickingAttribute(vec3 value) {\\n  if (picking_uAttribute) {\\n    picking_vRGBcolor_Avalid.rgb = value;\\n  }\\n}\\n\";\nvar fs = \"uniform bool picking_uActive;\\nuniform vec3 picking_uSelectedColor;\\nuniform vec4 picking_uHighlightColor;\\n\\nin vec4 picking_vRGBcolor_Avalid;\\nvec4 picking_filterHighlightColor(vec4 color) {\\n  if (picking_uActive) {\\n    return color;\\n  }\\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\\n\\n  if (selected) {\\n    float highLightAlpha = picking_uHighlightColor.a;\\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\\n    float highLightRatio = highLightAlpha / blendedAlpha;\\n\\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\\n    return vec4(blendedRGB, blendedAlpha);\\n  } else {\\n    return color;\\n  }\\n}\\nvec4 picking_filterPickingColor(vec4 color) {\\n  if (picking_uActive) {\\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\\n      discard;\\n    }\\n    return picking_vRGBcolor_Avalid;\\n  }\\n  return color;\\n}\\nvec4 picking_filterColor(vec4 color) {\\n  vec4 highightColor = picking_filterHighlightColor(color);\\n  return picking_filterPickingColor(highightColor);\\n}\\n\\n\";\nexport var picking = {\n  name: 'picking',\n  vs: vs,\n  fs: fs,\n  getUniforms: getUniforms\n};","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { picking } from '@luma.gl/core';\nexport default _objectSpread({\n  inject: {\n    'vs:DECKGL_FILTER_COLOR': \"\\n  picking_setPickingColor(geometry.pickingColor);\\n  // for picking depth values\\n  picking_setPickingAttribute(geometry.position.z);\\n  \",\n    'fs:DECKGL_FILTER_COLOR': {\n      order: 99,\n      injection: \"\\n  // use highlight color if this fragment belongs to the selected object.\\n  color = picking_filterHighlightColor(color);\\n\\n  // use picking color if rendering to picking FBO.\\n  color = picking_filterPickingColor(color);\\n    \"\n    }\n  }\n}, picking);","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { uid, assert } from '@luma.gl/webgl';\nexport var DRAW_MODE = {\n  POINTS: 0x0000,\n  LINES: 0x0001,\n  LINE_LOOP: 0x0002,\n  LINE_STRIP: 0x0003,\n  TRIANGLES: 0x0004,\n  TRIANGLE_STRIP: 0x0005,\n  TRIANGLE_FAN: 0x0006\n};\n\nvar Geometry = /*#__PURE__*/function () {\n  function Geometry() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Geometry);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? uid('geometry') : _props$id,\n        _props$drawMode = props.drawMode,\n        drawMode = _props$drawMode === void 0 ? DRAW_MODE.TRIANGLES : _props$drawMode,\n        _props$attributes = props.attributes,\n        attributes = _props$attributes === void 0 ? {} : _props$attributes,\n        _props$indices = props.indices,\n        indices = _props$indices === void 0 ? null : _props$indices,\n        _props$vertexCount = props.vertexCount,\n        vertexCount = _props$vertexCount === void 0 ? null : _props$vertexCount;\n    this.id = id;\n    this.drawMode = drawMode | 0;\n    this.attributes = {};\n    this.userData = {};\n\n    this._setAttributes(attributes, indices);\n\n    this.vertexCount = vertexCount || this._calculateVertexCount(this.attributes, this.indices);\n  }\n\n  _createClass(Geometry, [{\n    key: \"mode\",\n    get: function get() {\n      return this.drawMode;\n    }\n  }, {\n    key: \"getVertexCount\",\n    value: function getVertexCount() {\n      return this.vertexCount;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.indices ? _objectSpread({\n        indices: this.indices\n      }, this.attributes) : this.attributes;\n    }\n  }, {\n    key: \"_print\",\n    value: function _print(attributeName) {\n      return \"Geometry \".concat(this.id, \" attribute \").concat(attributeName);\n    }\n  }, {\n    key: \"_setAttributes\",\n    value: function _setAttributes(attributes, indices) {\n      if (indices) {\n        this.indices = ArrayBuffer.isView(indices) ? {\n          value: indices,\n          size: 1\n        } : indices;\n      }\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        attribute = ArrayBuffer.isView(attribute) ? {\n          value: attribute\n        } : attribute;\n        assert(ArrayBuffer.isView(attribute.value), \"\".concat(this._print(attributeName), \": must be typed array or object with value as typed array\"));\n\n        if ((attributeName === 'POSITION' || attributeName === 'positions') && !attribute.size) {\n          attribute.size = 3;\n        }\n\n        if (attributeName === 'indices') {\n          assert(!this.indices);\n          this.indices = attribute;\n        } else {\n          this.attributes[attributeName] = attribute;\n        }\n      }\n\n      if (this.indices && this.indices.isIndexed !== undefined) {\n        this.indices = Object.assign({}, this.indices);\n        delete this.indices.isIndexed;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_calculateVertexCount\",\n    value: function _calculateVertexCount(attributes, indices) {\n      if (indices) {\n        return indices.value.length;\n      }\n\n      var vertexCount = Infinity;\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        var value = attribute.value,\n            size = attribute.size,\n            constant = attribute.constant;\n\n        if (!constant && value && size >= 1) {\n          vertexCount = Math.min(vertexCount, value.length / size);\n        }\n      }\n\n      assert(Number.isFinite(vertexCount));\n      return vertexCount;\n    }\n  }], [{\n    key: \"DRAW_MODE\",\n    get: function get() {\n      return DRAW_MODE;\n    }\n  }]);\n\n  return Geometry;\n}();\n\nexport { Geometry as default };","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { createIterable, getAccessorFromBuffer } from './iterable-utils';\nimport defaultTypedArrayManager from './typed-array-manager';\nimport assert from './assert';\nimport { Buffer } from '@luma.gl/core';\n\nvar Tesselator = /*#__PURE__*/function () {\n  function Tesselator() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Tesselator);\n\n    var _opts$attributes = opts.attributes,\n        attributes = _opts$attributes === void 0 ? {} : _opts$attributes;\n    this.typedArrayManager = defaultTypedArrayManager;\n    this.indexStarts = null;\n    this.vertexStarts = null;\n    this.vertexCount = 0;\n    this.instanceCount = 0;\n    this.attributes = {};\n    this._attributeDefs = attributes;\n    this.opts = opts;\n    this.updateGeometry(opts);\n    Object.seal(this);\n  }\n\n  _createClass(Tesselator, [{\n    key: \"updateGeometry\",\n    value: function updateGeometry(opts) {\n      Object.assign(this.opts, opts);\n      var _this$opts = this.opts,\n          data = _this$opts.data,\n          _this$opts$buffers = _this$opts.buffers,\n          buffers = _this$opts$buffers === void 0 ? {} : _this$opts$buffers,\n          getGeometry = _this$opts.getGeometry,\n          geometryBuffer = _this$opts.geometryBuffer,\n          positionFormat = _this$opts.positionFormat,\n          dataChanged = _this$opts.dataChanged,\n          _this$opts$normalize = _this$opts.normalize,\n          normalize = _this$opts$normalize === void 0 ? true : _this$opts$normalize;\n      this.data = data;\n      this.getGeometry = getGeometry;\n      this.positionSize = geometryBuffer && geometryBuffer.size || (positionFormat === 'XY' ? 2 : 3);\n      this.buffers = buffers;\n      this.normalize = normalize;\n\n      if (geometryBuffer) {\n        assert(data.startIndices);\n        this.getGeometry = this.getGeometryFromBuffer(geometryBuffer);\n\n        if (!normalize) {\n          buffers.positions = geometryBuffer;\n        }\n      }\n\n      this.geometryBuffer = buffers.positions;\n\n      if (Array.isArray(dataChanged)) {\n        var _iterator = _createForOfIteratorHelper(dataChanged),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var dataRange = _step.value;\n\n            this._rebuildGeometry(dataRange);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        this._rebuildGeometry();\n      }\n    }\n  }, {\n    key: \"updatePartialGeometry\",\n    value: function updatePartialGeometry(_ref) {\n      var startRow = _ref.startRow,\n          endRow = _ref.endRow;\n\n      this._rebuildGeometry({\n        startRow: startRow,\n        endRow: endRow\n      });\n    }\n  }, {\n    key: \"normalizeGeometry\",\n    value: function normalizeGeometry(geometry) {\n      return geometry;\n    }\n  }, {\n    key: \"updateGeometryAttributes\",\n    value: function updateGeometryAttributes(geometry, startIndex, size) {\n      throw new Error('Not implemented');\n    }\n  }, {\n    key: \"getGeometrySize\",\n    value: function getGeometrySize(geometry) {\n      throw new Error('Not implemented');\n    }\n  }, {\n    key: \"getGeometryFromBuffer\",\n    value: function getGeometryFromBuffer(geometryBuffer) {\n      var value = geometryBuffer.value || geometryBuffer;\n      assert(ArrayBuffer.isView(value));\n      return getAccessorFromBuffer(value, {\n        size: this.positionSize,\n        offset: geometryBuffer.offset,\n        stride: geometryBuffer.stride,\n        startIndices: this.data.startIndices\n      });\n    }\n  }, {\n    key: \"_allocate\",\n    value: function _allocate(instanceCount, copy) {\n      var attributes = this.attributes,\n          buffers = this.buffers,\n          _attributeDefs = this._attributeDefs,\n          typedArrayManager = this.typedArrayManager;\n\n      for (var name in _attributeDefs) {\n        if (name in buffers) {\n          typedArrayManager.release(attributes[name]);\n          attributes[name] = null;\n        } else {\n          var def = _attributeDefs[name];\n          def.copy = copy;\n          attributes[name] = typedArrayManager.allocate(attributes[name], instanceCount, def);\n        }\n      }\n    }\n  }, {\n    key: \"_forEachGeometry\",\n    value: function _forEachGeometry(visitor, startRow, endRow) {\n      var data = this.data,\n          getGeometry = this.getGeometry;\n\n      var _createIterable = createIterable(data, startRow, endRow),\n          iterable = _createIterable.iterable,\n          objectInfo = _createIterable.objectInfo;\n\n      var _iterator2 = _createForOfIteratorHelper(iterable),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var object = _step2.value;\n          objectInfo.index++;\n          var geometry = getGeometry(object, objectInfo);\n          visitor(geometry, objectInfo.index);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"_rebuildGeometry\",\n    value: function _rebuildGeometry(dataRange) {\n      var _this = this;\n\n      if (!this.data || !this.getGeometry) {\n        return;\n      }\n\n      var indexStarts = this.indexStarts,\n          vertexStarts = this.vertexStarts,\n          instanceCount = this.instanceCount;\n      var data = this.data,\n          geometryBuffer = this.geometryBuffer;\n\n      var _ref2 = dataRange || {},\n          _ref2$startRow = _ref2.startRow,\n          startRow = _ref2$startRow === void 0 ? 0 : _ref2$startRow,\n          _ref2$endRow = _ref2.endRow,\n          endRow = _ref2$endRow === void 0 ? Infinity : _ref2$endRow;\n\n      var normalizedData = {};\n\n      if (!dataRange) {\n        indexStarts = [0];\n        vertexStarts = [0];\n      }\n\n      if (this.normalize || !geometryBuffer) {\n        this._forEachGeometry(function (geometry, dataIndex) {\n          geometry = _this.normalizeGeometry(geometry);\n          normalizedData[dataIndex] = geometry;\n          vertexStarts[dataIndex + 1] = vertexStarts[dataIndex] + _this.getGeometrySize(geometry);\n        }, startRow, endRow);\n\n        instanceCount = vertexStarts[vertexStarts.length - 1];\n      } else if (geometryBuffer.buffer instanceof Buffer) {\n        var byteStride = geometryBuffer.stride || this.positionSize * 4;\n        vertexStarts = data.startIndices;\n        instanceCount = vertexStarts[data.length] || geometryBuffer.buffer.byteLength / byteStride;\n      } else {\n        var bufferValue = geometryBuffer.value || geometryBuffer;\n        var elementStride = geometryBuffer.stride / bufferValue.BYTES_PER_ELEMENT || this.positionSize;\n        vertexStarts = data.startIndices;\n        instanceCount = vertexStarts[data.length] || bufferValue.length / elementStride;\n      }\n\n      this._allocate(instanceCount, Boolean(dataRange));\n\n      this.indexStarts = indexStarts;\n      this.vertexStarts = vertexStarts;\n      this.instanceCount = instanceCount;\n      var context = {};\n\n      this._forEachGeometry(function (geometry, dataIndex) {\n        geometry = normalizedData[dataIndex] || geometry;\n        context.vertexStart = vertexStarts[dataIndex];\n        context.indexStart = indexStarts[dataIndex];\n        var vertexEnd = dataIndex < vertexStarts.length - 1 ? vertexStarts[dataIndex + 1] : instanceCount;\n        context.geometrySize = vertexEnd - vertexStarts[dataIndex];\n        context.geometryIndex = dataIndex;\n\n        _this.updateGeometryAttributes(geometry, context);\n      }, startRow, endRow);\n\n      this.vertexCount = indexStarts[indexStarts.length - 1];\n    }\n  }]);\n\n  return Tesselator;\n}();\n\nexport { Tesselator as default };","import { equals } from '@math.gl/core';\nexport var WINDING = {\n  CLOCKWISE: 1,\n  COUNTER_CLOCKWISE: -1\n};\nexport function modifyPolygonWindingDirection(points, direction) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var windingDirection = getPolygonWindingDirection(points, options);\n\n  if (windingDirection !== direction) {\n    reversePolygon(points, options);\n    return true;\n  }\n\n  return false;\n}\nexport function getPolygonWindingDirection(points) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Math.sign(getPolygonSignedArea(points, options));\n}\nexport function getPolygonSignedArea(points) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$start = options.start,\n      start = _options$start === void 0 ? 0 : _options$start,\n      _options$end = options.end,\n      end = _options$end === void 0 ? points.length : _options$end;\n  var dim = options.size || 2;\n  var area = 0;\n\n  for (var i = start, j = end - dim; i < end; i += dim) {\n    area += (points[i] - points[j]) * (points[i + 1] + points[j + 1]);\n    j = i;\n  }\n\n  return area / 2;\n}\nexport function forEachSegmentInPolygon(points, visitor) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$start2 = options.start,\n      start = _options$start2 === void 0 ? 0 : _options$start2,\n      _options$end2 = options.end,\n      end = _options$end2 === void 0 ? points.length : _options$end2,\n      _options$size = options.size,\n      size = _options$size === void 0 ? 2 : _options$size,\n      isClosed = options.isClosed;\n  var numPoints = (end - start) / size;\n\n  for (var i = 0; i < numPoints - 1; ++i) {\n    visitor(points[start + i * size], points[start + i * size + 1], points[start + (i + 1) * size], points[start + (i + 1) * size + 1], i, i + 1);\n  }\n\n  var endPointIndex = start + (numPoints - 1) * size;\n  var isClosedEx = isClosed || equals(points[start], points[endPointIndex]) && equals(points[start + 1], points[endPointIndex + 1]);\n\n  if (!isClosedEx) {\n    visitor(points[endPointIndex], points[endPointIndex + 1], points[start], points[start + 1], numPoints - 1, 0);\n  }\n}\n\nfunction reversePolygon(points, options) {\n  var _options$start3 = options.start,\n      start = _options$start3 === void 0 ? 0 : _options$start3,\n      _options$end3 = options.end,\n      end = _options$end3 === void 0 ? points.length : _options$end3,\n      _options$size2 = options.size,\n      size = _options$size2 === void 0 ? 2 : _options$size2;\n  var numPoints = (end - start) / size;\n  var numSwaps = Math.floor(numPoints / 2);\n\n  for (var i = 0; i < numSwaps; ++i) {\n    var b1 = start + i * size;\n    var b2 = start + (numPoints - 1 - i) * size;\n\n    for (var j = 0; j < size; ++j) {\n      var tmp = points[b1 + j];\n      points[b1 + j] = points[b2 + j];\n      points[b2 + j] = tmp;\n    }\n  }\n}\n\nexport function modifyPolygonWindingDirectionPoints(points, direction) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var currentDirection = getPolygonWindingDirectionPoints(points, options);\n\n  if (currentDirection !== direction) {\n    points.reverse();\n    return true;\n  }\n\n  return false;\n}\nexport function getPolygonWindingDirectionPoints(points) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Math.sign(getPolygonSignedAreaPoints(points, options));\n}\nexport function getPolygonSignedAreaPoints(points) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$start4 = options.start,\n      start = _options$start4 === void 0 ? 0 : _options$start4,\n      _options$end4 = options.end,\n      end = _options$end4 === void 0 ? points.length : _options$end4;\n  var area = 0;\n\n  for (var i = start, j = end - 1; i < end; ++i) {\n    area += (points[i][0] - points[j][0]) * (points[i][1] + points[j][1]);\n    j = i;\n  }\n\n  return area / 2;\n}\nexport function forEachSegmentInPolygonPoints(points, visitor) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$start5 = options.start,\n      start = _options$start5 === void 0 ? 0 : _options$start5,\n      _options$end5 = options.end,\n      end = _options$end5 === void 0 ? points.length : _options$end5,\n      isClosed = options.isClosed;\n\n  for (var i = start; i < end - 1; ++i) {\n    visitor(points[i], points[i + 1], i, i + 1);\n  }\n\n  var isClosedEx = isClosed || equals(points[end - 1], points[0]);\n\n  if (!isClosedEx) {\n    visitor(points[end - 1], points[0], end - 1, 0);\n  }\n}","import { push, copy, getPointAtIndex } from './utils';\nexport function clipPolyline(positions, bbox) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$size = options.size,\n      size = _options$size === void 0 ? 2 : _options$size,\n      _options$startIndex = options.startIndex,\n      startIndex = _options$startIndex === void 0 ? 0 : _options$startIndex,\n      _options$endIndex = options.endIndex,\n      endIndex = _options$endIndex === void 0 ? positions.length : _options$endIndex;\n  var numPoints = (endIndex - startIndex) / size;\n  var result = [];\n  var part = [];\n  var a;\n  var b;\n  var codeA = -1;\n  var codeB;\n  var lastCode;\n\n  for (var i = 1; i < numPoints; i++) {\n    a = getPointAtIndex(positions, i - 1, size, startIndex, a);\n    b = getPointAtIndex(positions, i, size, startIndex, b);\n\n    if (codeA < 0) {\n      codeA = bitCode(a, bbox);\n    }\n\n    codeB = lastCode = bitCode(b, bbox);\n\n    while (true) {\n      if (!(codeA | codeB)) {\n        push(part, a);\n\n        if (codeB !== lastCode) {\n          push(part, b);\n\n          if (i < numPoints - 1) {\n            result.push(part);\n            part = [];\n          }\n        } else if (i === numPoints - 1) {\n          push(part, b);\n        }\n\n        break;\n      } else if (codeA & codeB) {\n        break;\n      } else if (codeA) {\n        intersect(a, b, codeA, bbox, a);\n        codeA = bitCode(a, bbox);\n      } else {\n        intersect(a, b, codeB, bbox, b);\n        codeB = bitCode(b, bbox);\n      }\n    }\n\n    codeA = lastCode;\n  }\n\n  if (part.length) result.push(part);\n  return result;\n}\nexport function clipPolygon(positions, bbox) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$size2 = options.size,\n      size = _options$size2 === void 0 ? 2 : _options$size2,\n      _options$endIndex2 = options.endIndex,\n      endIndex = _options$endIndex2 === void 0 ? positions.length : _options$endIndex2;\n  var _options$startIndex2 = options.startIndex,\n      startIndex = _options$startIndex2 === void 0 ? 0 : _options$startIndex2;\n  var numPoints = (endIndex - startIndex) / size;\n  var result;\n  var p;\n  var prev;\n  var inside;\n  var prevInside;\n\n  for (var edge = 1; edge <= 8; edge *= 2) {\n    result = [];\n    prev = getPointAtIndex(positions, numPoints - 1, size, startIndex, prev);\n    prevInside = !(bitCode(prev, bbox) & edge);\n\n    for (var i = 0; i < numPoints; i++) {\n      p = getPointAtIndex(positions, i, size, startIndex, p);\n      inside = !(bitCode(p, bbox) & edge);\n      if (inside !== prevInside) push(result, intersect(prev, p, edge, bbox));\n      if (inside) push(result, p);\n      copy(prev, p);\n      prevInside = inside;\n    }\n\n    positions = result;\n    startIndex = 0;\n    numPoints = result.length / size;\n    if (!numPoints) break;\n  }\n\n  return result;\n}\nexport function intersect(a, b, edge, bbox) {\n  var out = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var t;\n  var snap;\n\n  if (edge & 8) {\n    t = (bbox[3] - a[1]) / (b[1] - a[1]);\n    snap = 3;\n  } else if (edge & 4) {\n    t = (bbox[1] - a[1]) / (b[1] - a[1]);\n    snap = 1;\n  } else if (edge & 2) {\n    t = (bbox[2] - a[0]) / (b[0] - a[0]);\n    snap = 2;\n  } else if (edge & 1) {\n    t = (bbox[0] - a[0]) / (b[0] - a[0]);\n    snap = 0;\n  } else {\n    return null;\n  }\n\n  for (var i = 0; i < a.length; i++) {\n    out[i] = (snap & 1) === i ? bbox[snap] : t * (b[i] - a[i]) + a[i];\n  }\n\n  return out;\n}\nexport function bitCode(p, bbox) {\n  var code = 0;\n  if (p[0] < bbox[0]) code |= 1;else if (p[0] > bbox[2]) code |= 2;\n  if (p[1] < bbox[1]) code |= 4;else if (p[1] > bbox[3]) code |= 8;\n  return code;\n}","export function push(target, source) {\n  var size = source.length;\n  var startIndex = target.length;\n\n  if (startIndex > 0) {\n    var isDuplicate = true;\n\n    for (var i = 0; i < size; i++) {\n      if (target[startIndex - size + i] !== source[i]) {\n        isDuplicate = false;\n        break;\n      }\n    }\n\n    if (isDuplicate) {\n      return false;\n    }\n  }\n\n  for (var _i = 0; _i < size; _i++) {\n    target[startIndex + _i] = source[_i];\n  }\n\n  return true;\n}\nexport function copy(target, source) {\n  var size = source.length;\n\n  for (var i = 0; i < size; i++) {\n    target[i] = source[i];\n  }\n}\nexport function getPointAtIndex(positions, index, size, offset) {\n  var out = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var startI = offset + index * size;\n\n  for (var i = 0; i < size; i++) {\n    out[i] = positions[startI + i];\n  }\n\n  return out;\n}","import { bitCode, intersect } from './lineclip';\nimport { getPointAtIndex, copy, push } from './utils';\nexport function cutPolylineByGrid(positions) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$size = options.size,\n      size = _options$size === void 0 ? 2 : _options$size,\n      _options$broken = options.broken,\n      broken = _options$broken === void 0 ? false : _options$broken,\n      _options$gridResoluti = options.gridResolution,\n      gridResolution = _options$gridResoluti === void 0 ? 10 : _options$gridResoluti,\n      _options$gridOffset = options.gridOffset,\n      gridOffset = _options$gridOffset === void 0 ? [0, 0] : _options$gridOffset,\n      _options$startIndex = options.startIndex,\n      startIndex = _options$startIndex === void 0 ? 0 : _options$startIndex,\n      _options$endIndex = options.endIndex,\n      endIndex = _options$endIndex === void 0 ? positions.length : _options$endIndex;\n  var numPoints = (endIndex - startIndex) / size;\n  var part = [];\n  var result = [part];\n  var a = getPointAtIndex(positions, 0, size, startIndex);\n  var b;\n  var codeB;\n  var cell = getGridCell(a, gridResolution, gridOffset, []);\n  var scratchPoint = [];\n  push(part, a);\n\n  for (var i = 1; i < numPoints; i++) {\n    b = getPointAtIndex(positions, i, size, startIndex, b);\n    codeB = bitCode(b, cell);\n\n    while (codeB) {\n      intersect(a, b, codeB, cell, scratchPoint);\n      var codeAlt = bitCode(scratchPoint, cell);\n\n      if (codeAlt) {\n        intersect(a, scratchPoint, codeAlt, cell, scratchPoint);\n        codeB = codeAlt;\n      }\n\n      push(part, scratchPoint);\n      copy(a, scratchPoint);\n      moveToNeighborCell(cell, gridResolution, codeB);\n\n      if (broken && part.length > size) {\n        part = [];\n        result.push(part);\n        push(part, a);\n      }\n\n      codeB = bitCode(b, cell);\n    }\n\n    push(part, b);\n    copy(a, b);\n  }\n\n  return broken ? result : result[0];\n}\nvar TYPE_INSIDE = 0;\nvar TYPE_BORDER = 1;\n\nfunction concatInPlace(arr1, arr2) {\n  for (var i = 0; i < arr2.length; i++) {\n    arr1.push(arr2[i]);\n  }\n\n  return arr1;\n}\n\nexport function cutPolygonByGrid(positions, holeIndices) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!positions.length) {\n    return [];\n  }\n\n  var _options$size2 = options.size,\n      size = _options$size2 === void 0 ? 2 : _options$size2,\n      _options$gridResoluti2 = options.gridResolution,\n      gridResolution = _options$gridResoluti2 === void 0 ? 10 : _options$gridResoluti2,\n      _options$gridOffset2 = options.gridOffset,\n      gridOffset = _options$gridOffset2 === void 0 ? [0, 0] : _options$gridOffset2,\n      _options$edgeTypes = options.edgeTypes,\n      edgeTypes = _options$edgeTypes === void 0 ? false : _options$edgeTypes;\n  var result = [];\n  var queue = [{\n    pos: positions,\n    types: edgeTypes && new Array(positions.length / size).fill(TYPE_BORDER),\n    holes: holeIndices || []\n  }];\n  var bbox = [[], []];\n  var cell = [];\n\n  while (queue.length) {\n    var _queue$shift = queue.shift(),\n        pos = _queue$shift.pos,\n        types = _queue$shift.types,\n        holes = _queue$shift.holes;\n\n    getBoundingBox(pos, size, holes[0] || pos.length, bbox);\n    cell = getGridCell(bbox[0], gridResolution, gridOffset, cell);\n    var code = bitCode(bbox[1], cell);\n\n    if (code) {\n      var parts = bisectPolygon(pos, types, size, 0, holes[0] || pos.length, cell, code);\n      var polygonLow = {\n        pos: parts[0].pos,\n        types: parts[0].types,\n        holes: []\n      };\n      var polygonHigh = {\n        pos: parts[1].pos,\n        types: parts[1].types,\n        holes: []\n      };\n      queue.push(polygonLow, polygonHigh);\n\n      for (var i = 0; i < holes.length; i++) {\n        parts = bisectPolygon(pos, types, size, holes[i], holes[i + 1] || pos.length, cell, code);\n\n        if (parts[0]) {\n          polygonLow.holes.push(polygonLow.pos.length);\n          polygonLow.pos = concatInPlace(polygonLow.pos, parts[0].pos);\n\n          if (edgeTypes) {\n            polygonLow.types = concatInPlace(polygonLow.types, parts[0].types);\n          }\n        }\n\n        if (parts[1]) {\n          polygonHigh.holes.push(polygonHigh.pos.length);\n          polygonHigh.pos = concatInPlace(polygonHigh.pos, parts[1].pos);\n\n          if (edgeTypes) {\n            polygonHigh.types = concatInPlace(polygonHigh.types, parts[1].types);\n          }\n        }\n      }\n    } else {\n      var polygon = {\n        positions: pos\n      };\n\n      if (edgeTypes) {\n        polygon.edgeTypes = types;\n      }\n\n      if (holes.length) {\n        polygon.holeIndices = holes;\n      }\n\n      result.push(polygon);\n    }\n  }\n\n  return result;\n}\n\nfunction bisectPolygon(positions, edgeTypes, size, startIndex, endIndex, bbox, edge) {\n  var numPoints = (endIndex - startIndex) / size;\n  var resultLow = [];\n  var resultHigh = [];\n  var typesLow = [];\n  var typesHigh = [];\n  var scratchPoint = [];\n  var p;\n  var side;\n  var type;\n  var prev = getPointAtIndex(positions, numPoints - 1, size, startIndex);\n  var prevSide = Math.sign(edge & 8 ? prev[1] - bbox[3] : prev[0] - bbox[2]);\n  var prevType = edgeTypes && edgeTypes[numPoints - 1];\n  var lowPointCount = 0;\n  var highPointCount = 0;\n\n  for (var i = 0; i < numPoints; i++) {\n    p = getPointAtIndex(positions, i, size, startIndex, p);\n    side = Math.sign(edge & 8 ? p[1] - bbox[3] : p[0] - bbox[2]);\n    type = edgeTypes && edgeTypes[startIndex / size + i];\n\n    if (side && prevSide && prevSide !== side) {\n      intersect(prev, p, edge, bbox, scratchPoint);\n      push(resultLow, scratchPoint) && typesLow.push(prevType);\n      push(resultHigh, scratchPoint) && typesHigh.push(prevType);\n    }\n\n    if (side <= 0) {\n      push(resultLow, p) && typesLow.push(type);\n      lowPointCount -= side;\n    } else if (typesLow.length) {\n      typesLow[typesLow.length - 1] = TYPE_INSIDE;\n    }\n\n    if (side >= 0) {\n      push(resultHigh, p) && typesHigh.push(type);\n      highPointCount += side;\n    } else if (typesHigh.length) {\n      typesHigh[typesHigh.length - 1] = TYPE_INSIDE;\n    }\n\n    copy(prev, p);\n    prevSide = side;\n    prevType = type;\n  }\n\n  return [lowPointCount ? {\n    pos: resultLow,\n    types: edgeTypes && typesLow\n  } : null, highPointCount ? {\n    pos: resultHigh,\n    types: edgeTypes && typesHigh\n  } : null];\n}\n\nfunction getGridCell(p, gridResolution, gridOffset, out) {\n  var left = Math.floor((p[0] - gridOffset[0]) / gridResolution) * gridResolution + gridOffset[0];\n  var bottom = Math.floor((p[1] - gridOffset[1]) / gridResolution) * gridResolution + gridOffset[1];\n  out[0] = left;\n  out[1] = bottom;\n  out[2] = left + gridResolution;\n  out[3] = bottom + gridResolution;\n  return out;\n}\n\nfunction moveToNeighborCell(cell, gridResolution, edge) {\n  if (edge & 8) {\n    cell[1] += gridResolution;\n    cell[3] += gridResolution;\n  } else if (edge & 4) {\n    cell[1] -= gridResolution;\n    cell[3] -= gridResolution;\n  } else if (edge & 2) {\n    cell[0] += gridResolution;\n    cell[2] += gridResolution;\n  } else if (edge & 1) {\n    cell[0] -= gridResolution;\n    cell[2] -= gridResolution;\n  }\n}\n\nfunction getBoundingBox(positions, size, endIndex, out) {\n  var minX = Infinity;\n  var maxX = -Infinity;\n  var minY = Infinity;\n  var maxY = -Infinity;\n\n  for (var i = 0; i < endIndex; i += size) {\n    var x = positions[i];\n    var y = positions[i + 1];\n    minX = x < minX ? x : minX;\n    maxX = x > maxX ? x : maxX;\n    minY = y < minY ? y : minY;\n    maxY = y > maxY ? y : maxY;\n  }\n\n  out[0][0] = minX;\n  out[0][1] = minY;\n  out[1][0] = maxX;\n  out[1][1] = maxY;\n  return out;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { cutPolylineByGrid, cutPolygonByGrid } from './cut-by-grid';\nimport { getPointAtIndex, push } from './utils';\nvar DEFAULT_MAX_LATITUDE = 85.051129;\nexport function cutPolylineByMercatorBounds(positions) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$size = options.size,\n      size = _options$size === void 0 ? 2 : _options$size,\n      _options$startIndex = options.startIndex,\n      startIndex = _options$startIndex === void 0 ? 0 : _options$startIndex,\n      _options$endIndex = options.endIndex,\n      endIndex = _options$endIndex === void 0 ? positions.length : _options$endIndex,\n      _options$normalize = options.normalize,\n      normalize = _options$normalize === void 0 ? true : _options$normalize;\n  var newPositions = positions.slice(startIndex, endIndex);\n  wrapLongitudesForShortestPath(newPositions, size, 0, endIndex - startIndex);\n  var parts = cutPolylineByGrid(newPositions, {\n    size: size,\n    broken: true,\n    gridResolution: 360,\n    gridOffset: [-180, -180]\n  });\n\n  if (normalize) {\n    var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        shiftLongitudesIntoRange(part, size);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return parts;\n}\nexport function cutPolygonByMercatorBounds(positions, holeIndices) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$size2 = options.size,\n      size = _options$size2 === void 0 ? 2 : _options$size2,\n      _options$normalize2 = options.normalize,\n      normalize = _options$normalize2 === void 0 ? true : _options$normalize2,\n      _options$edgeTypes = options.edgeTypes,\n      edgeTypes = _options$edgeTypes === void 0 ? false : _options$edgeTypes;\n  holeIndices = holeIndices || [];\n  var newPositions = [];\n  var newHoleIndices = [];\n  var srcStartIndex = 0;\n  var targetIndex = 0;\n\n  for (var ringIndex = 0; ringIndex <= holeIndices.length; ringIndex++) {\n    var srcEndIndex = holeIndices[ringIndex] || positions.length;\n    var targetStartIndex = targetIndex;\n    var splitIndex = findSplitIndex(positions, size, srcStartIndex, srcEndIndex);\n\n    for (var i = splitIndex; i < srcEndIndex; i++) {\n      newPositions[targetIndex++] = positions[i];\n    }\n\n    for (var _i = srcStartIndex; _i < splitIndex; _i++) {\n      newPositions[targetIndex++] = positions[_i];\n    }\n\n    wrapLongitudesForShortestPath(newPositions, size, targetStartIndex, targetIndex);\n    insertPoleVertices(newPositions, size, targetStartIndex, targetIndex, options.maxLatitude);\n    srcStartIndex = srcEndIndex;\n    newHoleIndices[ringIndex] = targetIndex;\n  }\n\n  newHoleIndices.pop();\n  var parts = cutPolygonByGrid(newPositions, newHoleIndices, {\n    size: size,\n    gridResolution: 360,\n    gridOffset: [-180, -180],\n    edgeTypes: edgeTypes\n  });\n\n  if (normalize) {\n    var _iterator2 = _createForOfIteratorHelper(parts),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var part = _step2.value;\n        shiftLongitudesIntoRange(part.positions, size);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return parts;\n}\n\nfunction findSplitIndex(positions, size, startIndex, endIndex) {\n  var maxLat = -1;\n  var pointIndex = -1;\n\n  for (var i = startIndex + 1; i < endIndex; i += size) {\n    var lat = Math.abs(positions[i]);\n\n    if (lat > maxLat) {\n      maxLat = lat;\n      pointIndex = i - 1;\n    }\n  }\n\n  return pointIndex;\n}\n\nfunction insertPoleVertices(positions, size, startIndex, endIndex) {\n  var maxLatitude = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DEFAULT_MAX_LATITUDE;\n  var firstLng = positions[startIndex];\n  var lastLng = positions[endIndex - size];\n\n  if (Math.abs(firstLng - lastLng) > 180) {\n    var p = getPointAtIndex(positions, 0, size, startIndex);\n    p[0] += Math.round((lastLng - firstLng) / 360) * 360;\n    push(positions, p);\n    p[1] = Math.sign(p[1]) * maxLatitude;\n    push(positions, p);\n    p[0] = firstLng;\n    push(positions, p);\n  }\n}\n\nfunction wrapLongitudesForShortestPath(positions, size, startIndex, endIndex) {\n  var prevLng = positions[0];\n  var lng;\n\n  for (var i = startIndex; i < endIndex; i += size) {\n    lng = positions[i];\n    var delta = lng - prevLng;\n\n    if (delta > 180 || delta < -180) {\n      lng -= Math.round(delta / 360) * 360;\n    }\n\n    positions[i] = prevLng = lng;\n  }\n}\n\nfunction shiftLongitudesIntoRange(positions, size) {\n  var refLng;\n  var pointCount = positions.length / size;\n\n  for (var i = 0; i < pointCount; i++) {\n    refLng = positions[i * size];\n\n    if ((refLng + 180) % 360 !== 0) {\n      break;\n    }\n  }\n\n  var delta = -Math.round(refLng / 360) * 360;\n\n  if (delta === 0) {\n    return;\n  }\n\n  for (var _i2 = 0; _i2 < pointCount; _i2++) {\n    positions[_i2 * size] += delta;\n  }\n}","import { cutPolylineByGrid, cutPolylineByMercatorBounds } from '@math.gl/polygon';\nexport function normalizePath(path, size, gridResolution, wrapLongitude) {\n  var flatPath = path;\n\n  if (Array.isArray(path[0])) {\n    var length = path.length * size;\n    flatPath = new Array(length);\n\n    for (var i = 0; i < path.length; i++) {\n      for (var j = 0; j < size; j++) {\n        flatPath[i * size + j] = path[i][j] || 0;\n      }\n    }\n  }\n\n  if (gridResolution) {\n    return cutPolylineByGrid(flatPath, {\n      size: size,\n      gridResolution: gridResolution\n    });\n  }\n\n  if (wrapLongitude) {\n    return cutPolylineByMercatorBounds(flatPath, {\n      size: size\n    });\n  }\n\n  return flatPath;\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Tesselator } from '@deck.gl/core';\nimport { normalizePath } from './path';\nvar START_CAP = 1;\nvar END_CAP = 2;\nvar INVALID = 4;\n\nvar PathTesselator = /*#__PURE__*/function (_Tesselator) {\n  _inherits(PathTesselator, _Tesselator);\n\n  var _super = _createSuper(PathTesselator);\n\n  function PathTesselator(opts) {\n    _classCallCheck(this, PathTesselator);\n\n    return _super.call(this, _objectSpread(_objectSpread({}, opts), {}, {\n      attributes: {\n        positions: {\n          size: 3,\n          padding: 18,\n          initialize: true,\n          type: opts.fp64 ? Float64Array : Float32Array\n        },\n        segmentTypes: {\n          size: 1,\n          type: Uint8ClampedArray\n        }\n      }\n    }));\n  }\n\n  _createClass(PathTesselator, [{\n    key: \"getGeometryFromBuffer\",\n    value: function getGeometryFromBuffer(buffer) {\n      if (this.normalize) {\n        return _get(_getPrototypeOf(PathTesselator.prototype), \"getGeometryFromBuffer\", this).call(this, buffer);\n      }\n\n      return function () {\n        return null;\n      };\n    }\n  }, {\n    key: \"normalizeGeometry\",\n    value: function normalizeGeometry(path) {\n      if (this.normalize) {\n        return normalizePath(path, this.positionSize, this.opts.resolution, this.opts.wrapLongitude);\n      }\n\n      return path;\n    }\n  }, {\n    key: \"get\",\n    value: function get(attributeName) {\n      return this.attributes[attributeName];\n    }\n  }, {\n    key: \"getGeometrySize\",\n    value: function getGeometrySize(path) {\n      if (Array.isArray(path[0])) {\n        var size = 0;\n\n        var _iterator = _createForOfIteratorHelper(path),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var subPath = _step.value;\n            size += this.getGeometrySize(subPath);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return size;\n      }\n\n      var numPoints = this.getPathLength(path);\n\n      if (numPoints < 2) {\n        return 0;\n      }\n\n      if (this.isClosed(path)) {\n        return numPoints < 3 ? 0 : numPoints + 2;\n      }\n\n      return numPoints;\n    }\n  }, {\n    key: \"updateGeometryAttributes\",\n    value: function updateGeometryAttributes(path, context) {\n      if (context.geometrySize === 0) {\n        return;\n      }\n\n      if (path && Array.isArray(path[0])) {\n        var _iterator2 = _createForOfIteratorHelper(path),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var subPath = _step2.value;\n            var geometrySize = this.getGeometrySize(subPath);\n            context.geometrySize = geometrySize;\n            this.updateGeometryAttributes(subPath, context);\n            context.vertexStart += geometrySize;\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } else {\n        this._updateSegmentTypes(path, context);\n\n        this._updatePositions(path, context);\n      }\n    }\n  }, {\n    key: \"_updateSegmentTypes\",\n    value: function _updateSegmentTypes(path, context) {\n      var segmentTypes = this.attributes.segmentTypes;\n      var isPathClosed = this.isClosed(path);\n      var vertexStart = context.vertexStart,\n          geometrySize = context.geometrySize;\n      segmentTypes.fill(0, vertexStart, vertexStart + geometrySize);\n\n      if (isPathClosed) {\n        segmentTypes[vertexStart] = INVALID;\n        segmentTypes[vertexStart + geometrySize - 2] = INVALID;\n      } else {\n        segmentTypes[vertexStart] += START_CAP;\n        segmentTypes[vertexStart + geometrySize - 2] += END_CAP;\n      }\n\n      segmentTypes[vertexStart + geometrySize - 1] = INVALID;\n    }\n  }, {\n    key: \"_updatePositions\",\n    value: function _updatePositions(path, context) {\n      var positions = this.attributes.positions;\n\n      if (!positions) {\n        return;\n      }\n\n      var vertexStart = context.vertexStart,\n          geometrySize = context.geometrySize;\n      var p = new Array(3);\n\n      for (var i = vertexStart, ptIndex = 0; ptIndex < geometrySize; i++, ptIndex++) {\n        this.getPointOnPath(path, ptIndex, p);\n        positions[i * 3] = p[0];\n        positions[i * 3 + 1] = p[1];\n        positions[i * 3 + 2] = p[2];\n      }\n    }\n  }, {\n    key: \"getPathLength\",\n    value: function getPathLength(path) {\n      return path.length / this.positionSize;\n    }\n  }, {\n    key: \"getPointOnPath\",\n    value: function getPointOnPath(path, index) {\n      var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var positionSize = this.positionSize;\n\n      if (index * positionSize >= path.length) {\n        index += 1 - path.length / positionSize;\n      }\n\n      var i = index * positionSize;\n      target[0] = path[i];\n      target[1] = path[i + 1];\n      target[2] = positionSize === 3 && path[i + 2] || 0;\n      return target;\n    }\n  }, {\n    key: \"isClosed\",\n    value: function isClosed(path) {\n      if (!this.normalize) {\n        return this.opts.loop;\n      }\n\n      var positionSize = this.positionSize;\n      var lastPointIndex = path.length - positionSize;\n      return path[0] === path[lastPointIndex] && path[1] === path[lastPointIndex + 1] && (positionSize === 2 || path[2] === path[lastPointIndex + 2]);\n    }\n  }]);\n\n  return PathTesselator;\n}(Tesselator);\n\nexport { PathTesselator as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Layer, project32, picking, log, UNIT } from '@deck.gl/core';\nimport { Model, Geometry } from '@luma.gl/core';\nimport PathTesselator from './path-tesselator';\nimport vs from './path-layer-vertex.glsl';\nimport fs from './path-layer-fragment.glsl';\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar defaultProps = {\n  widthUnits: 'meters',\n  widthScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  widthMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  widthMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  jointRounded: false,\n  capRounded: false,\n  miterLimit: {\n    type: 'number',\n    min: 0,\n    value: 4\n  },\n  billboard: false,\n  _pathType: null,\n  getPath: {\n    type: 'accessor',\n    value: function value(object) {\n      return object.path;\n    }\n  },\n  getColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getWidth: {\n    type: 'accessor',\n    value: 1\n  },\n  rounded: {\n    deprecatedFor: ['jointRounded', 'capRounded']\n  }\n};\nvar ATTRIBUTE_TRANSITION = {\n  enter: function enter(value, chunk) {\n    return chunk.length ? chunk.subarray(chunk.length - value.length) : value;\n  }\n};\n\nvar PathLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(PathLayer, _Layer);\n\n  var _super = _createSuper(PathLayer);\n\n  function PathLayer() {\n    _classCallCheck(this, PathLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PathLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return _get(_getPrototypeOf(PathLayer.prototype), \"getShaders\", this).call(this, {\n        vs: vs,\n        fs: fs,\n        modules: [project32, picking]\n      });\n    }\n  }, {\n    key: \"wrapLongitude\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      var noAlloc = true;\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        positions: {\n          size: 3,\n          vertexOffset: 1,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: ATTRIBUTE_TRANSITION,\n          accessor: 'getPath',\n          update: this.calculatePositions,\n          noAlloc: noAlloc,\n          shaderAttributes: {\n            instanceLeftPositions: {\n              vertexOffset: 0\n            },\n            instanceStartPositions: {\n              vertexOffset: 1\n            },\n            instanceEndPositions: {\n              vertexOffset: 2\n            },\n            instanceRightPositions: {\n              vertexOffset: 3\n            }\n          }\n        },\n        instanceTypes: {\n          size: 1,\n          type: 5121,\n          update: this.calculateSegmentTypes,\n          noAlloc: noAlloc\n        },\n        instanceStrokeWidths: {\n          size: 1,\n          accessor: 'getWidth',\n          transition: ATTRIBUTE_TRANSITION,\n          defaultValue: 1\n        },\n        instanceColors: {\n          size: this.props.colorFormat.length,\n          type: 5121,\n          normalized: true,\n          accessor: 'getColor',\n          transition: ATTRIBUTE_TRANSITION,\n          defaultValue: DEFAULT_COLOR\n        },\n        instancePickingColors: {\n          size: 3,\n          type: 5121,\n          accessor: function accessor(object, _ref) {\n            var index = _ref.index,\n                value = _ref.target;\n            return _this.encodePickingColor(object && object.__source ? object.__source.index : index, value);\n          }\n        }\n      });\n      this.setState({\n        pathTesselator: new PathTesselator({\n          fp64: this.use64bitPositions()\n        })\n      });\n\n      if (this.props.getDashArray && !this.props.extensions.length) {\n        log.removed('getDashArray', 'PathStyleExtension')();\n      }\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref2) {\n      var oldProps = _ref2.oldProps,\n          props = _ref2.props,\n          changeFlags = _ref2.changeFlags;\n\n      _get(_getPrototypeOf(PathLayer.prototype), \"updateState\", this).call(this, {\n        props: props,\n        oldProps: oldProps,\n        changeFlags: changeFlags\n      });\n\n      var attributeManager = this.getAttributeManager();\n      var geometryChanged = changeFlags.dataChanged || changeFlags.updateTriggersChanged && (changeFlags.updateTriggersChanged.all || changeFlags.updateTriggersChanged.getPath);\n\n      if (geometryChanged) {\n        var pathTesselator = this.state.pathTesselator;\n        var buffers = props.data.attributes || {};\n        pathTesselator.updateGeometry({\n          data: props.data,\n          geometryBuffer: buffers.getPath,\n          buffers: buffers,\n          normalize: !props._pathType,\n          loop: props._pathType === 'loop',\n          getGeometry: props.getPath,\n          positionFormat: props.positionFormat,\n          wrapLongitude: props.wrapLongitude,\n          resolution: this.context.viewport.resolution,\n          dataChanged: changeFlags.dataChanged\n        });\n        this.setState({\n          numInstances: pathTesselator.instanceCount,\n          startIndices: pathTesselator.vertexStarts\n        });\n\n        if (!changeFlags.dataChanged) {\n          attributeManager.invalidateAll();\n        }\n      }\n\n      if (changeFlags.extensionsChanged) {\n        var _this$state$model;\n\n        var gl = this.context.gl;\n        (_this$state$model = this.state.model) === null || _this$state$model === void 0 ? void 0 : _this$state$model.delete();\n        this.state.model = this._getModel(gl);\n        attributeManager.invalidateAll();\n      }\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(params) {\n      var info = _get(_getPrototypeOf(PathLayer.prototype), \"getPickingInfo\", this).call(this, params);\n\n      var index = info.index;\n      var data = this.props.data;\n\n      if (data[0] && data[0].__source) {\n        info.object = data.find(function (d) {\n          return d.__source.index === index;\n        });\n      }\n\n      return info;\n    }\n  }, {\n    key: \"disablePickingIndex\",\n    value: function disablePickingIndex(objectIndex) {\n      var data = this.props.data;\n\n      if (data[0] && data[0].__source) {\n        for (var i = 0; i < data.length; i++) {\n          if (data[i].__source.index === objectIndex) {\n            this._disablePickingIndex(i);\n          }\n        }\n      } else {\n        this._disablePickingIndex(objectIndex);\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref3) {\n      var uniforms = _ref3.uniforms;\n      var _this$props = this.props,\n          jointRounded = _this$props.jointRounded,\n          capRounded = _this$props.capRounded,\n          billboard = _this$props.billboard,\n          miterLimit = _this$props.miterLimit,\n          widthUnits = _this$props.widthUnits,\n          widthScale = _this$props.widthScale,\n          widthMinPixels = _this$props.widthMinPixels,\n          widthMaxPixels = _this$props.widthMaxPixels;\n      this.state.model.setUniforms(uniforms).setUniforms({\n        jointType: Number(jointRounded),\n        capType: Number(capRounded),\n        billboard: billboard,\n        widthUnits: UNIT[widthUnits],\n        widthScale: widthScale,\n        miterLimit: miterLimit,\n        widthMinPixels: widthMinPixels,\n        widthMaxPixels: widthMaxPixels\n      }).draw();\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      var SEGMENT_INDICES = [0, 1, 2, 1, 4, 2, 1, 3, 4, 3, 5, 4];\n      var SEGMENT_POSITIONS = [0, 0, 0, -1, 0, 1, 1, -1, 1, 1, 1, 0];\n      return new Model(gl, _objectSpread(_objectSpread({}, this.getShaders()), {}, {\n        id: this.props.id,\n        geometry: new Geometry({\n          drawMode: 4,\n          attributes: {\n            indices: new Uint16Array(SEGMENT_INDICES),\n            positions: {\n              value: new Float32Array(SEGMENT_POSITIONS),\n              size: 2\n            }\n          }\n        }),\n        isInstanced: true\n      }));\n    }\n  }, {\n    key: \"calculatePositions\",\n    value: function calculatePositions(attribute) {\n      var pathTesselator = this.state.pathTesselator;\n      attribute.startIndices = pathTesselator.vertexStarts;\n      attribute.value = pathTesselator.get('positions');\n    }\n  }, {\n    key: \"calculateSegmentTypes\",\n    value: function calculateSegmentTypes(attribute) {\n      var pathTesselator = this.state.pathTesselator;\n      attribute.startIndices = pathTesselator.vertexStarts;\n      attribute.value = pathTesselator.get('segmentTypes');\n    }\n  }]);\n\n  return PathLayer;\n}(Layer);\n\nexport { PathLayer as default };\nPathLayer.layerName = 'PathLayer';\nPathLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME path-layer-vertex-shader\\n\\nattribute vec2 positions;\\n\\nattribute float instanceTypes;\\nattribute vec3 instanceStartPositions;\\nattribute vec3 instanceEndPositions;\\nattribute vec3 instanceLeftPositions;\\nattribute vec3 instanceRightPositions;\\nattribute vec3 instanceLeftPositions64Low;\\nattribute vec3 instanceStartPositions64Low;\\nattribute vec3 instanceEndPositions64Low;\\nattribute vec3 instanceRightPositions64Low;\\nattribute float instanceStrokeWidths;\\nattribute vec4 instanceColors;\\nattribute vec3 instancePickingColors;\\n\\nuniform float widthScale;\\nuniform float widthMinPixels;\\nuniform float widthMaxPixels;\\nuniform float jointType;\\nuniform float capType;\\nuniform float miterLimit;\\nuniform bool billboard;\\nuniform int widthUnits;\\n\\nuniform float opacity;\\n\\nvarying vec4 vColor;\\nvarying vec2 vCornerOffset;\\nvarying float vMiterLength;\\nvarying vec2 vPathPosition;\\nvarying float vPathLength;\\nvarying float vJointType;\\n\\nconst float EPSILON = 0.001;\\nconst vec3 ZERO_OFFSET = vec3(0.0);\\n\\nfloat flipIfTrue(bool flag) {\\n  return -(float(flag) * 2. - 1.);\\n}\\nvec3 lineJoin(\\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\\n  vec2 width\\n) {\\n  bool isEnd = positions.x > 0.0;\\n  float sideOfPath = positions.y;\\n  float isJoint = float(sideOfPath == 0.0);\\n\\n  vec3 deltaA3 = (currPoint - prevPoint);\\n  vec3 deltaB3 = (nextPoint - currPoint);\\n\\n  mat3 rotationMatrix;\\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\\n  if (needsRotation) {\\n    deltaA3 = deltaA3 * rotationMatrix;\\n    deltaB3 = deltaB3 * rotationMatrix;\\n  }\\n  vec2 deltaA = deltaA3.xy / width;\\n  vec2 deltaB = deltaB3.xy / width;\\n\\n  float lenA = length(deltaA);\\n  float lenB = length(deltaB);\\n\\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\\n\\n  vec2 perpA = vec2(-dirA.y, dirA.x);\\n  vec2 perpB = vec2(-dirB.y, dirB.x);\\n  vec2 tangent = dirA + dirB;\\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\\n  vec2 dir = isEnd ? dirA : dirB;\\n  vec2 perp = isEnd ? perpA : perpB;\\n  float L = isEnd ? lenA : lenB;\\n  float sinHalfA = abs(dot(miterVec, perp));\\n  float cosHalfA = abs(dot(dirA, miterVec));\\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\\n  float cornerPosition = sideOfPath * turnDirection;\\n\\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\\n  miterSize = mix(\\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\\n    miterSize,\\n    step(0.0, cornerPosition)\\n  );\\n\\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\\n    * (sideOfPath + isJoint * turnDirection);\\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\\n  bool isCap = isStartCap || isEndCap;\\n  if (isCap) {\\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\\n    vJointType = capType;\\n  } else {\\n    vJointType = jointType;\\n  }\\n  vPathLength = L;\\n  vCornerOffset = offsetVec;\\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\\n  vMiterLength = isCap ? isJoint : vMiterLength;\\n\\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\\n  vPathPosition = vec2(\\n    dot(offsetFromStartOfPath, perp),\\n    dot(offsetFromStartOfPath, dir)\\n  );\\n  geometry.uv = vPathPosition;\\n\\n  float isValid = step(instanceTypes, 3.5);\\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\\n\\n  if (needsRotation) {\\n    offset = rotationMatrix * offset;\\n  }\\n  return currPoint + offset;\\n}\\nvoid clipLine(inout vec4 position, vec4 refPosition) {\\n  if (position.w < EPSILON) {\\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\\n    position = refPosition + (position - refPosition) * r;\\n  }\\n}\\n\\nvoid main() {\\n  geometry.pickingColor = instancePickingColors;\\n\\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\\n\\n  float isEnd = positions.x;\\n\\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\\n\\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\\n\\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\\n\\n  geometry.worldPosition = currPosition;\\n  vec2 widthPixels = vec2(clamp(\\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\\n    widthMinPixels, widthMaxPixels) / 2.0);\\n  vec3 width;\\n\\n  if (billboard) {\\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\\n\\n    clipLine(prevPositionScreen, currPositionScreen);\\n    clipLine(nextPositionScreen, currPositionScreen);\\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\\n\\n    width = vec3(widthPixels, 0.0);\\n    DECKGL_FILTER_SIZE(width, geometry);\\n\\n    vec3 pos = lineJoin(\\n      prevPositionScreen.xyz / prevPositionScreen.w,\\n      currPositionScreen.xyz / currPositionScreen.w,\\n      nextPositionScreen.xyz / nextPositionScreen.w,\\n      project_pixel_size_to_clipspace(width.xy)\\n    );\\n\\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\\n  } else {\\n    prevPosition = project_position(prevPosition, prevPosition64Low);\\n    currPosition = project_position(currPosition, currPosition64Low);\\n    nextPosition = project_position(nextPosition, nextPosition64Low);\\n\\n    width = vec3(project_pixel_size(widthPixels), 0.0);\\n    DECKGL_FILTER_SIZE(width, geometry);\\n\\n    vec4 pos = vec4(\\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\\n      1.0);\\n    geometry.position = pos;\\n    gl_Position = project_common_position_to_clipspace(pos);\\n  }\\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\\n  DECKGL_FILTER_COLOR(vColor, geometry);\\n}\\n\";","export default \"#define SHADER_NAME path-layer-fragment-shader\\n\\nprecision highp float;\\n\\nuniform float miterLimit;\\n\\nvarying vec4 vColor;\\nvarying vec2 vCornerOffset;\\nvarying float vMiterLength;\\nvarying vec2 vPathPosition;\\nvarying float vPathLength;\\nvarying float vJointType;\\n\\nvoid main(void) {\\n  geometry.uv = vPathPosition;\\n\\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\\n      discard;\\n    }\\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\\n      discard;\\n    }\\n  }\\n  gl_FragColor = vColor;\\n\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","import { useEffect, useRef } from 'react';\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","/* eslint-disable import/prefer-default-export */\nexport const TSP = {\n  NEAREST_NEIGHBOUR: 'NEAREST_NEIGHBOUR',\n  NEAREST_INSERTION: 'NEAREST_INSERTION',\n  FARTHEST_INSERTION: 'FARTHEST_INSERTION',\n  CHEAPEST_INSERTION: 'CHEAPEST_INSERTION',\n  RANDOM_INSERTION: 'RANDOM_INSERTION',\n  CONVEX_HULL: 'CONVEX_HULL',\n  TWO_OPT: 'TWO_OPT',\n};\n","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layer from './layer';\nimport debug from '../debug';\nimport { flatten } from '../utils/flatten';\nvar TRACE_RENDER_LAYERS = 'compositeLayer.renderLayers';\n\nvar CompositeLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(CompositeLayer, _Layer);\n\n  var _super = _createSuper(CompositeLayer);\n\n  function CompositeLayer() {\n    _classCallCheck(this, CompositeLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompositeLayer, [{\n    key: \"isComposite\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return _get(_getPrototypeOf(CompositeLayer.prototype), \"isLoaded\", this) && this.getSubLayers().every(function (layer) {\n        return layer.isLoaded;\n      });\n    }\n  }, {\n    key: \"getSubLayers\",\n    value: function getSubLayers() {\n      return this.internalState && this.internalState.subLayers || [];\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {}\n  }, {\n    key: \"setState\",\n    value: function setState(updateObject) {\n      _get(_getPrototypeOf(CompositeLayer.prototype), \"setState\", this).call(this, updateObject);\n\n      this.setNeedsUpdate();\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref) {\n      var info = _ref.info;\n      var object = info.object;\n      var isDataWrapped = object && object.__source && object.__source.parent && object.__source.parent.id === this.id;\n\n      if (!isDataWrapped) {\n        return info;\n      }\n\n      info.object = object.__source.object;\n      info.index = object.__source.index;\n      return info;\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers() {\n      return null;\n    }\n  }, {\n    key: \"filterSubLayer\",\n    value: function filterSubLayer(context) {\n      return true;\n    }\n  }, {\n    key: \"shouldRenderSubLayer\",\n    value: function shouldRenderSubLayer(id, data) {\n      return data && data.length;\n    }\n  }, {\n    key: \"getSubLayerClass\",\n    value: function getSubLayerClass(id, DefaultLayerClass) {\n      var overridingProps = this.props._subLayerProps;\n      return overridingProps && overridingProps[id] && overridingProps[id].type || DefaultLayerClass;\n    }\n  }, {\n    key: \"getSubLayerRow\",\n    value: function getSubLayerRow(row, sourceObject, sourceObjectIndex) {\n      row.__source = {\n        parent: this,\n        object: sourceObject,\n        index: sourceObjectIndex\n      };\n      return row;\n    }\n  }, {\n    key: \"getSubLayerAccessor\",\n    value: function getSubLayerAccessor(accessor) {\n      if (typeof accessor === 'function') {\n        var objectInfo = {\n          data: this.props.data,\n          target: []\n        };\n        return function (x, i) {\n          if (x && x.__source) {\n            objectInfo.index = x.__source.index;\n            return accessor(x.__source.object, objectInfo);\n          }\n\n          return accessor(x, i);\n        };\n      }\n\n      return accessor;\n    }\n  }, {\n    key: \"getSubLayerProps\",\n    value: function getSubLayerProps() {\n      var sublayerProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$props = this.props,\n          opacity = _this$props.opacity,\n          pickable = _this$props.pickable,\n          visible = _this$props.visible,\n          parameters = _this$props.parameters,\n          getPolygonOffset = _this$props.getPolygonOffset,\n          highlightedObjectIndex = _this$props.highlightedObjectIndex,\n          autoHighlight = _this$props.autoHighlight,\n          highlightColor = _this$props.highlightColor,\n          coordinateSystem = _this$props.coordinateSystem,\n          coordinateOrigin = _this$props.coordinateOrigin,\n          wrapLongitude = _this$props.wrapLongitude,\n          positionFormat = _this$props.positionFormat,\n          modelMatrix = _this$props.modelMatrix,\n          extensions = _this$props.extensions,\n          fetch = _this$props.fetch,\n          overridingProps = _this$props._subLayerProps;\n      var newProps = {\n        opacity: opacity,\n        pickable: pickable,\n        visible: visible,\n        parameters: parameters,\n        getPolygonOffset: getPolygonOffset,\n        highlightedObjectIndex: highlightedObjectIndex,\n        autoHighlight: autoHighlight,\n        highlightColor: highlightColor,\n        coordinateSystem: coordinateSystem,\n        coordinateOrigin: coordinateOrigin,\n        wrapLongitude: wrapLongitude,\n        positionFormat: positionFormat,\n        modelMatrix: modelMatrix,\n        extensions: extensions,\n        fetch: fetch\n      };\n      var overridingSublayerProps = overridingProps && overridingProps[sublayerProps.id];\n      var overridingSublayerTriggers = overridingSublayerProps && overridingSublayerProps.updateTriggers;\n      var sublayerId = sublayerProps.id || 'sublayer';\n\n      if (overridingSublayerProps) {\n        var propTypes = this.constructor._propTypes;\n        var subLayerPropTypes = sublayerProps.type ? sublayerProps.type._propTypes : {};\n\n        for (var key in overridingSublayerProps) {\n          var propType = subLayerPropTypes[key] || propTypes[key];\n\n          if (propType && propType.type === 'accessor') {\n            overridingSublayerProps[key] = this.getSubLayerAccessor(overridingSublayerProps[key]);\n          }\n        }\n      }\n\n      Object.assign(newProps, sublayerProps, overridingSublayerProps);\n      newProps.id = \"\".concat(this.props.id, \"-\").concat(sublayerId);\n      newProps.updateTriggers = _objectSpread(_objectSpread({\n        all: this.props.updateTriggers.all\n      }, sublayerProps.updateTriggers), overridingSublayerTriggers);\n\n      var _iterator = _createForOfIteratorHelper(extensions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var extension = _step.value;\n          var passThroughProps = extension.getSubLayerProps.call(this, extension);\n\n          if (passThroughProps) {\n            Object.assign(newProps, passThroughProps, {\n              updateTriggers: Object.assign(newProps.updateTriggers, passThroughProps.updateTriggers)\n            });\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return newProps;\n    }\n  }, {\n    key: \"_updateAutoHighlight\",\n    value: function _updateAutoHighlight(info) {\n      var _iterator2 = _createForOfIteratorHelper(this.getSubLayers()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var layer = _step2.value;\n          layer.updateAutoHighlight(info);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"_getAttributeManager\",\n    value: function _getAttributeManager() {\n      return null;\n    }\n  }, {\n    key: \"_renderLayers\",\n    value: function _renderLayers() {\n      var subLayers = this.internalState.subLayers;\n      var shouldUpdate = !subLayers || this.needsUpdate();\n\n      if (shouldUpdate) {\n        subLayers = this.renderLayers();\n        subLayers = flatten(subLayers, Boolean);\n        this.internalState.subLayers = subLayers;\n      }\n\n      debug(TRACE_RENDER_LAYERS, this, shouldUpdate, subLayers);\n\n      var _iterator3 = _createForOfIteratorHelper(subLayers),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var layer = _step3.value;\n          layer.parent = this;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }]);\n\n  return CompositeLayer;\n}(Layer);\n\nexport { CompositeLayer as default };\nCompositeLayer.layerName = 'CompositeLayer';","export function replaceInRange(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      dataRange = _ref.dataRange,\n      replace = _ref.replace;\n  var _dataRange$startRow = dataRange.startRow,\n      startRow = _dataRange$startRow === void 0 ? 0 : _dataRange$startRow,\n      _dataRange$endRow = dataRange.endRow,\n      endRow = _dataRange$endRow === void 0 ? Infinity : _dataRange$endRow;\n  var count = data.length;\n  var replaceStart = count;\n  var replaceEnd = count;\n\n  for (var i = 0; i < count; i++) {\n    var row = getIndex(data[i]);\n\n    if (replaceStart > i && row >= startRow) {\n      replaceStart = i;\n    }\n\n    if (row >= endRow) {\n      replaceEnd = i;\n      break;\n    }\n  }\n\n  var index = replaceStart;\n  var dataLengthChanged = replaceEnd - replaceStart !== replace.length;\n  var endChunk = dataLengthChanged && data.slice(replaceEnd);\n\n  for (var _i = 0; _i < replace.length; _i++) {\n    data[index++] = replace[_i];\n  }\n\n  if (dataLengthChanged) {\n    for (var _i2 = 0; _i2 < endChunk.length; _i2++) {\n      data[index++] = endChunk[_i2];\n    }\n\n    data.length = index;\n  }\n\n  return {\n    startRow: replaceStart,\n    endRow: replaceStart + replace.length\n  };\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport function binaryToFeatureForAccesor(data, index) {\n  if (!data) {\n    return null;\n  }\n\n  var featureIndex = 'startIndices' in data ? data.startIndices[index] : index;\n  var geometryIndex = data.featureIds.value[featureIndex];\n\n  if (featureIndex !== -1) {\n    return getPropertiesForIndex(data, geometryIndex, featureIndex);\n  }\n\n  return null;\n}\n\nfunction getPropertiesForIndex(data, propertiesIndex, numericPropsIndex) {\n  var feature = {\n    properties: _objectSpread({}, data.properties[propertiesIndex])\n  };\n\n  for (var prop in data.numericProps) {\n    feature.properties[prop] = data.numericProps[prop].value[numericPropsIndex];\n  }\n\n  return feature;\n}\n\nexport function calculatePickingColors(geojsonBinary, encodePickingColor) {\n  var pickingColors = {\n    points: null,\n    lines: null,\n    polygons: null\n  };\n\n  for (var key in pickingColors) {\n    var featureIds = geojsonBinary[key].globalFeatureIds.value;\n    pickingColors[key] = new Uint8ClampedArray(featureIds.length * 3);\n    var pickingColor = [];\n\n    for (var i = 0; i < featureIds.length; i++) {\n      encodePickingColor(featureIds[i], pickingColor);\n      pickingColors[key][i * 3 + 0] = pickingColor[0];\n      pickingColors[key][i * 3 + 1] = pickingColor[1];\n      pickingColors[key][i * 3 + 2] = pickingColor[2];\n    }\n  }\n\n  return pickingColors;\n}","export default \"#define SHADER_NAME icon-layer-vertex-shader\\n\\nattribute vec2 positions;\\n\\nattribute vec3 instancePositions;\\nattribute vec3 instancePositions64Low;\\nattribute float instanceSizes;\\nattribute float instanceAngles;\\nattribute vec4 instanceColors;\\nattribute vec3 instancePickingColors;\\nattribute vec4 instanceIconFrames;\\nattribute float instanceColorModes;\\nattribute vec2 instanceOffsets;\\nattribute vec2 instancePixelOffset;\\n\\nuniform float sizeScale;\\nuniform vec2 iconsTextureDim;\\nuniform float sizeMinPixels;\\nuniform float sizeMaxPixels;\\nuniform bool billboard;\\nuniform int sizeUnits;\\n\\nvarying float vColorMode;\\nvarying vec4 vColor;\\nvarying vec2 vTextureCoords;\\nvarying vec2 uv;\\n\\nvec2 rotate_by_angle(vec2 vertex, float angle) {\\n  float angle_radian = angle * PI / 180.0;\\n  float cos_angle = cos(angle_radian);\\n  float sin_angle = sin(angle_radian);\\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\\n  return rotationMatrix * vertex;\\n}\\n\\nvoid main(void) {\\n  geometry.worldPosition = instancePositions;\\n  geometry.uv = positions;\\n  geometry.pickingColor = instancePickingColors;\\n  uv = positions;\\n\\n  vec2 iconSize = instanceIconFrames.zw;\\n  float sizePixels = clamp(\\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \\n    sizeMinPixels, sizeMaxPixels\\n  );\\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\\n  pixelOffset += instancePixelOffset;\\n  pixelOffset.y *= -1.0;\\n\\n  if (billboard)  {\\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\\n    vec3 offset = vec3(pixelOffset, 0.0);\\n    DECKGL_FILTER_SIZE(offset, geometry);\\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\\n\\n  } else {\\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\\n    DECKGL_FILTER_SIZE(offset_common, geometry);\\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \\n  }\\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\\n\\n  vTextureCoords = mix(\\n    instanceIconFrames.xy,\\n    instanceIconFrames.xy + iconSize,\\n    (positions.xy + 1.0) / 2.0\\n  ) / iconsTextureDim;\\n\\n  vColor = instanceColors;\\n  DECKGL_FILTER_COLOR(vColor, geometry);\\n\\n  vColorMode = instanceColorModes;\\n}\\n\";","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _DEFAULT_TEXTURE_PARA;\n\nimport \"core-js/modules/es.promise.finally.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Texture2D, copyToTexture, cloneTextureFrom } from '@luma.gl/core';\nimport { ImageLoader } from '@loaders.gl/images';\nimport { load } from '@loaders.gl/core';\nimport { createIterable } from '@deck.gl/core';\nvar DEFAULT_CANVAS_WIDTH = 1024;\nvar DEFAULT_BUFFER = 4;\n\nvar noop = function noop() {};\n\nvar DEFAULT_TEXTURE_PARAMETERS = (_DEFAULT_TEXTURE_PARA = {}, _defineProperty(_DEFAULT_TEXTURE_PARA, 10241, 9987), _defineProperty(_DEFAULT_TEXTURE_PARA, 10240, 9729), _defineProperty(_DEFAULT_TEXTURE_PARA, 10242, 33071), _defineProperty(_DEFAULT_TEXTURE_PARA, 10243, 33071), _DEFAULT_TEXTURE_PARA);\n\nfunction nextPowOfTwo(number) {\n  return Math.pow(2, Math.ceil(Math.log2(number)));\n}\n\nfunction resizeImage(ctx, imageData, width, height) {\n  if (width === imageData.width && height === imageData.height) {\n    return imageData;\n  }\n\n  ctx.canvas.height = height;\n  ctx.canvas.width = width;\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  ctx.drawImage(imageData, 0, 0, imageData.width, imageData.height, 0, 0, width, height);\n  return ctx.canvas;\n}\n\nfunction getIconId(icon) {\n  return icon && (icon.id || icon.url);\n}\n\nfunction resizeTexture(gl, texture, width, height) {\n  var oldWidth = texture.width;\n  var oldHeight = texture.height;\n  var newTexture = cloneTextureFrom(texture, {\n    width: width,\n    height: height\n  });\n  copyToTexture(texture, newTexture, {\n    targetY: 0,\n    width: oldWidth,\n    height: oldHeight\n  });\n  texture.delete();\n  return newTexture;\n}\n\nfunction buildRowMapping(mapping, columns, yOffset) {\n  for (var i = 0; i < columns.length; i++) {\n    var _columns$i = columns[i],\n        icon = _columns$i.icon,\n        xOffset = _columns$i.xOffset;\n    var id = getIconId(icon);\n    mapping[id] = _objectSpread(_objectSpread({}, icon), {}, {\n      x: xOffset,\n      y: yOffset\n    });\n  }\n}\n\nexport function buildMapping(_ref) {\n  var icons = _ref.icons,\n      buffer = _ref.buffer,\n      _ref$mapping = _ref.mapping,\n      mapping = _ref$mapping === void 0 ? {} : _ref$mapping,\n      _ref$xOffset = _ref.xOffset,\n      xOffset = _ref$xOffset === void 0 ? 0 : _ref$xOffset,\n      _ref$yOffset = _ref.yOffset,\n      yOffset = _ref$yOffset === void 0 ? 0 : _ref$yOffset,\n      _ref$rowHeight = _ref.rowHeight,\n      rowHeight = _ref$rowHeight === void 0 ? 0 : _ref$rowHeight,\n      canvasWidth = _ref.canvasWidth;\n  var columns = [];\n\n  for (var i = 0; i < icons.length; i++) {\n    var icon = icons[i];\n    var id = getIconId(icon);\n\n    if (!mapping[id]) {\n      var height = icon.height,\n          width = icon.width;\n\n      if (xOffset + width + buffer > canvasWidth) {\n        buildRowMapping(mapping, columns, yOffset);\n        xOffset = 0;\n        yOffset = rowHeight + yOffset + buffer;\n        rowHeight = 0;\n        columns = [];\n      }\n\n      columns.push({\n        icon: icon,\n        xOffset: xOffset\n      });\n      xOffset = xOffset + width + buffer;\n      rowHeight = Math.max(rowHeight, height);\n    }\n  }\n\n  if (columns.length > 0) {\n    buildRowMapping(mapping, columns, yOffset);\n  }\n\n  return {\n    mapping: mapping,\n    rowHeight: rowHeight,\n    xOffset: xOffset,\n    yOffset: yOffset,\n    canvasWidth: canvasWidth,\n    canvasHeight: nextPowOfTwo(rowHeight + yOffset + buffer)\n  };\n}\nexport function getDiffIcons(data, getIcon, cachedIcons) {\n  if (!data || !getIcon) {\n    return null;\n  }\n\n  cachedIcons = cachedIcons || {};\n  var icons = {};\n\n  var _createIterable = createIterable(data),\n      iterable = _createIterable.iterable,\n      objectInfo = _createIterable.objectInfo;\n\n  var _iterator = _createForOfIteratorHelper(iterable),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var object = _step.value;\n      objectInfo.index++;\n      var icon = getIcon(object, objectInfo);\n      var id = getIconId(icon);\n\n      if (!icon) {\n        throw new Error('Icon is missing.');\n      }\n\n      if (!icon.url) {\n        throw new Error('Icon url is missing.');\n      }\n\n      if (!icons[id] && (!cachedIcons[id] || icon.url !== cachedIcons[id].url)) {\n        icons[id] = _objectSpread(_objectSpread({}, icon), {}, {\n          source: object,\n          sourceIndex: objectInfo.index\n        });\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return icons;\n}\n\nvar IconManager = /*#__PURE__*/function () {\n  function IconManager(gl, _ref2) {\n    var _ref2$onUpdate = _ref2.onUpdate,\n        onUpdate = _ref2$onUpdate === void 0 ? noop : _ref2$onUpdate,\n        _ref2$onError = _ref2.onError,\n        onError = _ref2$onError === void 0 ? noop : _ref2$onError;\n\n    _classCallCheck(this, IconManager);\n\n    this.gl = gl;\n    this.onUpdate = onUpdate;\n    this.onError = onError;\n    this._loadOptions = null;\n    this._getIcon = null;\n    this._texture = null;\n    this._externalTexture = null;\n    this._mapping = {};\n    this._pendingCount = 0;\n    this._autoPacking = false;\n    this._xOffset = 0;\n    this._yOffset = 0;\n    this._rowHeight = 0;\n    this._buffer = DEFAULT_BUFFER;\n    this._canvasWidth = DEFAULT_CANVAS_WIDTH;\n    this._canvasHeight = 0;\n    this._canvas = null;\n  }\n\n  _createClass(IconManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      var _this$_texture;\n\n      (_this$_texture = this._texture) === null || _this$_texture === void 0 ? void 0 : _this$_texture.delete();\n    }\n  }, {\n    key: \"getTexture\",\n    value: function getTexture() {\n      return this._texture || this._externalTexture;\n    }\n  }, {\n    key: \"getIconMapping\",\n    value: function getIconMapping(icon) {\n      var id = this._autoPacking ? getIconId(icon) : icon;\n      return this._mapping[id] || {};\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(_ref3) {\n      var loadOptions = _ref3.loadOptions,\n          autoPacking = _ref3.autoPacking,\n          iconAtlas = _ref3.iconAtlas,\n          iconMapping = _ref3.iconMapping,\n          data = _ref3.data,\n          getIcon = _ref3.getIcon;\n\n      if (loadOptions) {\n        this._loadOptions = loadOptions;\n      }\n\n      if (autoPacking !== undefined) {\n        this._autoPacking = autoPacking;\n      }\n\n      if (getIcon) {\n        this._getIcon = getIcon;\n      }\n\n      if (iconMapping) {\n        this._mapping = iconMapping;\n      }\n\n      if (iconAtlas) {\n        this._updateIconAtlas(iconAtlas);\n      }\n\n      if (this._autoPacking && (data || getIcon) && typeof document !== 'undefined') {\n        this._canvas = this._canvas || document.createElement('canvas');\n\n        this._updateAutoPacking(data);\n      }\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return this._pendingCount === 0;\n    }\n  }, {\n    key: \"_updateIconAtlas\",\n    value: function _updateIconAtlas(iconAtlas) {\n      var _this$_texture2;\n\n      (_this$_texture2 = this._texture) === null || _this$_texture2 === void 0 ? void 0 : _this$_texture2.delete();\n      this._texture = null;\n      this._externalTexture = iconAtlas;\n      this.onUpdate();\n    }\n  }, {\n    key: \"_updateAutoPacking\",\n    value: function _updateAutoPacking(data) {\n      var icons = Object.values(getDiffIcons(data, this._getIcon, this._mapping) || {});\n\n      if (icons.length > 0) {\n        var _buildMapping = buildMapping({\n          icons: icons,\n          buffer: this._buffer,\n          canvasWidth: this._canvasWidth,\n          mapping: this._mapping,\n          rowHeight: this._rowHeight,\n          xOffset: this._xOffset,\n          yOffset: this._yOffset\n        }),\n            mapping = _buildMapping.mapping,\n            xOffset = _buildMapping.xOffset,\n            yOffset = _buildMapping.yOffset,\n            rowHeight = _buildMapping.rowHeight,\n            canvasHeight = _buildMapping.canvasHeight;\n\n        this._rowHeight = rowHeight;\n        this._mapping = mapping;\n        this._xOffset = xOffset;\n        this._yOffset = yOffset;\n        this._canvasHeight = canvasHeight;\n\n        if (!this._texture) {\n          this._texture = new Texture2D(this.gl, {\n            width: this._canvasWidth,\n            height: this._canvasHeight,\n            parameters: DEFAULT_TEXTURE_PARAMETERS\n          });\n        }\n\n        if (this._texture.height !== this._canvasHeight) {\n          this._texture = resizeTexture(this.gl, this._texture, this._canvasWidth, this._canvasHeight);\n        }\n\n        this.onUpdate();\n\n        this._loadIcons(icons);\n      }\n    }\n  }, {\n    key: \"_loadIcons\",\n    value: function _loadIcons(icons) {\n      var _this = this;\n\n      var ctx = this._canvas.getContext('2d');\n\n      var _iterator2 = _createForOfIteratorHelper(icons),\n          _step2;\n\n      try {\n        var _loop = function _loop() {\n          var icon = _step2.value;\n          _this._pendingCount++;\n          load(icon.url, ImageLoader, _this._loadOptions).then(function (imageData) {\n            var id = getIconId(icon);\n            var _this$_mapping$id = _this._mapping[id],\n                x = _this$_mapping$id.x,\n                y = _this$_mapping$id.y,\n                width = _this$_mapping$id.width,\n                height = _this$_mapping$id.height;\n            var data = resizeImage(ctx, imageData, width, height);\n\n            _this._texture.setSubImageData({\n              data: data,\n              x: x,\n              y: y,\n              width: width,\n              height: height\n            });\n\n            _this._texture.generateMipmap();\n\n            _this.onUpdate();\n          }).catch(function (error) {\n            _this.onError({\n              url: icon.url,\n              source: icon.source,\n              sourceIndex: icon.sourceIndex,\n              loadOptions: _this._loadOptions,\n              error: error\n            });\n          }).finally(function () {\n            _this._pendingCount--;\n          });\n        };\n\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }]);\n\n  return IconManager;\n}();\n\nexport { IconManager as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Layer, project32, picking, log, UNIT } from '@deck.gl/core';\nimport { Model, Geometry } from '@luma.gl/core';\nimport vs from './icon-layer-vertex.glsl';\nimport fs from './icon-layer-fragment.glsl';\nimport IconManager from './icon-manager';\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar defaultProps = {\n  iconAtlas: {\n    type: 'image',\n    value: null,\n    async: true\n  },\n  iconMapping: {\n    type: 'object',\n    value: {},\n    async: true\n  },\n  sizeScale: {\n    type: 'number',\n    value: 1,\n    min: 0\n  },\n  billboard: true,\n  sizeUnits: 'pixels',\n  sizeMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  sizeMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  alphaCutoff: {\n    type: 'number',\n    value: 0.05,\n    min: 0,\n    max: 1\n  },\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getIcon: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.icon;\n    }\n  },\n  getColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getSize: {\n    type: 'accessor',\n    value: 1\n  },\n  getAngle: {\n    type: 'accessor',\n    value: 0\n  },\n  getPixelOffset: {\n    type: 'accessor',\n    value: [0, 0]\n  },\n  onIconError: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  }\n};\n\nvar IconLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(IconLayer, _Layer);\n\n  var _super = _createSuper(IconLayer);\n\n  function IconLayer() {\n    _classCallCheck(this, IconLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(IconLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return _get(_getPrototypeOf(IconLayer.prototype), \"getShaders\", this).call(this, {\n        vs: vs,\n        fs: fs,\n        modules: [project32, picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.state = {\n        iconManager: new IconManager(this.context.gl, {\n          onUpdate: this._onUpdate.bind(this),\n          onError: this._onError.bind(this)\n        })\n      };\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        instancePositions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: true,\n          accessor: 'getPosition'\n        },\n        instanceSizes: {\n          size: 1,\n          transition: true,\n          accessor: 'getSize',\n          defaultValue: 1\n        },\n        instanceOffsets: {\n          size: 2,\n          accessor: 'getIcon',\n          transform: this.getInstanceOffset\n        },\n        instanceIconFrames: {\n          size: 4,\n          accessor: 'getIcon',\n          transform: this.getInstanceIconFrame\n        },\n        instanceColorModes: {\n          size: 1,\n          type: 5121,\n          accessor: 'getIcon',\n          transform: this.getInstanceColorMode\n        },\n        instanceColors: {\n          size: this.props.colorFormat.length,\n          type: 5121,\n          normalized: true,\n          transition: true,\n          accessor: 'getColor',\n          defaultValue: DEFAULT_COLOR\n        },\n        instanceAngles: {\n          size: 1,\n          transition: true,\n          accessor: 'getAngle'\n        },\n        instancePixelOffset: {\n          size: 2,\n          transition: true,\n          accessor: 'getPixelOffset'\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var oldProps = _ref.oldProps,\n          props = _ref.props,\n          changeFlags = _ref.changeFlags;\n\n      _get(_getPrototypeOf(IconLayer.prototype), \"updateState\", this).call(this, {\n        props: props,\n        oldProps: oldProps,\n        changeFlags: changeFlags\n      });\n\n      var attributeManager = this.getAttributeManager();\n      var iconAtlas = props.iconAtlas,\n          iconMapping = props.iconMapping,\n          data = props.data,\n          getIcon = props.getIcon;\n      var iconManager = this.state.iconManager;\n      iconManager.setProps({\n        loadOptions: props.loadOptions\n      });\n      var iconMappingChanged = false;\n      var prePacked = iconAtlas || this.internalState.isAsyncPropLoading('iconAtlas');\n\n      if (prePacked) {\n        if (oldProps.iconAtlas !== props.iconAtlas) {\n          iconManager.setProps({\n            iconAtlas: iconAtlas,\n            autoPacking: false\n          });\n        }\n\n        if (oldProps.iconMapping !== props.iconMapping) {\n          iconManager.setProps({\n            iconMapping: iconMapping\n          });\n          iconMappingChanged = true;\n        }\n      } else {\n        iconManager.setProps({\n          autoPacking: true\n        });\n      }\n\n      if (changeFlags.dataChanged || changeFlags.updateTriggersChanged && (changeFlags.updateTriggersChanged.all || changeFlags.updateTriggersChanged.getIcon)) {\n        iconManager.setProps({\n          data: data,\n          getIcon: getIcon\n        });\n      }\n\n      if (iconMappingChanged) {\n        attributeManager.invalidate('instanceOffsets');\n        attributeManager.invalidate('instanceIconFrames');\n        attributeManager.invalidate('instanceColorModes');\n      }\n\n      if (changeFlags.extensionsChanged) {\n        var _this$state$model;\n\n        var gl = this.context.gl;\n        (_this$state$model = this.state.model) === null || _this$state$model === void 0 ? void 0 : _this$state$model.delete();\n        this.state.model = this._getModel(gl);\n        attributeManager.invalidateAll();\n      }\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return _get(_getPrototypeOf(IconLayer.prototype), \"isLoaded\", this) && this.state.iconManager.isLoaded;\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      _get(_getPrototypeOf(IconLayer.prototype), \"finalizeState\", this).call(this);\n\n      this.state.iconManager.finalize();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var _this$props = this.props,\n          sizeScale = _this$props.sizeScale,\n          sizeMinPixels = _this$props.sizeMinPixels,\n          sizeMaxPixels = _this$props.sizeMaxPixels,\n          sizeUnits = _this$props.sizeUnits,\n          billboard = _this$props.billboard,\n          alphaCutoff = _this$props.alphaCutoff;\n      var iconManager = this.state.iconManager;\n      var iconsTexture = iconManager.getTexture();\n\n      if (iconsTexture) {\n        this.state.model.setUniforms(uniforms).setUniforms({\n          iconsTexture: iconsTexture,\n          iconsTextureDim: [iconsTexture.width, iconsTexture.height],\n          sizeUnits: UNIT[sizeUnits],\n          sizeScale: sizeScale,\n          sizeMinPixels: sizeMinPixels,\n          sizeMaxPixels: sizeMaxPixels,\n          billboard: billboard,\n          alphaCutoff: alphaCutoff\n        }).draw();\n      }\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      var positions = [-1, -1, -1, 1, 1, 1, 1, -1];\n      return new Model(gl, _objectSpread(_objectSpread({}, this.getShaders()), {}, {\n        id: this.props.id,\n        geometry: new Geometry({\n          drawMode: 6,\n          attributes: {\n            positions: {\n              size: 2,\n              value: new Float32Array(positions)\n            }\n          }\n        }),\n        isInstanced: true\n      }));\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      this.setNeedsRedraw();\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(evt) {\n      var onIconError = this.getCurrentLayer().props.onIconError;\n\n      if (onIconError) {\n        onIconError(evt);\n      } else {\n        log.error(evt.error)();\n      }\n    }\n  }, {\n    key: \"getInstanceOffset\",\n    value: function getInstanceOffset(icon) {\n      var rect = this.state.iconManager.getIconMapping(icon);\n      return [rect.width / 2 - rect.anchorX || 0, rect.height / 2 - rect.anchorY || 0];\n    }\n  }, {\n    key: \"getInstanceColorMode\",\n    value: function getInstanceColorMode(icon) {\n      var mapping = this.state.iconManager.getIconMapping(icon);\n      return mapping.mask ? 1 : 0;\n    }\n  }, {\n    key: \"getInstanceIconFrame\",\n    value: function getInstanceIconFrame(icon) {\n      var rect = this.state.iconManager.getIconMapping(icon);\n      return [rect.x || 0, rect.y || 0, rect.width || 0, rect.height || 0];\n    }\n  }]);\n\n  return IconLayer;\n}(Layer);\n\nexport { IconLayer as default };\nIconLayer.layerName = 'IconLayer';\nIconLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME icon-layer-fragment-shader\\n\\nprecision highp float;\\n\\nuniform float opacity;\\nuniform sampler2D iconsTexture;\\nuniform float alphaCutoff;\\n\\nvarying float vColorMode;\\nvarying vec4 vColor;\\nvarying vec2 vTextureCoords;\\nvarying vec2 uv;\\n\\nvoid main(void) {\\n  geometry.uv = uv;\\n\\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\\n  float a = texColor.a * opacity * vColor.a;\\n\\n  if (a < alphaCutoff) {\\n    discard;\\n  }\\n\\n  gl_FragColor = vec4(color, a);\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Layer, project32, picking, UNIT } from '@deck.gl/core';\nimport { Model, Geometry } from '@luma.gl/core';\nimport vs from './scatterplot-layer-vertex.glsl';\nimport fs from './scatterplot-layer-fragment.glsl';\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar defaultProps = {\n  radiusUnits: 'meters',\n  radiusScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  radiusMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  radiusMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  lineWidthUnits: 'meters',\n  lineWidthScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  lineWidthMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  lineWidthMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  stroked: false,\n  filled: true,\n  billboard: false,\n  antialiasing: true,\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getRadius: {\n    type: 'accessor',\n    value: 1\n  },\n  getFillColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getLineColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getLineWidth: {\n    type: 'accessor',\n    value: 1\n  },\n  strokeWidth: {\n    deprecatedFor: 'getLineWidth'\n  },\n  outline: {\n    deprecatedFor: 'stroked'\n  },\n  getColor: {\n    deprecatedFor: ['getFillColor', 'getLineColor']\n  }\n};\n\nvar ScatterplotLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(ScatterplotLayer, _Layer);\n\n  var _super = _createSuper(ScatterplotLayer);\n\n  function ScatterplotLayer() {\n    _classCallCheck(this, ScatterplotLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ScatterplotLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return _get(_getPrototypeOf(ScatterplotLayer.prototype), \"getShaders\", this).call(this, {\n        vs: vs,\n        fs: fs,\n        modules: [project32, picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.getAttributeManager().addInstanced({\n        instancePositions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: true,\n          accessor: 'getPosition'\n        },\n        instanceRadius: {\n          size: 1,\n          transition: true,\n          accessor: 'getRadius',\n          defaultValue: 1\n        },\n        instanceFillColors: {\n          size: this.props.colorFormat.length,\n          transition: true,\n          normalized: true,\n          type: 5121,\n          accessor: 'getFillColor',\n          defaultValue: [0, 0, 0, 255]\n        },\n        instanceLineColors: {\n          size: this.props.colorFormat.length,\n          transition: true,\n          normalized: true,\n          type: 5121,\n          accessor: 'getLineColor',\n          defaultValue: [0, 0, 0, 255]\n        },\n        instanceLineWidths: {\n          size: 1,\n          transition: true,\n          accessor: 'getLineWidth',\n          defaultValue: 1\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps,\n          changeFlags = _ref.changeFlags;\n\n      _get(_getPrototypeOf(ScatterplotLayer.prototype), \"updateState\", this).call(this, {\n        props: props,\n        oldProps: oldProps,\n        changeFlags: changeFlags\n      });\n\n      if (changeFlags.extensionsChanged) {\n        var _this$state$model;\n\n        var gl = this.context.gl;\n        (_this$state$model = this.state.model) === null || _this$state$model === void 0 ? void 0 : _this$state$model.delete();\n        this.state.model = this._getModel(gl);\n        this.getAttributeManager().invalidateAll();\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var _this$props = this.props,\n          radiusUnits = _this$props.radiusUnits,\n          radiusScale = _this$props.radiusScale,\n          radiusMinPixels = _this$props.radiusMinPixels,\n          radiusMaxPixels = _this$props.radiusMaxPixels,\n          stroked = _this$props.stroked,\n          filled = _this$props.filled,\n          billboard = _this$props.billboard,\n          antialiasing = _this$props.antialiasing,\n          lineWidthUnits = _this$props.lineWidthUnits,\n          lineWidthScale = _this$props.lineWidthScale,\n          lineWidthMinPixels = _this$props.lineWidthMinPixels,\n          lineWidthMaxPixels = _this$props.lineWidthMaxPixels;\n      this.state.model.setUniforms(uniforms).setUniforms({\n        stroked: stroked ? 1 : 0,\n        filled: filled,\n        billboard: billboard,\n        antialiasing: antialiasing,\n        radiusUnits: UNIT[radiusUnits],\n        radiusScale: radiusScale,\n        radiusMinPixels: radiusMinPixels,\n        radiusMaxPixels: radiusMaxPixels,\n        lineWidthUnits: UNIT[lineWidthUnits],\n        lineWidthScale: lineWidthScale,\n        lineWidthMinPixels: lineWidthMinPixels,\n        lineWidthMaxPixels: lineWidthMaxPixels\n      }).draw();\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      var positions = [-1, -1, 0, 1, -1, 0, 1, 1, 0, -1, 1, 0];\n      return new Model(gl, _objectSpread(_objectSpread({}, this.getShaders()), {}, {\n        id: this.props.id,\n        geometry: new Geometry({\n          drawMode: 6,\n          vertexCount: 4,\n          attributes: {\n            positions: {\n              size: 3,\n              value: new Float32Array(positions)\n            }\n          }\n        }),\n        isInstanced: true\n      }));\n    }\n  }]);\n\n  return ScatterplotLayer;\n}(Layer);\n\nexport { ScatterplotLayer as default };\nScatterplotLayer.layerName = 'ScatterplotLayer';\nScatterplotLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME scatterplot-layer-vertex-shader\\n\\nattribute vec3 positions;\\n\\nattribute vec3 instancePositions;\\nattribute vec3 instancePositions64Low;\\nattribute float instanceRadius;\\nattribute float instanceLineWidths;\\nattribute vec4 instanceFillColors;\\nattribute vec4 instanceLineColors;\\nattribute vec3 instancePickingColors;\\n\\nuniform float opacity;\\nuniform float radiusScale;\\nuniform float radiusMinPixels;\\nuniform float radiusMaxPixels;\\nuniform float lineWidthScale;\\nuniform float lineWidthMinPixels;\\nuniform float lineWidthMaxPixels;\\nuniform float stroked;\\nuniform bool filled;\\nuniform bool billboard;\\nuniform int radiusUnits;\\nuniform int lineWidthUnits;\\n\\nvarying vec4 vFillColor;\\nvarying vec4 vLineColor;\\nvarying vec2 unitPosition;\\nvarying float innerUnitRadius;\\nvarying float outerRadiusPixels;\\n\\nvoid main(void) {\\n  geometry.worldPosition = instancePositions;\\n  outerRadiusPixels = clamp(\\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\\n    radiusMinPixels, radiusMaxPixels\\n  );\\n  float lineWidthPixels = clamp(\\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\\n    lineWidthMinPixels, lineWidthMaxPixels\\n  );\\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\\n  unitPosition = positions.xy;\\n  geometry.uv = unitPosition;\\n  geometry.pickingColor = instancePickingColors;\\n\\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\\n  \\n  if (billboard) {\\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\\n    vec3 offset = positions * outerRadiusPixels;\\n    DECKGL_FILTER_SIZE(offset, geometry);\\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\\n  } else {\\n    vec3 offset = positions * project_pixel_size(outerRadiusPixels);\\n    DECKGL_FILTER_SIZE(offset, geometry);\\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\\n  }\\n\\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\\n}\\n\";","export default \"#define SHADER_NAME scatterplot-layer-fragment-shader\\n\\nprecision highp float;\\n\\nuniform bool filled;\\nuniform float stroked;\\nuniform bool antialiasing;\\n\\nvarying vec4 vFillColor;\\nvarying vec4 vLineColor;\\nvarying vec2 unitPosition;\\nvarying float innerUnitRadius;\\nvarying float outerRadiusPixels;\\n\\nvoid main(void) {\\n  geometry.uv = unitPosition;\\n\\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\\n  float inCircle = antialiasing ? \\n    smoothedge(distToCenter, outerRadiusPixels) : \\n    step(distToCenter, outerRadiusPixels);\\n\\n  if (inCircle == 0.0) {\\n    discard;\\n  }\\n\\n  if (stroked > 0.5) {\\n    float isLine = antialiasing ? \\n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\\n\\n    if (filled) {\\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\\n    } else {\\n      if (isLine == 0.0) {\\n        discard;\\n      }\\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\\n    }\\n  } else if (filled) {\\n    gl_FragColor = vFillColor;\\n  } else {\\n    discard;\\n  }\\n\\n  gl_FragColor.a *= inCircle;\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { log } from '@deck.gl/core';\nimport IconLayer from '../../icon-layer/icon-layer';\nimport fs from './multi-icon-layer-fragment.glsl';\nvar DEFAULT_BUFFER = 192.0 / 256;\nvar EMPTY_ARRAY = [];\nvar defaultProps = {\n  getIconOffsets: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.offsets;\n    }\n  },\n  alphaCutoff: 0.001,\n  smoothing: 0.1,\n  outlineWidth: 0,\n  outlineColor: {\n    type: 'color',\n    value: [0, 0, 0, 255]\n  }\n};\n\nvar MultiIconLayer = /*#__PURE__*/function (_IconLayer) {\n  _inherits(MultiIconLayer, _IconLayer);\n\n  var _super = _createSuper(MultiIconLayer);\n\n  function MultiIconLayer() {\n    _classCallCheck(this, MultiIconLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MultiIconLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(MultiIconLayer.prototype), \"getShaders\", this).call(this)), {}, {\n        fs: fs\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      _get(_getPrototypeOf(MultiIconLayer.prototype), \"initializeState\", this).call(this);\n\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        instanceOffsets: {\n          size: 2,\n          accessor: 'getIconOffsets'\n        },\n        instancePickingColors: {\n          type: 5121,\n          size: 3,\n          accessor: function accessor(object, _ref) {\n            var index = _ref.index,\n                value = _ref.target;\n            return _this.encodePickingColor(index, value);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(params) {\n      _get(_getPrototypeOf(MultiIconLayer.prototype), \"updateState\", this).call(this, params);\n\n      var props = params.props,\n          oldProps = params.oldProps;\n      var outlineColor = props.outlineColor;\n\n      if (outlineColor !== oldProps.outlineColor) {\n        outlineColor = outlineColor.map(function (x) {\n          return x / 255;\n        });\n        outlineColor[3] = Number.isFinite(outlineColor[3]) ? outlineColor[3] : 1;\n        this.setState({\n          outlineColor: outlineColor\n        });\n      }\n\n      if (!props.sdf && props.outlineWidth) {\n        log.warn(\"\".concat(this.id, \": fontSettings.sdf is required to render outline\"))();\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(params) {\n      var _this$props = this.props,\n          sdf = _this$props.sdf,\n          smoothing = _this$props.smoothing,\n          outlineWidth = _this$props.outlineWidth;\n      var outlineColor = this.state.outlineColor;\n      params.uniforms = _objectSpread(_objectSpread({}, params.uniforms), {}, {\n        buffer: DEFAULT_BUFFER,\n        outlineBuffer: outlineWidth ? Math.max(smoothing, DEFAULT_BUFFER * (1 - outlineWidth)) : -1,\n        gamma: smoothing,\n        sdf: Boolean(sdf),\n        outlineColor: outlineColor\n      });\n\n      _get(_getPrototypeOf(MultiIconLayer.prototype), \"draw\", this).call(this, params);\n    }\n  }, {\n    key: \"getInstanceOffset\",\n    value: function getInstanceOffset(icons) {\n      var _this2 = this;\n\n      return icons ? Array.from(icons).map(function (icon) {\n        return _get(_getPrototypeOf(MultiIconLayer.prototype), \"getInstanceOffset\", _this2).call(_this2, icon);\n      }) : EMPTY_ARRAY;\n    }\n  }, {\n    key: \"getInstanceColorMode\",\n    value: function getInstanceColorMode(icons) {\n      return 1;\n    }\n  }, {\n    key: \"getInstanceIconFrame\",\n    value: function getInstanceIconFrame(icons) {\n      var _this3 = this;\n\n      return icons ? Array.from(icons).map(function (icon) {\n        return _get(_getPrototypeOf(MultiIconLayer.prototype), \"getInstanceIconFrame\", _this3).call(_this3, icon);\n      }) : EMPTY_ARRAY;\n    }\n  }]);\n\n  return MultiIconLayer;\n}(IconLayer);\n\nexport { MultiIconLayer as default };\nMultiIconLayer.layerName = 'MultiIconLayer';\nMultiIconLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME multi-icon-layer-fragment-shader\\n\\nprecision highp float;\\n\\nuniform float opacity;\\nuniform sampler2D iconsTexture;\\nuniform float gamma;\\nuniform bool sdf;\\nuniform float alphaCutoff;\\nuniform float buffer;\\nuniform float outlineBuffer;\\nuniform vec4 outlineColor;\\n\\nvarying vec4 vColor;\\nvarying vec2 vTextureCoords;\\nvarying vec2 uv;\\n\\nvoid main(void) {\\n  geometry.uv = uv;\\n\\n  if (!picking_uActive) {\\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\\n    vec4 color = vColor;\\n    if (sdf) {\\n      float distance = alpha;\\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\\n\\n      if (outlineBuffer > 0.0) {\\n        float inFill = alpha;\\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\\n        color = mix(outlineColor, vColor, inFill);\\n        alpha = inBorder;\\n      }\\n    }\\n    float a = alpha * color.a;\\n    \\n    if (a < alphaCutoff) {\\n      discard;\\n    }\\n\\n    gl_FragColor = vec4(color.rgb, a * opacity);\\n  }\\n\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { log } from '@deck.gl/core';\nvar MISSING_CHAR_WIDTH = 32;\nvar SINGLE_LINE = [];\nexport function nextPowOfTwo(number) {\n  return Math.pow(2, Math.ceil(Math.log2(number)));\n}\nexport function buildMapping(_ref) {\n  var characterSet = _ref.characterSet,\n      getFontWidth = _ref.getFontWidth,\n      fontHeight = _ref.fontHeight,\n      buffer = _ref.buffer,\n      maxCanvasWidth = _ref.maxCanvasWidth,\n      _ref$mapping = _ref.mapping,\n      mapping = _ref$mapping === void 0 ? {} : _ref$mapping,\n      _ref$xOffset = _ref.xOffset,\n      xOffset = _ref$xOffset === void 0 ? 0 : _ref$xOffset,\n      _ref$yOffset = _ref.yOffset,\n      yOffset = _ref$yOffset === void 0 ? 0 : _ref$yOffset;\n  var row = 0;\n  var x = xOffset;\n  var i = 0;\n\n  var _iterator = _createForOfIteratorHelper(characterSet),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var char = _step.value;\n\n      if (!mapping[char]) {\n        var width = getFontWidth(char, i++);\n\n        if (x + width + buffer * 2 > maxCanvasWidth) {\n          x = 0;\n          row++;\n        }\n\n        mapping[char] = {\n          x: x + buffer,\n          y: yOffset + row * (fontHeight + buffer * 2) + buffer,\n          width: width,\n          height: fontHeight\n        };\n        x += width + buffer * 2;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var rowHeight = fontHeight + buffer * 2;\n  return {\n    mapping: mapping,\n    xOffset: x,\n    yOffset: yOffset + row * rowHeight,\n    canvasHeight: nextPowOfTwo(yOffset + (row + 1) * rowHeight)\n  };\n}\n\nfunction getTextWidth(text, startIndex, endIndex, mapping) {\n  var width = 0;\n\n  for (var i = startIndex; i < endIndex; i++) {\n    var character = text[i];\n    var frameWidth = null;\n    var frame = mapping && mapping[character];\n\n    if (frame) {\n      frameWidth = frame.width;\n    }\n\n    width += frameWidth;\n  }\n\n  return width;\n}\n\nfunction breakAll(text, startIndex, endIndex, maxWidth, iconMapping, target) {\n  var rowStartCharIndex = startIndex;\n  var rowOffsetLeft = 0;\n\n  for (var i = startIndex; i < endIndex; i++) {\n    var textWidth = getTextWidth(text, i, i + 1, iconMapping);\n\n    if (rowOffsetLeft + textWidth > maxWidth) {\n      if (rowStartCharIndex < i) {\n        target.push(i);\n      }\n\n      rowStartCharIndex = i;\n      rowOffsetLeft = 0;\n    }\n\n    rowOffsetLeft += textWidth;\n  }\n\n  return rowOffsetLeft;\n}\n\nfunction breakWord(text, startIndex, endIndex, maxWidth, iconMapping, target) {\n  var rowStartCharIndex = startIndex;\n  var groupStartCharIndex = startIndex;\n  var groupEndCharIndex = startIndex;\n  var rowOffsetLeft = 0;\n\n  for (var i = startIndex; i < endIndex; i++) {\n    if (text[i] === ' ') {\n      groupEndCharIndex = i + 1;\n    } else if (text[i + 1] === ' ' || i + 1 === endIndex) {\n      groupEndCharIndex = i + 1;\n    }\n\n    if (groupEndCharIndex > groupStartCharIndex) {\n      var groupWidth = getTextWidth(text, groupStartCharIndex, groupEndCharIndex, iconMapping);\n\n      if (rowOffsetLeft + groupWidth > maxWidth) {\n        if (rowStartCharIndex < groupStartCharIndex) {\n          target.push(groupStartCharIndex);\n          rowStartCharIndex = groupStartCharIndex;\n          rowOffsetLeft = 0;\n        }\n\n        if (groupWidth > maxWidth) {\n          groupWidth = breakAll(text, groupStartCharIndex, groupEndCharIndex, maxWidth, iconMapping, target);\n          rowStartCharIndex = target[target.length - 1];\n        }\n      }\n\n      groupStartCharIndex = groupEndCharIndex;\n      rowOffsetLeft += groupWidth;\n    }\n  }\n\n  return rowOffsetLeft;\n}\n\nexport function autoWrapping(text, wordBreak, maxWidth, iconMapping) {\n  var startIndex = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var endIndex = arguments.length > 5 ? arguments[5] : undefined;\n\n  if (endIndex === undefined) {\n    endIndex = text.length;\n  }\n\n  var result = [];\n\n  if (wordBreak === 'break-all') {\n    breakAll(text, startIndex, endIndex, maxWidth, iconMapping, result);\n  } else {\n    breakWord(text, startIndex, endIndex, maxWidth, iconMapping, result);\n  }\n\n  return result;\n}\n\nfunction transformRow(line, startIndex, endIndex, iconMapping, leftOffsets, rowSize) {\n  var x = 0;\n  var rowHeight = 0;\n\n  for (var i = startIndex; i < endIndex; i++) {\n    var character = line[i];\n    var frame = iconMapping[character];\n\n    if (frame) {\n      if (!rowHeight) {\n        rowHeight = frame.height;\n      }\n\n      leftOffsets[i] = x + frame.width / 2;\n      x += frame.width;\n    } else {\n      log.warn(\"Missing character: \".concat(character, \" (\").concat(character.codePointAt(0), \")\"))();\n      leftOffsets[i] = x;\n      x += MISSING_CHAR_WIDTH;\n    }\n  }\n\n  rowSize[0] = x;\n  rowSize[1] = rowHeight;\n}\n\nexport function transformParagraph(paragraph, lineHeight, wordBreak, maxWidth, iconMapping) {\n  paragraph = Array.from(paragraph);\n  var numCharacters = paragraph.length;\n  var x = new Array(numCharacters);\n  var y = new Array(numCharacters);\n  var rowWidth = new Array(numCharacters);\n  var autoWrappingEnabled = (wordBreak === 'break-word' || wordBreak === 'break-all') && isFinite(maxWidth) && maxWidth > 0;\n  var size = [0, 0];\n  var rowSize = [];\n  var rowOffsetTop = 0;\n  var lineStartIndex = 0;\n  var lineEndIndex = 0;\n\n  for (var i = 0; i <= numCharacters; i++) {\n    var char = paragraph[i];\n\n    if (char === '\\n' || i === numCharacters) {\n      lineEndIndex = i;\n    }\n\n    if (lineEndIndex > lineStartIndex) {\n      var rows = autoWrappingEnabled ? autoWrapping(paragraph, wordBreak, maxWidth, iconMapping, lineStartIndex, lineEndIndex) : SINGLE_LINE;\n\n      for (var rowIndex = 0; rowIndex <= rows.length; rowIndex++) {\n        var rowStart = rowIndex === 0 ? lineStartIndex : rows[rowIndex - 1];\n        var rowEnd = rowIndex < rows.length ? rows[rowIndex] : lineEndIndex;\n        transformRow(paragraph, rowStart, rowEnd, iconMapping, x, rowSize);\n\n        for (var j = rowStart; j < rowEnd; j++) {\n          y[j] = rowOffsetTop + rowSize[1] / 2;\n          rowWidth[j] = rowSize[0];\n        }\n\n        rowOffsetTop = rowOffsetTop + rowSize[1] * lineHeight;\n        size[0] = Math.max(size[0], rowSize[0]);\n      }\n\n      lineStartIndex = lineEndIndex;\n    }\n\n    if (char === '\\n') {\n      x[lineStartIndex] = 0;\n      y[lineStartIndex] = 0;\n      rowWidth[lineStartIndex] = 0;\n      lineStartIndex++;\n    }\n  }\n\n  size[1] = rowOffsetTop;\n  return {\n    x: x,\n    y: y,\n    rowWidth: rowWidth,\n    size: size\n  };\n}\nexport function getTextFromBuffer(_ref2) {\n  var value = _ref2.value,\n      length = _ref2.length,\n      stride = _ref2.stride,\n      offset = _ref2.offset,\n      startIndices = _ref2.startIndices,\n      characterSet = _ref2.characterSet;\n  var bytesPerElement = value.BYTES_PER_ELEMENT;\n  var elementStride = stride ? stride / bytesPerElement : 1;\n  var elementOffset = offset ? offset / bytesPerElement : 0;\n  var characterCount = startIndices[length] || Math.ceil((value.length - elementOffset) / elementStride);\n  var autoCharacterSet = characterSet && new Set();\n  var texts = new Array(length);\n  var codes = value;\n\n  if (elementStride > 1 || elementOffset > 0) {\n    codes = new value.constructor(characterCount);\n\n    for (var i = 0; i < characterCount; i++) {\n      codes[i] = value[i * elementStride + elementOffset];\n    }\n  }\n\n  for (var index = 0; index < length; index++) {\n    var startIndex = startIndices[index];\n    var endIndex = startIndices[index + 1] || characterCount;\n    var codesAtIndex = codes.subarray(startIndex, endIndex);\n    texts[index] = String.fromCodePoint.apply(null, codesAtIndex);\n\n    if (autoCharacterSet) {\n      codesAtIndex.forEach(autoCharacterSet.add, autoCharacterSet);\n    }\n  }\n\n  if (autoCharacterSet) {\n    var _iterator2 = _createForOfIteratorHelper(autoCharacterSet),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var charCode = _step2.value;\n        characterSet.add(String.fromCodePoint(charCode));\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return {\n    texts: texts,\n    characterCount: characterCount\n  };\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar LRUCache = /*#__PURE__*/function () {\n  function LRUCache() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n\n    _classCallCheck(this, LRUCache);\n\n    this.limit = limit;\n    this.clear();\n  }\n\n  _createClass(LRUCache, [{\n    key: \"clear\",\n    value: function clear() {\n      this._cache = {};\n      this._order = [];\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var value = this._cache[key];\n\n      if (value) {\n        this._deleteOrder(key);\n\n        this._appendOrder(key);\n      }\n\n      return value;\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      if (!this._cache[key]) {\n        if (Object.keys(this._cache).length === this.limit) {\n          this.delete(this._order[0]);\n        }\n\n        this._cache[key] = value;\n\n        this._appendOrder(key);\n      } else {\n        this.delete(key);\n        this._cache[key] = value;\n\n        this._appendOrder(key);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var value = this._cache[key];\n\n      if (value) {\n        this._deleteCache(key);\n\n        this._deleteOrder(key);\n      }\n    }\n  }, {\n    key: \"_deleteCache\",\n    value: function _deleteCache(key) {\n      delete this._cache[key];\n    }\n  }, {\n    key: \"_deleteOrder\",\n    value: function _deleteOrder(key) {\n      var index = this._order.findIndex(function (o) {\n        return o === key;\n      });\n\n      if (index >= 0) {\n        this._order.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"_appendOrder\",\n    value: function _appendOrder(key) {\n      this._order.push(key);\n    }\n  }]);\n\n  return LRUCache;\n}();\n\nexport { LRUCache as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport TinySDF from '@mapbox/tiny-sdf';\nimport { buildMapping } from './utils';\nimport LRUCache from './lru-cache';\n\nfunction getDefaultCharacterSet() {\n  var charSet = [];\n\n  for (var i = 32; i < 128; i++) {\n    charSet.push(String.fromCharCode(i));\n  }\n\n  return charSet;\n}\n\nexport var DEFAULT_CHAR_SET = getDefaultCharacterSet();\nexport var DEFAULT_FONT_FAMILY = 'Monaco, monospace';\nexport var DEFAULT_FONT_WEIGHT = 'normal';\nexport var DEFAULT_FONT_SIZE = 64;\nexport var DEFAULT_BUFFER = 4;\nexport var DEFAULT_CUTOFF = 0.25;\nexport var DEFAULT_RADIUS = 12;\nvar MAX_CANVAS_WIDTH = 1024;\nvar BASELINE_SCALE = 0.9;\nvar HEIGHT_SCALE = 1.2;\nvar CACHE_LIMIT = 3;\nvar cache = new LRUCache(CACHE_LIMIT);\nvar VALID_PROPS = ['fontFamily', 'fontWeight', 'characterSet', 'fontSize', 'sdf', 'buffer', 'cutoff', 'radius'];\n\nfunction getNewChars(key, characterSet) {\n  var cachedFontAtlas = cache.get(key);\n\n  if (!cachedFontAtlas) {\n    return characterSet;\n  }\n\n  var newChars = [];\n  var cachedMapping = cachedFontAtlas.mapping;\n  var cachedCharSet = Object.keys(cachedMapping);\n  cachedCharSet = new Set(cachedCharSet);\n  var charSet = characterSet;\n\n  if (charSet instanceof Array) {\n    charSet = new Set(charSet);\n  }\n\n  charSet.forEach(function (char) {\n    if (!cachedCharSet.has(char)) {\n      newChars.push(char);\n    }\n  });\n  return newChars;\n}\n\nfunction populateAlphaChannel(alphaChannel, imageData) {\n  for (var i = 0; i < alphaChannel.length; i++) {\n    imageData.data[4 * i + 3] = alphaChannel[i];\n  }\n}\n\nfunction setTextStyle(ctx, fontFamily, fontSize, fontWeight) {\n  ctx.font = \"\".concat(fontWeight, \" \").concat(fontSize, \"px \").concat(fontFamily);\n  ctx.fillStyle = '#000';\n  ctx.textBaseline = 'baseline';\n  ctx.textAlign = 'left';\n}\n\nvar FontAtlasManager = /*#__PURE__*/function () {\n  function FontAtlasManager() {\n    _classCallCheck(this, FontAtlasManager);\n\n    this.props = {\n      fontFamily: DEFAULT_FONT_FAMILY,\n      fontWeight: DEFAULT_FONT_WEIGHT,\n      characterSet: DEFAULT_CHAR_SET,\n      fontSize: DEFAULT_FONT_SIZE,\n      buffer: DEFAULT_BUFFER,\n      sdf: false,\n      cutoff: DEFAULT_CUTOFF,\n      radius: DEFAULT_RADIUS\n    };\n    this._key = null;\n    this._atlas = null;\n  }\n\n  _createClass(FontAtlasManager, [{\n    key: \"texture\",\n    get: function get() {\n      return this._atlas;\n    }\n  }, {\n    key: \"mapping\",\n    get: function get() {\n      return this._atlas && this._atlas.mapping;\n    }\n  }, {\n    key: \"scale\",\n    get: function get() {\n      return HEIGHT_SCALE;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps() {\n      var _this = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      VALID_PROPS.forEach(function (prop) {\n        if (prop in props) {\n          _this.props[prop] = props[prop];\n        }\n      });\n      var oldKey = this._key;\n      this._key = this._getKey();\n      var charSet = getNewChars(this._key, this.props.characterSet);\n      var cachedFontAtlas = cache.get(this._key);\n\n      if (cachedFontAtlas && charSet.length === 0) {\n        if (this._key !== oldKey) {\n          this._atlas = cachedFontAtlas;\n        }\n\n        return;\n      }\n\n      var fontAtlas = this._generateFontAtlas(this._key, charSet, cachedFontAtlas);\n\n      this._atlas = fontAtlas;\n      cache.set(this._key, fontAtlas);\n    }\n  }, {\n    key: \"_generateFontAtlas\",\n    value: function _generateFontAtlas(key, characterSet, cachedFontAtlas) {\n      var _this$props = this.props,\n          fontFamily = _this$props.fontFamily,\n          fontWeight = _this$props.fontWeight,\n          fontSize = _this$props.fontSize,\n          buffer = _this$props.buffer,\n          sdf = _this$props.sdf,\n          radius = _this$props.radius,\n          cutoff = _this$props.cutoff;\n      var canvas = cachedFontAtlas && cachedFontAtlas.data;\n\n      if (!canvas) {\n        canvas = document.createElement('canvas');\n        canvas.width = MAX_CANVAS_WIDTH;\n      }\n\n      var ctx = canvas.getContext('2d');\n      setTextStyle(ctx, fontFamily, fontSize, fontWeight);\n\n      var _buildMapping = buildMapping(_objectSpread({\n        getFontWidth: function getFontWidth(char) {\n          return ctx.measureText(char).width;\n        },\n        fontHeight: fontSize * HEIGHT_SCALE,\n        buffer: buffer,\n        characterSet: characterSet,\n        maxCanvasWidth: MAX_CANVAS_WIDTH\n      }, cachedFontAtlas && {\n        mapping: cachedFontAtlas.mapping,\n        xOffset: cachedFontAtlas.xOffset,\n        yOffset: cachedFontAtlas.yOffset\n      })),\n          mapping = _buildMapping.mapping,\n          canvasHeight = _buildMapping.canvasHeight,\n          xOffset = _buildMapping.xOffset,\n          yOffset = _buildMapping.yOffset;\n\n      if (canvas.height !== canvasHeight) {\n        var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        canvas.height = canvasHeight;\n        ctx.putImageData(imageData, 0, 0);\n      }\n\n      setTextStyle(ctx, fontFamily, fontSize, fontWeight);\n\n      if (sdf) {\n        var tinySDF = new TinySDF(fontSize, buffer, radius, cutoff, fontFamily, fontWeight);\n\n        var _imageData = ctx.getImageData(0, 0, tinySDF.size, tinySDF.size);\n\n        var _iterator = _createForOfIteratorHelper(characterSet),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var char = _step.value;\n            populateAlphaChannel(tinySDF.draw(char), _imageData);\n            ctx.putImageData(_imageData, mapping[char].x - buffer, mapping[char].y + buffer);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        var _iterator2 = _createForOfIteratorHelper(characterSet),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _char = _step2.value;\n            ctx.fillText(_char, mapping[_char].x, mapping[_char].y + fontSize * BASELINE_SCALE);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n\n      return {\n        xOffset: xOffset,\n        yOffset: yOffset,\n        mapping: mapping,\n        data: canvas,\n        width: canvas.width,\n        height: canvas.height\n      };\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey() {\n      var _this$props2 = this.props,\n          fontFamily = _this$props2.fontFamily,\n          fontWeight = _this$props2.fontWeight,\n          fontSize = _this$props2.fontSize,\n          buffer = _this$props2.buffer,\n          sdf = _this$props2.sdf,\n          radius = _this$props2.radius,\n          cutoff = _this$props2.cutoff;\n\n      if (sdf) {\n        return \"\".concat(fontFamily, \" \").concat(fontWeight, \" \").concat(fontSize, \" \").concat(buffer, \" \").concat(radius, \" \").concat(cutoff);\n      }\n\n      return \"\".concat(fontFamily, \" \").concat(fontWeight, \" \").concat(fontSize, \" \").concat(buffer);\n    }\n  }]);\n\n  return FontAtlasManager;\n}();\n\nexport { FontAtlasManager as default };","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Layer, project32, picking, UNIT } from '@deck.gl/core';\nimport { Model, Geometry } from '@luma.gl/core';\nimport vs from './text-background-layer-vertex.glsl';\nimport fs from './text-background-layer-fragment.glsl';\nvar defaultProps = {\n  billboard: true,\n  sizeScale: 1,\n  sizeUnits: 'pixels',\n  sizeMinPixels: 0,\n  sizeMaxPixels: Number.MAX_SAFE_INTEGER,\n  padding: {\n    type: 'array',\n    value: [0, 0, 0, 0]\n  },\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getSize: {\n    type: 'accessor',\n    value: 1\n  },\n  getAngle: {\n    type: 'accessor',\n    value: 0\n  },\n  getPixelOffset: {\n    type: 'accessor',\n    value: [0, 0]\n  },\n  getBoundingRect: {\n    type: 'accessor',\n    value: [0, 0, 0, 0]\n  },\n  getFillColor: {\n    type: 'accessor',\n    value: [0, 0, 0, 255]\n  },\n  getLineColor: {\n    type: 'accessor',\n    value: [0, 0, 0, 255]\n  },\n  getLineWidth: {\n    type: 'accessor',\n    value: 1\n  }\n};\n\nvar TextBackgroundLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(TextBackgroundLayer, _Layer);\n\n  var _super = _createSuper(TextBackgroundLayer);\n\n  function TextBackgroundLayer() {\n    _classCallCheck(this, TextBackgroundLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(TextBackgroundLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return _get(_getPrototypeOf(TextBackgroundLayer.prototype), \"getShaders\", this).call(this, {\n        vs: vs,\n        fs: fs,\n        modules: [project32, picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.getAttributeManager().addInstanced({\n        instancePositions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: true,\n          accessor: 'getPosition'\n        },\n        instanceSizes: {\n          size: 1,\n          transition: true,\n          accessor: 'getSize',\n          defaultValue: 1\n        },\n        instanceAngles: {\n          size: 1,\n          transition: true,\n          accessor: 'getAngle'\n        },\n        instanceRects: {\n          size: 4,\n          accessor: 'getBoundingRect'\n        },\n        instancePixelOffsets: {\n          size: 2,\n          transition: true,\n          accessor: 'getPixelOffset'\n        },\n        instanceFillColors: {\n          size: 4,\n          transition: true,\n          normalized: true,\n          type: 5121,\n          accessor: 'getFillColor',\n          defaultValue: [0, 0, 0, 255]\n        },\n        instanceLineColors: {\n          size: 4,\n          transition: true,\n          normalized: true,\n          type: 5121,\n          accessor: 'getLineColor',\n          defaultValue: [0, 0, 0, 255]\n        },\n        instanceLineWidths: {\n          size: 1,\n          transition: true,\n          accessor: 'getLineWidth',\n          defaultValue: 1\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps,\n          changeFlags = _ref.changeFlags;\n\n      _get(_getPrototypeOf(TextBackgroundLayer.prototype), \"updateState\", this).call(this, {\n        props: props,\n        oldProps: oldProps,\n        changeFlags: changeFlags\n      });\n\n      if (changeFlags.extensionsChanged) {\n        var _this$state$model;\n\n        var gl = this.context.gl;\n        (_this$state$model = this.state.model) === null || _this$state$model === void 0 ? void 0 : _this$state$model.delete();\n        this.state.model = this._getModel(gl);\n        this.getAttributeManager().invalidateAll();\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var _this$props = this.props,\n          billboard = _this$props.billboard,\n          sizeScale = _this$props.sizeScale,\n          sizeUnits = _this$props.sizeUnits,\n          sizeMinPixels = _this$props.sizeMinPixels,\n          sizeMaxPixels = _this$props.sizeMaxPixels,\n          getLineWidth = _this$props.getLineWidth;\n      var padding = this.props.padding;\n\n      if (padding.length < 4) {\n        padding = [padding[0], padding[1], padding[0], padding[1]];\n      }\n\n      this.state.model.setUniforms(uniforms).setUniforms({\n        billboard: billboard,\n        stroked: Boolean(getLineWidth),\n        padding: padding,\n        sizeUnits: UNIT[sizeUnits],\n        sizeScale: sizeScale,\n        sizeMinPixels: sizeMinPixels,\n        sizeMaxPixels: sizeMaxPixels\n      }).draw();\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      var positions = [0, 0, 1, 0, 1, 1, 0, 1];\n      return new Model(gl, _objectSpread(_objectSpread({}, this.getShaders()), {}, {\n        id: this.props.id,\n        geometry: new Geometry({\n          drawMode: 6,\n          vertexCount: 4,\n          attributes: {\n            positions: {\n              size: 2,\n              value: new Float32Array(positions)\n            }\n          }\n        }),\n        isInstanced: true\n      }));\n    }\n  }]);\n\n  return TextBackgroundLayer;\n}(Layer);\n\nexport { TextBackgroundLayer as default };\nTextBackgroundLayer.layerName = 'TextBackgroundLayer';\nTextBackgroundLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME text-background-layer-vertex-shader\\n\\nattribute vec2 positions;\\n\\nattribute vec3 instancePositions;\\nattribute vec3 instancePositions64Low;\\nattribute vec4 instanceRects;\\nattribute float instanceSizes;\\nattribute float instanceAngles;\\nattribute vec2 instancePixelOffsets;\\nattribute float instanceLineWidths;\\nattribute vec4 instanceFillColors;\\nattribute vec4 instanceLineColors;\\nattribute vec3 instancePickingColors;\\n\\nuniform bool billboard;\\nuniform float opacity;\\nuniform float sizeScale;\\nuniform float sizeMinPixels;\\nuniform float sizeMaxPixels;\\nuniform vec4 padding;\\nuniform int sizeUnits;\\n\\nvarying vec4 vFillColor;\\nvarying vec4 vLineColor;\\nvarying float vLineWidth;\\nvarying vec2 uv;\\nvarying vec2 dimensions;\\n\\nvec2 rotate_by_angle(vec2 vertex, float angle) {\\n  float angle_radian = radians(angle);\\n  float cos_angle = cos(angle_radian);\\n  float sin_angle = sin(angle_radian);\\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\\n  return rotationMatrix * vertex;\\n}\\n\\nvoid main(void) {\\n  geometry.worldPosition = instancePositions;\\n  geometry.uv = positions;\\n  geometry.pickingColor = instancePickingColors;\\n  uv = positions;\\n  vLineWidth = instanceLineWidths;\\n  float sizePixels = clamp(\\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\\n    sizeMinPixels, sizeMaxPixels\\n  );\\n\\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\\n\\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\\n  pixelOffset += instancePixelOffsets;\\n  pixelOffset.y *= -1.0;\\n\\n  if (billboard)  {\\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\\n    vec3 offset = vec3(pixelOffset, 0.0);\\n    DECKGL_FILTER_SIZE(offset, geometry);\\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\\n  } else {\\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\\n    DECKGL_FILTER_SIZE(offset_common, geometry);\\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\\n  }\\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\\n}\\n\";","export default \"#define SHADER_NAME text-background-layer-fragment-shader\\n\\nprecision highp float;\\n\\nuniform bool stroked;\\n\\nvarying vec4 vFillColor;\\nvarying vec4 vLineColor;\\nvarying float vLineWidth;\\nvarying vec2 uv;\\nvarying vec2 dimensions;\\n\\nvoid main(void) {\\n  geometry.uv = uv;\\n\\n  vec2 pixelPosition = uv * dimensions;\\n  if (stroked) {\\n    float distToEdge = min(\\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\\n    );\\n    float isBorder = smoothedge(distToEdge, vLineWidth);\\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\\n  } else {\\n    gl_FragColor = vFillColor;\\n  }\\n\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { CompositeLayer, createIterable } from '@deck.gl/core';\nimport MultiIconLayer from './multi-icon-layer/multi-icon-layer';\nimport FontAtlasManager, { DEFAULT_CHAR_SET, DEFAULT_FONT_FAMILY, DEFAULT_FONT_WEIGHT, DEFAULT_FONT_SIZE, DEFAULT_BUFFER, DEFAULT_RADIUS, DEFAULT_CUTOFF } from './font-atlas-manager';\nimport { transformParagraph, getTextFromBuffer } from './utils';\nimport TextBackgroundLayer from './text-background-layer/text-background-layer';\nvar DEFAULT_FONT_SETTINGS = {\n  fontSize: DEFAULT_FONT_SIZE,\n  buffer: DEFAULT_BUFFER,\n  sdf: false,\n  radius: DEFAULT_RADIUS,\n  cutoff: DEFAULT_CUTOFF,\n  smoothing: 0.1\n};\nvar TEXT_ANCHOR = {\n  start: 1,\n  middle: 0,\n  end: -1\n};\nvar ALIGNMENT_BASELINE = {\n  top: 1,\n  center: 0,\n  bottom: -1\n};\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar DEFAULT_LINE_HEIGHT = 1.0;\nvar FONT_SETTINGS_PROPS = ['fontSize', 'buffer', 'sdf', 'radius', 'cutoff'];\nvar defaultProps = {\n  billboard: true,\n  sizeScale: 1,\n  sizeUnits: 'pixels',\n  sizeMinPixels: 0,\n  sizeMaxPixels: Number.MAX_SAFE_INTEGER,\n  background: false,\n  getBackgroundColor: {\n    type: 'accessor',\n    value: [255, 255, 255, 255]\n  },\n  getBorderColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getBorderWidth: {\n    type: 'accessor',\n    value: 0\n  },\n  backgroundPadding: {\n    type: 'array',\n    value: [0, 0, 0, 0]\n  },\n  characterSet: {\n    type: 'object',\n    value: DEFAULT_CHAR_SET\n  },\n  fontFamily: DEFAULT_FONT_FAMILY,\n  fontWeight: DEFAULT_FONT_WEIGHT,\n  lineHeight: DEFAULT_LINE_HEIGHT,\n  outlineWidth: {\n    type: 'number',\n    value: 0,\n    min: 0\n  },\n  outlineColor: {\n    type: 'color',\n    value: DEFAULT_COLOR\n  },\n  fontSettings: {},\n  wordBreak: 'break-word',\n  maxWidth: {\n    type: 'number',\n    value: -1\n  },\n  getText: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.text;\n    }\n  },\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getSize: {\n    type: 'accessor',\n    value: 32\n  },\n  getAngle: {\n    type: 'accessor',\n    value: 0\n  },\n  getTextAnchor: {\n    type: 'accessor',\n    value: 'middle'\n  },\n  getAlignmentBaseline: {\n    type: 'accessor',\n    value: 'center'\n  },\n  getPixelOffset: {\n    type: 'accessor',\n    value: [0, 0]\n  },\n  backgroundColor: {\n    deprecatedFor: ['background', 'getBackgroundColor']\n  }\n};\n\nvar TextLayer = /*#__PURE__*/function (_CompositeLayer) {\n  _inherits(TextLayer, _CompositeLayer);\n\n  var _super = _createSuper(TextLayer);\n\n  function TextLayer() {\n    _classCallCheck(this, TextLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(TextLayer, [{\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.state = {\n        styleVersion: 0,\n        fontAtlasManager: new FontAtlasManager()\n      };\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps,\n          changeFlags = _ref.changeFlags;\n      var textChanged = changeFlags.dataChanged || changeFlags.updateTriggersChanged && (changeFlags.updateTriggersChanged.all || changeFlags.updateTriggersChanged.getText);\n      var oldCharacterSet = this.state.characterSet;\n\n      if (textChanged) {\n        this._updateText();\n      }\n\n      var fontChanged = oldCharacterSet !== this.state.characterSet || this._fontChanged(oldProps, props);\n\n      if (fontChanged) {\n        this._updateFontAtlas(oldProps, props);\n      }\n\n      var styleChanged = fontChanged || props.lineHeight !== oldProps.lineHeight || props.wordBreak !== oldProps.wordBreak || props.maxWidth !== oldProps.maxWidth;\n\n      if (styleChanged) {\n        this.setState({\n          styleVersion: this.state.styleVersion + 1\n        });\n      }\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref2) {\n      var info = _ref2.info;\n      info.object = info.index >= 0 ? this.props.data[info.index] : null;\n      return info;\n    }\n  }, {\n    key: \"_updateFontAtlas\",\n    value: function _updateFontAtlas(oldProps, props) {\n      var fontSettings = props.fontSettings,\n          fontFamily = props.fontFamily,\n          fontWeight = props.fontWeight;\n      var _this$state = this.state,\n          fontAtlasManager = _this$state.fontAtlasManager,\n          characterSet = _this$state.characterSet;\n      fontAtlasManager.setProps(_objectSpread(_objectSpread(_objectSpread({}, DEFAULT_FONT_SETTINGS), fontSettings), {}, {\n        characterSet: characterSet,\n        fontFamily: fontFamily,\n        fontWeight: fontWeight\n      }));\n    }\n  }, {\n    key: \"_fontChanged\",\n    value: function _fontChanged(oldProps, props) {\n      if (oldProps.fontFamily !== props.fontFamily || oldProps.fontWeight !== props.fontWeight) {\n        return true;\n      }\n\n      if (oldProps.fontSettings === props.fontSettings) {\n        return false;\n      }\n\n      var oldFontSettings = oldProps.fontSettings || {};\n      var fontSettings = props.fontSettings || {};\n      return FONT_SETTINGS_PROPS.some(function (prop) {\n        return oldFontSettings[prop] !== fontSettings[prop];\n      });\n    }\n  }, {\n    key: \"_updateText\",\n    value: function _updateText() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          characterSet = _this$props.characterSet;\n      var textBuffer = data.attributes && data.attributes.getText;\n      var getText = this.props.getText;\n      var startIndices = data.startIndices;\n      var numInstances;\n      var autoCharacterSet = characterSet === 'auto' && new Set();\n\n      if (textBuffer && startIndices) {\n        var _getTextFromBuffer = getTextFromBuffer(_objectSpread(_objectSpread({}, ArrayBuffer.isView(textBuffer) ? {\n          value: textBuffer\n        } : textBuffer), {}, {\n          length: data.length,\n          startIndices: startIndices,\n          characterSet: autoCharacterSet\n        })),\n            texts = _getTextFromBuffer.texts,\n            characterCount = _getTextFromBuffer.characterCount;\n\n        numInstances = characterCount;\n\n        getText = function getText(_, _ref3) {\n          var index = _ref3.index;\n          return texts[index];\n        };\n      } else {\n        var _createIterable = createIterable(data),\n            iterable = _createIterable.iterable,\n            objectInfo = _createIterable.objectInfo;\n\n        startIndices = [0];\n        numInstances = 0;\n\n        var _iterator = _createForOfIteratorHelper(iterable),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var object = _step.value;\n            objectInfo.index++;\n            var text = Array.from(getText(object, objectInfo) || '');\n\n            if (autoCharacterSet) {\n              text.forEach(autoCharacterSet.add, autoCharacterSet);\n            }\n\n            numInstances += text.length;\n            startIndices.push(numInstances);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      this.setState({\n        getText: getText,\n        startIndices: startIndices,\n        numInstances: numInstances,\n        characterSet: autoCharacterSet || characterSet\n      });\n    }\n  }, {\n    key: \"getBoundingRect\",\n    value: function getBoundingRect(object, objectInfo) {\n      var iconMapping = this.state.fontAtlasManager.mapping;\n      var getText = this.state.getText;\n      var _this$props2 = this.props,\n          wordBreak = _this$props2.wordBreak,\n          maxWidth = _this$props2.maxWidth,\n          lineHeight = _this$props2.lineHeight,\n          getTextAnchor = _this$props2.getTextAnchor,\n          getAlignmentBaseline = _this$props2.getAlignmentBaseline;\n      var paragraph = getText(object, objectInfo) || '';\n\n      var _transformParagraph = transformParagraph(paragraph, lineHeight, wordBreak, maxWidth, iconMapping),\n          _transformParagraph$s = _slicedToArray(_transformParagraph.size, 2),\n          width = _transformParagraph$s[0],\n          height = _transformParagraph$s[1];\n\n      var anchorX = TEXT_ANCHOR[typeof getTextAnchor === 'function' ? getTextAnchor(object, objectInfo) : getTextAnchor];\n      var anchorY = ALIGNMENT_BASELINE[typeof getAlignmentBaseline === 'function' ? getAlignmentBaseline(object, objectInfo) : getAlignmentBaseline];\n      return [(anchorX - 1) * width / 2, (anchorY - 1) * height / 2, width, height];\n    }\n  }, {\n    key: \"getIconOffsets\",\n    value: function getIconOffsets(object, objectInfo) {\n      var iconMapping = this.state.fontAtlasManager.mapping;\n      var getText = this.state.getText;\n      var _this$props3 = this.props,\n          wordBreak = _this$props3.wordBreak,\n          maxWidth = _this$props3.maxWidth,\n          lineHeight = _this$props3.lineHeight,\n          getTextAnchor = _this$props3.getTextAnchor,\n          getAlignmentBaseline = _this$props3.getAlignmentBaseline;\n      var paragraph = getText(object, objectInfo) || '';\n\n      var _transformParagraph2 = transformParagraph(paragraph, lineHeight, wordBreak, maxWidth, iconMapping),\n          x = _transformParagraph2.x,\n          y = _transformParagraph2.y,\n          rowWidth = _transformParagraph2.rowWidth,\n          _transformParagraph2$ = _slicedToArray(_transformParagraph2.size, 2),\n          width = _transformParagraph2$[0],\n          height = _transformParagraph2$[1];\n\n      var anchorX = TEXT_ANCHOR[typeof getTextAnchor === 'function' ? getTextAnchor(object, objectInfo) : getTextAnchor];\n      var anchorY = ALIGNMENT_BASELINE[typeof getAlignmentBaseline === 'function' ? getAlignmentBaseline(object, objectInfo) : getAlignmentBaseline];\n      var numCharacters = x.length;\n      var offsets = new Array(numCharacters * 2);\n      var index = 0;\n\n      for (var i = 0; i < numCharacters; i++) {\n        var rowOffset = (1 - anchorX) * (width - rowWidth[i]) / 2;\n        offsets[index++] = (anchorX - 1) * width / 2 + rowOffset + x[i];\n        offsets[index++] = (anchorY - 1) * height / 2 + y[i];\n      }\n\n      return offsets;\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers() {\n      var _this$state2 = this.state,\n          startIndices = _this$state2.startIndices,\n          numInstances = _this$state2.numInstances,\n          getText = _this$state2.getText,\n          _this$state2$fontAtla = _this$state2.fontAtlasManager,\n          scale = _this$state2$fontAtla.scale,\n          texture = _this$state2$fontAtla.texture,\n          mapping = _this$state2$fontAtla.mapping,\n          styleVersion = _this$state2.styleVersion;\n      var _this$props4 = this.props,\n          data = _this$props4.data,\n          _dataDiff = _this$props4._dataDiff,\n          getPosition = _this$props4.getPosition,\n          getColor = _this$props4.getColor,\n          getSize = _this$props4.getSize,\n          getAngle = _this$props4.getAngle,\n          getPixelOffset = _this$props4.getPixelOffset,\n          getBackgroundColor = _this$props4.getBackgroundColor,\n          getBorderColor = _this$props4.getBorderColor,\n          getBorderWidth = _this$props4.getBorderWidth,\n          backgroundPadding = _this$props4.backgroundPadding,\n          background = _this$props4.background,\n          billboard = _this$props4.billboard,\n          fontSettings = _this$props4.fontSettings,\n          outlineWidth = _this$props4.outlineWidth,\n          outlineColor = _this$props4.outlineColor,\n          sizeScale = _this$props4.sizeScale,\n          sizeUnits = _this$props4.sizeUnits,\n          sizeMinPixels = _this$props4.sizeMinPixels,\n          sizeMaxPixels = _this$props4.sizeMaxPixels,\n          transitions = _this$props4.transitions,\n          updateTriggers = _this$props4.updateTriggers;\n      var CharactersLayerClass = this.getSubLayerClass('characters', MultiIconLayer);\n      var BackgroundLayerClass = this.getSubLayerClass('background', TextBackgroundLayer);\n      return [background && new BackgroundLayerClass({\n        getFillColor: getBackgroundColor,\n        getLineColor: getBorderColor,\n        getLineWidth: getBorderWidth,\n        padding: backgroundPadding,\n        getPosition: getPosition,\n        getSize: getSize,\n        getAngle: getAngle,\n        getPixelOffset: getPixelOffset,\n        billboard: billboard,\n        sizeScale: sizeScale / this.state.fontAtlasManager.props.fontSize,\n        sizeUnits: sizeUnits,\n        sizeMinPixels: sizeMinPixels,\n        sizeMaxPixels: sizeMaxPixels,\n        transitions: transitions && {\n          getPosition: transitions.getPosition,\n          getAngle: transitions.getAngle,\n          getSize: transitions.getSize,\n          getFillColor: transitions.getBackgroundColor,\n          getLineColor: transitions.getBorderColor,\n          getLineWidth: transitions.getBorderWidth,\n          getPixelOffset: transitions.getPixelOffset\n        }\n      }, this.getSubLayerProps({\n        id: 'background',\n        updateTriggers: {\n          getPosition: updateTriggers.getPosition,\n          getAngle: updateTriggers.getAngle,\n          getSize: updateTriggers.getSize,\n          getFillColor: updateTriggers.getBackgroundColor,\n          getLineColor: updateTriggers.getBorderColor,\n          getLineWidth: updateTriggers.getBorderWidth,\n          getPixelOffset: updateTriggers.getPixelOffset,\n          getBoundingRect: {\n            getText: updateTriggers.getText,\n            getTextAnchor: updateTriggers.getTextAnchor,\n            getAlignmentBaseline: updateTriggers.getAlignmentBaseline,\n            styleVersion: styleVersion\n          }\n        }\n      }), {\n        data: data.attributes ? {\n          length: data.length,\n          attributes: data.attributes.background || {}\n        } : data,\n        _dataDiff: _dataDiff,\n        autoHighlight: false,\n        getBoundingRect: this.getBoundingRect.bind(this)\n      }), new CharactersLayerClass({\n        sdf: fontSettings.sdf,\n        smoothing: Number.isFinite(fontSettings.smoothing) ? fontSettings.smoothing : DEFAULT_FONT_SETTINGS.smoothing,\n        outlineWidth: outlineWidth,\n        outlineColor: outlineColor,\n        iconAtlas: texture,\n        iconMapping: mapping,\n        getPosition: getPosition,\n        getColor: getColor,\n        getSize: getSize,\n        getAngle: getAngle,\n        getPixelOffset: getPixelOffset,\n        billboard: billboard,\n        sizeScale: sizeScale * scale,\n        sizeUnits: sizeUnits,\n        sizeMinPixels: sizeMinPixels * scale,\n        sizeMaxPixels: sizeMaxPixels * scale,\n        transitions: transitions && {\n          getPosition: transitions.getPosition,\n          getAngle: transitions.getAngle,\n          getColor: transitions.getColor,\n          getSize: transitions.getSize,\n          getPixelOffset: transitions.getPixelOffset\n        }\n      }, this.getSubLayerProps({\n        id: 'characters',\n        updateTriggers: {\n          getIcon: updateTriggers.getText,\n          getPosition: updateTriggers.getPosition,\n          getAngle: updateTriggers.getAngle,\n          getColor: updateTriggers.getColor,\n          getSize: updateTriggers.getSize,\n          getPixelOffset: updateTriggers.getPixelOffset,\n          getIconOffsets: {\n            getText: updateTriggers.getText,\n            getTextAnchor: updateTriggers.getTextAnchor,\n            getAlignmentBaseline: updateTriggers.getAlignmentBaseline,\n            styleVersion: styleVersion\n          }\n        }\n      }), {\n        data: data,\n        _dataDiff: _dataDiff,\n        startIndices: startIndices,\n        numInstances: numInstances,\n        getIconOffsets: this.getIconOffsets.bind(this),\n        getIcon: getText\n      })];\n    }\n  }]);\n\n  return TextLayer;\n}(CompositeLayer);\n\nexport { TextLayer as default };\nTextLayer.layerName = 'TextLayer';\nTextLayer.defaultProps = defaultProps;","export default \"#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\\n\\nstruct AmbientLight {\\n vec3 color;\\n};\\n\\nstruct PointLight {\\n vec3 color;\\n vec3 position;\\n vec3 attenuation;\\n};\\n\\nstruct DirectionalLight {\\n  vec3 color;\\n  vec3 direction;\\n};\\n\\nuniform AmbientLight lighting_uAmbientLight;\\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\\nuniform int lighting_uPointLightCount;\\nuniform int lighting_uDirectionalLightCount;\\n\\nuniform bool lighting_uEnabled;\\n\\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\\n  return pointLight.attenuation.x\\n       + pointLight.attenuation.y * distance\\n       + pointLight.attenuation.z * distance * distance;\\n}\\n\\n#endif\\n\";","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport lightingShader from './lights.glsl';\nvar INITIAL_MODULE_OPTIONS = {\n  lightSources: {}\n};\n\nfunction convertColor() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? [0, 0, 0] : _ref$color,\n      _ref$intensity = _ref.intensity,\n      intensity = _ref$intensity === void 0 ? 1.0 : _ref$intensity;\n\n  return color.map(function (component) {\n    return component * intensity / 255.0;\n  });\n}\n\nfunction getLightSourceUniforms(_ref2) {\n  var ambientLight = _ref2.ambientLight,\n      _ref2$pointLights = _ref2.pointLights,\n      pointLights = _ref2$pointLights === void 0 ? [] : _ref2$pointLights,\n      _ref2$directionalLigh = _ref2.directionalLights,\n      directionalLights = _ref2$directionalLigh === void 0 ? [] : _ref2$directionalLigh;\n  var lightSourceUniforms = {};\n\n  if (ambientLight) {\n    lightSourceUniforms['lighting_uAmbientLight.color'] = convertColor(ambientLight);\n  } else {\n    lightSourceUniforms['lighting_uAmbientLight.color'] = [0, 0, 0];\n  }\n\n  pointLights.forEach(function (pointLight, index) {\n    lightSourceUniforms[\"lighting_uPointLight[\".concat(index, \"].color\")] = convertColor(pointLight);\n    lightSourceUniforms[\"lighting_uPointLight[\".concat(index, \"].position\")] = pointLight.position;\n    lightSourceUniforms[\"lighting_uPointLight[\".concat(index, \"].attenuation\")] = pointLight.attenuation || [1, 0, 0];\n  });\n  lightSourceUniforms.lighting_uPointLightCount = pointLights.length;\n  directionalLights.forEach(function (directionalLight, index) {\n    lightSourceUniforms[\"lighting_uDirectionalLight[\".concat(index, \"].color\")] = convertColor(directionalLight);\n    lightSourceUniforms[\"lighting_uDirectionalLight[\".concat(index, \"].direction\")] = directionalLight.direction;\n  });\n  lightSourceUniforms.lighting_uDirectionalLightCount = directionalLights.length;\n  return lightSourceUniforms;\n}\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_MODULE_OPTIONS;\n\n  if ('lightSources' in opts) {\n    var _ref3 = opts.lightSources || {},\n        ambientLight = _ref3.ambientLight,\n        pointLights = _ref3.pointLights,\n        directionalLights = _ref3.directionalLights;\n\n    var hasLights = ambientLight || pointLights && pointLights.length > 0 || directionalLights && directionalLights.length > 0;\n\n    if (!hasLights) {\n      return {\n        lighting_uEnabled: false\n      };\n    }\n\n    return Object.assign({}, getLightSourceUniforms({\n      ambientLight: ambientLight,\n      pointLights: pointLights,\n      directionalLights: directionalLights\n    }), {\n      lighting_uEnabled: true\n    });\n  }\n\n  if ('lights' in opts) {\n    var lightSources = {\n      pointLights: [],\n      directionalLights: []\n    };\n\n    var _iterator = _createForOfIteratorHelper(opts.lights || []),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var light = _step.value;\n\n        switch (light.type) {\n          case 'ambient':\n            lightSources.ambientLight = light;\n            break;\n\n          case 'directional':\n            lightSources.directionalLights.push(light);\n            break;\n\n          case 'point':\n            lightSources.pointLights.push(light);\n            break;\n\n          default:\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return getUniforms({\n      lightSources: lightSources\n    });\n  }\n\n  return {};\n}\n\nexport var lights = {\n  name: 'lights',\n  vs: lightingShader,\n  fs: lightingShader,\n  getUniforms: getUniforms,\n  defines: {\n    MAX_LIGHTS: 3\n  }\n};","export default \"\\nuniform float lighting_uAmbient;\\nuniform float lighting_uDiffuse;\\nuniform float lighting_uShininess;\\nuniform vec3  lighting_uSpecularColor;\\n\\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\\n    vec3 halfway_direction = normalize(light_direction + view_direction);\\n    float lambertian = dot(light_direction, normal_worldspace);\\n    float specular = 0.0;\\n    if (lambertian > 0.0) {\\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\\n      specular = pow(specular_angle, lighting_uShininess);\\n    }\\n    lambertian = max(lambertian, 0.0);\\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\\n}\\n\\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\\n  vec3 lightColor = surfaceColor;\\n\\n  if (lighting_uEnabled) {\\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\\n\\n    for (int i = 0; i < MAX_LIGHTS; i++) {\\n      if (i >= lighting_uPointLightCount) {\\n        break;\\n      }\\n      PointLight pointLight = lighting_uPointLight[i];\\n      vec3 light_position_worldspace = pointLight.position;\\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\\n    }\\n\\n    for (int i = 0; i < MAX_LIGHTS; i++) {\\n      if (i >= lighting_uDirectionalLightCount) {\\n        break;\\n      }\\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\\n    }\\n  }\\n  return lightColor;\\n}\\n\\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\\n  vec3 lightColor = vec3(0, 0, 0);\\n  vec3 surfaceColor = vec3(0, 0, 0);\\n\\n  if (lighting_uEnabled) {\\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\\n\\n    for (int i = 0; i < MAX_LIGHTS; i++) {\\n      if (i >= lighting_uPointLightCount) {\\n        break;\\n      }\\n      PointLight pointLight = lighting_uPointLight[i];\\n      vec3 light_position_worldspace = pointLight.position;\\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\\n    }\\n\\n    for (int i = 0; i < MAX_LIGHTS; i++) {\\n      if (i >= lighting_uDirectionalLightCount) {\\n        break;\\n      }\\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\\n    }\\n  }\\n  return lightColor;\\n}\\n\";","import { lights } from '../lights/lights';\nimport lightingShader from './phong-lighting.glsl';\nvar INITIAL_MODULE_OPTIONS = {};\n\nfunction getMaterialUniforms(material) {\n  var _material$ambient = material.ambient,\n      ambient = _material$ambient === void 0 ? 0.35 : _material$ambient,\n      _material$diffuse = material.diffuse,\n      diffuse = _material$diffuse === void 0 ? 0.6 : _material$diffuse,\n      _material$shininess = material.shininess,\n      shininess = _material$shininess === void 0 ? 32 : _material$shininess,\n      _material$specularCol = material.specularColor,\n      specularColor = _material$specularCol === void 0 ? [30, 30, 30] : _material$specularCol;\n  return {\n    lighting_uAmbient: ambient,\n    lighting_uDiffuse: diffuse,\n    lighting_uShininess: shininess,\n    lighting_uSpecularColor: specularColor.map(function (x) {\n      return x / 255;\n    })\n  };\n}\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_MODULE_OPTIONS;\n\n  if (!('material' in opts)) {\n    return {};\n  }\n\n  var material = opts.material;\n\n  if (!material) {\n    return {\n      lighting_uEnabled: false\n    };\n  }\n\n  return getMaterialUniforms(material);\n}\n\nexport var gouraudLighting = {\n  name: 'gouraud-lighting',\n  dependencies: [lights],\n  vs: lightingShader,\n  defines: {\n    LIGHTING_VERTEX: 1\n  },\n  getUniforms: getUniforms\n};\nexport var phongLighting = {\n  name: 'phong-lighting',\n  dependencies: [lights],\n  fs: lightingShader,\n  defines: {\n    LIGHTING_FRAGMENT: 1\n  },\n  getUniforms: getUniforms\n};","import _slicedToArray from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport earcut from 'earcut';\nimport { modifyPolygonWindingDirection, WINDING } from '@math.gl/polygon';\nvar OUTER_POLYGON_WINDING = WINDING.CLOCKWISE;\nvar HOLE_POLYGON_WINDING = WINDING.COUNTER_CLOCKWISE;\nvar windingOptions = {\n  isClosed: true\n};\n\nfunction validate(polygon) {\n  polygon = polygon && polygon.positions || polygon;\n\n  if (!Array.isArray(polygon) && !ArrayBuffer.isView(polygon)) {\n    throw new Error('invalid polygon');\n  }\n}\n\nfunction isSimple(polygon) {\n  return polygon.length >= 1 && polygon[0].length >= 2 && Number.isFinite(polygon[0][0]);\n}\n\nfunction isNestedRingClosed(simplePolygon) {\n  var p0 = simplePolygon[0];\n  var p1 = simplePolygon[simplePolygon.length - 1];\n  return p0[0] === p1[0] && p0[1] === p1[1] && p0[2] === p1[2];\n}\n\nfunction isFlatRingClosed(positions, size, startIndex, endIndex) {\n  for (var i = 0; i < size; i++) {\n    if (positions[startIndex + i] !== positions[endIndex - size + i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction copyNestedRing(target, targetStartIndex, simplePolygon, size, windingDirection) {\n  var targetIndex = targetStartIndex;\n  var len = simplePolygon.length;\n\n  for (var i = 0; i < len; i++) {\n    for (var j = 0; j < size; j++) {\n      target[targetIndex++] = simplePolygon[i][j] || 0;\n    }\n  }\n\n  if (!isNestedRingClosed(simplePolygon)) {\n    for (var _j = 0; _j < size; _j++) {\n      target[targetIndex++] = simplePolygon[0][_j] || 0;\n    }\n  }\n\n  windingOptions.start = targetStartIndex;\n  windingOptions.end = targetIndex;\n  windingOptions.size = size;\n  modifyPolygonWindingDirection(target, windingDirection, windingOptions);\n  return targetIndex;\n}\n\nfunction copyFlatRing(target, targetStartIndex, positions, size) {\n  var srcStartIndex = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var srcEndIndex = arguments.length > 5 ? arguments[5] : undefined;\n  var windingDirection = arguments.length > 6 ? arguments[6] : undefined;\n  srcEndIndex = srcEndIndex || positions.length;\n  var srcLength = srcEndIndex - srcStartIndex;\n\n  if (srcLength <= 0) {\n    return targetStartIndex;\n  }\n\n  var targetIndex = targetStartIndex;\n\n  for (var i = 0; i < srcLength; i++) {\n    target[targetIndex++] = positions[srcStartIndex + i];\n  }\n\n  if (!isFlatRingClosed(positions, size, srcStartIndex, srcEndIndex)) {\n    for (var _i = 0; _i < size; _i++) {\n      target[targetIndex++] = positions[srcStartIndex + _i];\n    }\n  }\n\n  windingOptions.start = targetStartIndex;\n  windingOptions.end = targetIndex;\n  windingOptions.size = size;\n  modifyPolygonWindingDirection(target, windingDirection, windingOptions);\n  return targetIndex;\n}\n\nexport function normalize(polygon, positionSize) {\n  validate(polygon);\n  var positions = [];\n  var holeIndices = [];\n\n  if (polygon.positions) {\n    var _polygon = polygon,\n        srcPositions = _polygon.positions,\n        srcHoleIndices = _polygon.holeIndices;\n\n    if (srcHoleIndices) {\n      var targetIndex = 0;\n\n      for (var i = 0; i <= srcHoleIndices.length; i++) {\n        targetIndex = copyFlatRing(positions, targetIndex, srcPositions, positionSize, srcHoleIndices[i - 1], srcHoleIndices[i], i === 0 ? OUTER_POLYGON_WINDING : HOLE_POLYGON_WINDING);\n        holeIndices.push(targetIndex);\n      }\n\n      holeIndices.pop();\n      return {\n        positions: positions,\n        holeIndices: holeIndices\n      };\n    }\n\n    polygon = srcPositions;\n  }\n\n  if (Number.isFinite(polygon[0])) {\n    copyFlatRing(positions, 0, polygon, positionSize, 0, positions.length, OUTER_POLYGON_WINDING);\n    return positions;\n  }\n\n  if (!isSimple(polygon)) {\n    var _targetIndex = 0;\n\n    var _iterator = _createForOfIteratorHelper(polygon.entries()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _slicedToArray(_step.value, 2),\n            polygonIndex = _step$value[0],\n            simplePolygon = _step$value[1];\n\n        _targetIndex = copyNestedRing(positions, _targetIndex, simplePolygon, positionSize, polygonIndex === 0 ? OUTER_POLYGON_WINDING : HOLE_POLYGON_WINDING);\n        holeIndices.push(_targetIndex);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    holeIndices.pop();\n    return {\n      positions: positions,\n      holeIndices: holeIndices\n    };\n  }\n\n  copyNestedRing(positions, 0, polygon, positionSize, OUTER_POLYGON_WINDING);\n  return positions;\n}\nexport function getSurfaceIndices(normalizedPolygon, positionSize, preproject) {\n  var holeIndices = null;\n\n  if (normalizedPolygon.holeIndices) {\n    holeIndices = normalizedPolygon.holeIndices.map(function (positionIndex) {\n      return positionIndex / positionSize;\n    });\n  }\n\n  var positions = normalizedPolygon.positions || normalizedPolygon;\n\n  if (preproject) {\n    var n = positions.length;\n    positions = positions.slice();\n    var p = [];\n\n    for (var i = 0; i < n; i += positionSize) {\n      p[0] = positions[i];\n      p[1] = positions[i + 1];\n      var xy = preproject(p);\n      positions[i] = xy[0];\n      positions[i + 1] = xy[1];\n    }\n  }\n\n  return earcut(positions, holeIndices, positionSize);\n}","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as Polygon from './polygon';\nimport { Tesselator } from '@deck.gl/core';\nimport { cutPolygonByGrid, cutPolygonByMercatorBounds } from '@math.gl/polygon';\n\nvar PolygonTesselator = /*#__PURE__*/function (_Tesselator) {\n  _inherits(PolygonTesselator, _Tesselator);\n\n  var _super = _createSuper(PolygonTesselator);\n\n  function PolygonTesselator(opts) {\n    _classCallCheck(this, PolygonTesselator);\n\n    var fp64 = opts.fp64,\n        _opts$IndexType = opts.IndexType,\n        IndexType = _opts$IndexType === void 0 ? Uint32Array : _opts$IndexType;\n    return _super.call(this, _objectSpread(_objectSpread({}, opts), {}, {\n      attributes: {\n        positions: {\n          size: 3,\n          type: fp64 ? Float64Array : Float32Array\n        },\n        vertexValid: {\n          type: Uint8ClampedArray,\n          size: 1\n        },\n        indices: {\n          type: IndexType,\n          size: 1\n        }\n      }\n    }));\n  }\n\n  _createClass(PolygonTesselator, [{\n    key: \"get\",\n    value: function get(attributeName) {\n      var attributes = this.attributes;\n\n      if (attributeName === 'indices') {\n        return attributes.indices && attributes.indices.subarray(0, this.vertexCount);\n      }\n\n      return attributes[attributeName];\n    }\n  }, {\n    key: \"updateGeometry\",\n    value: function updateGeometry(opts) {\n      _get(_getPrototypeOf(PolygonTesselator.prototype), \"updateGeometry\", this).call(this, opts);\n\n      var externalIndices = this.buffers.indices;\n\n      if (externalIndices) {\n        this.vertexCount = (externalIndices.value || externalIndices).length;\n      }\n    }\n  }, {\n    key: \"normalizeGeometry\",\n    value: function normalizeGeometry(polygon) {\n      if (this.normalize) {\n        polygon = Polygon.normalize(polygon, this.positionSize);\n\n        if (this.opts.resolution) {\n          return cutPolygonByGrid(polygon.positions || polygon, polygon.holeIndices, {\n            size: this.positionSize,\n            gridResolution: this.opts.resolution,\n            edgeTypes: true\n          });\n        }\n\n        if (this.opts.wrapLongitude) {\n          return cutPolygonByMercatorBounds(polygon.positions || polygon, polygon.holeIndices, {\n            size: this.positionSize,\n            maxLatitude: 86,\n            edgeTypes: true\n          });\n        }\n      }\n\n      return polygon;\n    }\n  }, {\n    key: \"getGeometrySize\",\n    value: function getGeometrySize(polygon) {\n      if (Array.isArray(polygon) && !Number.isFinite(polygon[0])) {\n        var size = 0;\n\n        var _iterator = _createForOfIteratorHelper(polygon),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var subPolygon = _step.value;\n            size += this.getGeometrySize(subPolygon);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return size;\n      }\n\n      return (polygon.positions || polygon).length / this.positionSize;\n    }\n  }, {\n    key: \"getGeometryFromBuffer\",\n    value: function getGeometryFromBuffer(buffer) {\n      if (this.normalize || !this.buffers.indices) {\n        return _get(_getPrototypeOf(PolygonTesselator.prototype), \"getGeometryFromBuffer\", this).call(this, buffer);\n      }\n\n      return function () {\n        return null;\n      };\n    }\n  }, {\n    key: \"updateGeometryAttributes\",\n    value: function updateGeometryAttributes(polygon, context) {\n      if (Array.isArray(polygon) && !Number.isFinite(polygon[0])) {\n        var _iterator2 = _createForOfIteratorHelper(polygon),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var subPolygon = _step2.value;\n            var geometrySize = this.getGeometrySize(subPolygon);\n            context.geometrySize = geometrySize;\n            this.updateGeometryAttributes(subPolygon, context);\n            context.vertexStart += geometrySize;\n            context.indexStart = this.indexStarts[context.geometryIndex + 1];\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } else {\n        this._updateIndices(polygon, context);\n\n        this._updatePositions(polygon, context);\n\n        this._updateVertexValid(polygon, context);\n      }\n    }\n  }, {\n    key: \"_updateIndices\",\n    value: function _updateIndices(polygon, _ref) {\n      var geometryIndex = _ref.geometryIndex,\n          offset = _ref.vertexStart,\n          indexStart = _ref.indexStart;\n      var attributes = this.attributes,\n          indexStarts = this.indexStarts,\n          typedArrayManager = this.typedArrayManager;\n      var target = attributes.indices;\n\n      if (!target) {\n        return;\n      }\n\n      var i = indexStart;\n      var indices = Polygon.getSurfaceIndices(polygon, this.positionSize, this.opts.preproject);\n      target = typedArrayManager.allocate(target, indexStart + indices.length, {\n        copy: true\n      });\n\n      for (var j = 0; j < indices.length; j++) {\n        target[i++] = indices[j] + offset;\n      }\n\n      indexStarts[geometryIndex + 1] = indexStart + indices.length;\n      attributes.indices = target;\n    }\n  }, {\n    key: \"_updatePositions\",\n    value: function _updatePositions(polygon, _ref2) {\n      var vertexStart = _ref2.vertexStart,\n          geometrySize = _ref2.geometrySize;\n      var positions = this.attributes.positions,\n          positionSize = this.positionSize;\n\n      if (!positions) {\n        return;\n      }\n\n      var polygonPositions = polygon.positions || polygon;\n\n      for (var i = vertexStart, j = 0; j < geometrySize; i++, j++) {\n        var x = polygonPositions[j * positionSize];\n        var y = polygonPositions[j * positionSize + 1];\n        var z = positionSize > 2 ? polygonPositions[j * positionSize + 2] : 0;\n        positions[i * 3] = x;\n        positions[i * 3 + 1] = y;\n        positions[i * 3 + 2] = z;\n      }\n    }\n  }, {\n    key: \"_updateVertexValid\",\n    value: function _updateVertexValid(polygon, _ref3) {\n      var vertexStart = _ref3.vertexStart,\n          geometrySize = _ref3.geometrySize;\n      var vertexValid = this.attributes.vertexValid,\n          positionSize = this.positionSize;\n      var holeIndices = polygon && polygon.holeIndices;\n\n      if (polygon && polygon.edgeTypes) {\n        vertexValid.set(polygon.edgeTypes, vertexStart);\n      } else {\n        vertexValid.fill(1, vertexStart, vertexStart + geometrySize);\n      }\n\n      if (holeIndices) {\n        for (var j = 0; j < holeIndices.length; j++) {\n          vertexValid[vertexStart + holeIndices[j] / positionSize - 1] = 0;\n        }\n      }\n\n      vertexValid[vertexStart + geometrySize - 1] = 0;\n    }\n  }]);\n\n  return PolygonTesselator;\n}(Tesselator);\n\nexport { PolygonTesselator as default };","export default \"\\nattribute vec2 vertexPositions;\\nattribute float vertexValid;\\n\\nuniform bool extruded;\\nuniform bool isWireframe;\\nuniform float elevationScale;\\nuniform float opacity;\\n\\nvarying vec4 vColor;\\n\\nstruct PolygonProps {\\n  vec4 fillColors;\\n  vec4 lineColors;\\n  vec3 positions;\\n  vec3 nextPositions;\\n  vec3 pickingColors;\\n  vec3 positions64Low;\\n  vec3 nextPositions64Low;\\n  float elevations;\\n};\\n\\nvec3 project_offset_normal(vec3 vector) {\\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\\n  }\\n  return project_normal(vector);\\n}\\n\\nvoid calculatePosition(PolygonProps props) {\\n#ifdef IS_SIDE_VERTEX\\n  if(vertexValid < 0.5){\\n    gl_Position = vec4(0.);\\n    return;\\n  }\\n#endif\\n\\n  vec3 pos;\\n  vec3 pos64Low;\\n  vec3 normal;\\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\\n\\n  geometry.worldPosition = props.positions;\\n  geometry.worldPositionAlt = props.nextPositions;\\n  geometry.pickingColor = props.pickingColors;\\n\\n#ifdef IS_SIDE_VERTEX\\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\\n#else\\n  pos = props.positions;\\n  pos64Low = props.positions64Low;\\n#endif\\n\\n  if (extruded) {\\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\\n\\n#ifdef IS_SIDE_VERTEX\\n    normal = vec3(\\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\\n      0.0);\\n    normal = project_offset_normal(normal);\\n#else\\n    normal = vec3(0.0, 0.0, 1.0);\\n#endif\\n    geometry.normal = normal;\\n  }\\n\\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\\n\\n  if (extruded) {\\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\\n    vColor = vec4(lightColor, colors.a * opacity);\\n  } else {\\n    vColor = vec4(colors.rgb, colors.a * opacity);\\n  }\\n  DECKGL_FILTER_COLOR(vColor, geometry);\\n}\\n\";","import main from './solid-polygon-layer-vertex-main.glsl';\nexport default \"#define SHADER_NAME solid-polygon-layer-vertex-shader\\n\\nattribute vec3 positions;\\nattribute vec3 positions64Low;\\nattribute float elevations;\\nattribute vec4 fillColors;\\nattribute vec4 lineColors;\\nattribute vec3 pickingColors;\\n\\n\".concat(main, \"\\n\\nvoid main(void) {\\n  PolygonProps props;\\n\\n  props.positions = positions;\\n  props.positions64Low = positions64Low;\\n  props.elevations = elevations;\\n  props.fillColors = fillColors;\\n  props.lineColors = lineColors;\\n  props.pickingColors = pickingColors;\\n\\n  calculatePosition(props);\\n}\\n\");","import main from './solid-polygon-layer-vertex-main.glsl';\nexport default \"#define SHADER_NAME solid-polygon-layer-vertex-shader-side\\n#define IS_SIDE_VERTEX\\n\\n\\nattribute vec3 instancePositions;\\nattribute vec3 nextPositions;\\nattribute vec3 instancePositions64Low;\\nattribute vec3 nextPositions64Low;\\nattribute float instanceElevations;\\nattribute vec4 instanceFillColors;\\nattribute vec4 instanceLineColors;\\nattribute vec3 instancePickingColors;\\n\\n\".concat(main, \"\\n\\nvoid main(void) {\\n  PolygonProps props;\\n\\n  #if RING_WINDING_ORDER_CW == 1\\n    props.positions = instancePositions;\\n    props.positions64Low = instancePositions64Low;\\n    props.nextPositions = nextPositions;\\n    props.nextPositions64Low = nextPositions64Low;\\n  #else\\n    props.positions = nextPositions;\\n    props.positions64Low = nextPositions64Low;\\n    props.nextPositions = instancePositions;\\n    props.nextPositions64Low = instancePositions64Low;\\n  #endif\\n  props.elevations = instanceElevations;\\n  props.fillColors = instanceFillColors;\\n  props.lineColors = instanceLineColors;\\n  props.pickingColors = instancePickingColors;\\n\\n  calculatePosition(props);\\n}\\n\");","import _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Layer, project32, gouraudLighting, picking, COORDINATE_SYSTEM } from '@deck.gl/core';\nimport { Model, Geometry, hasFeatures, FEATURES } from '@luma.gl/core';\nimport PolygonTesselator from './polygon-tesselator';\nimport vsTop from './solid-polygon-layer-vertex-top.glsl';\nimport vsSide from './solid-polygon-layer-vertex-side.glsl';\nimport fs from './solid-polygon-layer-fragment.glsl';\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar defaultProps = {\n  filled: true,\n  extruded: false,\n  wireframe: false,\n  _normalize: true,\n  _windingOrder: 'CW',\n  elevationScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  getPolygon: {\n    type: 'accessor',\n    value: function value(f) {\n      return f.polygon;\n    }\n  },\n  getElevation: {\n    type: 'accessor',\n    value: 1000\n  },\n  getFillColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getLineColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  material: true\n};\nvar ATTRIBUTE_TRANSITION = {\n  enter: function enter(value, chunk) {\n    return chunk.length ? chunk.subarray(chunk.length - value.length) : value;\n  }\n};\n\nvar SolidPolygonLayer = /*#__PURE__*/function (_Layer) {\n  _inherits(SolidPolygonLayer, _Layer);\n\n  var _super = _createSuper(SolidPolygonLayer);\n\n  function SolidPolygonLayer() {\n    _classCallCheck(this, SolidPolygonLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SolidPolygonLayer, [{\n    key: \"getShaders\",\n    value: function getShaders(type) {\n      return _get(_getPrototypeOf(SolidPolygonLayer.prototype), \"getShaders\", this).call(this, {\n        vs: type === 'top' ? vsTop : vsSide,\n        fs: fs,\n        defines: {\n          RING_WINDING_ORDER_CW: !this.props._normalize && this.props._windingOrder === 'CCW' ? 0 : 1\n        },\n        modules: [project32, gouraudLighting, picking]\n      });\n    }\n  }, {\n    key: \"wrapLongitude\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      var _this$context = this.context,\n          gl = _this$context.gl,\n          viewport = _this$context.viewport;\n      var coordinateSystem = this.props.coordinateSystem;\n\n      if (viewport.isGeospatial && coordinateSystem === COORDINATE_SYSTEM.DEFAULT) {\n        coordinateSystem = COORDINATE_SYSTEM.LNGLAT;\n      }\n\n      this.setState({\n        numInstances: 0,\n        polygonTesselator: new PolygonTesselator({\n          preproject: coordinateSystem === COORDINATE_SYSTEM.LNGLAT && viewport.projectFlat,\n          fp64: this.use64bitPositions(),\n          IndexType: !gl || hasFeatures(gl, FEATURES.ELEMENT_INDEX_UINT32) ? Uint32Array : Uint16Array\n        })\n      });\n      var attributeManager = this.getAttributeManager();\n      var noAlloc = true;\n      attributeManager.remove(['instancePickingColors']);\n      attributeManager.add({\n        indices: {\n          size: 1,\n          isIndexed: true,\n          update: this.calculateIndices,\n          noAlloc: noAlloc\n        },\n        positions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: ATTRIBUTE_TRANSITION,\n          accessor: 'getPolygon',\n          update: this.calculatePositions,\n          noAlloc: noAlloc,\n          shaderAttributes: {\n            positions: {\n              vertexOffset: 0,\n              divisor: 0\n            },\n            instancePositions: {\n              vertexOffset: 0,\n              divisor: 1\n            },\n            nextPositions: {\n              vertexOffset: 1,\n              divisor: 1\n            }\n          }\n        },\n        vertexValid: {\n          size: 1,\n          divisor: 1,\n          type: 5121,\n          update: this.calculateVertexValid,\n          noAlloc: noAlloc\n        },\n        elevations: {\n          size: 1,\n          transition: ATTRIBUTE_TRANSITION,\n          accessor: 'getElevation',\n          shaderAttributes: {\n            elevations: {\n              divisor: 0\n            },\n            instanceElevations: {\n              divisor: 1\n            }\n          }\n        },\n        fillColors: {\n          alias: 'colors',\n          size: this.props.colorFormat.length,\n          type: 5121,\n          normalized: true,\n          transition: ATTRIBUTE_TRANSITION,\n          accessor: 'getFillColor',\n          defaultValue: DEFAULT_COLOR,\n          shaderAttributes: {\n            fillColors: {\n              divisor: 0\n            },\n            instanceFillColors: {\n              divisor: 1\n            }\n          }\n        },\n        lineColors: {\n          alias: 'colors',\n          size: this.props.colorFormat.length,\n          type: 5121,\n          normalized: true,\n          transition: ATTRIBUTE_TRANSITION,\n          accessor: 'getLineColor',\n          defaultValue: DEFAULT_COLOR,\n          shaderAttributes: {\n            lineColors: {\n              divisor: 0\n            },\n            instanceLineColors: {\n              divisor: 1\n            }\n          }\n        },\n        pickingColors: {\n          size: 3,\n          type: 5121,\n          accessor: function accessor(object, _ref) {\n            var index = _ref.index,\n                value = _ref.target;\n            return _this.encodePickingColor(object && object.__source ? object.__source.index : index, value);\n          },\n          shaderAttributes: {\n            pickingColors: {\n              divisor: 0\n            },\n            instancePickingColors: {\n              divisor: 1\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(params) {\n      var info = _get(_getPrototypeOf(SolidPolygonLayer.prototype), \"getPickingInfo\", this).call(this, params);\n\n      var index = info.index;\n      var data = this.props.data;\n\n      if (data[0] && data[0].__source) {\n        info.object = data.find(function (d) {\n          return d.__source.index === index;\n        });\n      }\n\n      return info;\n    }\n  }, {\n    key: \"disablePickingIndex\",\n    value: function disablePickingIndex(objectIndex) {\n      var data = this.props.data;\n\n      if (data[0] && data[0].__source) {\n        for (var i = 0; i < data.length; i++) {\n          if (data[i].__source.index === objectIndex) {\n            this._disablePickingIndex(i);\n          }\n        }\n      } else {\n        this._disablePickingIndex(objectIndex);\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var _this$props = this.props,\n          extruded = _this$props.extruded,\n          filled = _this$props.filled,\n          wireframe = _this$props.wireframe,\n          elevationScale = _this$props.elevationScale;\n      var _this$state = this.state,\n          topModel = _this$state.topModel,\n          sideModel = _this$state.sideModel,\n          polygonTesselator = _this$state.polygonTesselator;\n\n      var renderUniforms = _objectSpread(_objectSpread({}, uniforms), {}, {\n        extruded: Boolean(extruded),\n        elevationScale: elevationScale\n      });\n\n      if (sideModel) {\n        sideModel.setInstanceCount(polygonTesselator.instanceCount - 1);\n        sideModel.setUniforms(renderUniforms);\n\n        if (wireframe) {\n          sideModel.setDrawMode(3);\n          sideModel.setUniforms({\n            isWireframe: true\n          }).draw();\n        }\n\n        if (filled) {\n          sideModel.setDrawMode(6);\n          sideModel.setUniforms({\n            isWireframe: false\n          }).draw();\n        }\n      }\n\n      if (topModel) {\n        topModel.setVertexCount(polygonTesselator.vertexCount);\n        topModel.setUniforms(renderUniforms).draw();\n      }\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(updateParams) {\n      _get(_getPrototypeOf(SolidPolygonLayer.prototype), \"updateState\", this).call(this, updateParams);\n\n      this.updateGeometry(updateParams);\n      var props = updateParams.props,\n          oldProps = updateParams.oldProps,\n          changeFlags = updateParams.changeFlags;\n      var attributeManager = this.getAttributeManager();\n      var regenerateModels = changeFlags.extensionsChanged || props.filled !== oldProps.filled || props.extruded !== oldProps.extruded;\n\n      if (regenerateModels) {\n        var _this$state$models;\n\n        (_this$state$models = this.state.models) === null || _this$state$models === void 0 ? void 0 : _this$state$models.forEach(function (model) {\n          return model.delete();\n        });\n        this.setState(this._getModels(this.context.gl));\n        attributeManager.invalidateAll();\n      }\n    }\n  }, {\n    key: \"updateGeometry\",\n    value: function updateGeometry(_ref3) {\n      var props = _ref3.props,\n          oldProps = _ref3.oldProps,\n          changeFlags = _ref3.changeFlags;\n      var geometryConfigChanged = changeFlags.dataChanged || changeFlags.updateTriggersChanged && (changeFlags.updateTriggersChanged.all || changeFlags.updateTriggersChanged.getPolygon);\n\n      if (geometryConfigChanged) {\n        var polygonTesselator = this.state.polygonTesselator;\n        var buffers = props.data.attributes || {};\n        polygonTesselator.updateGeometry({\n          data: props.data,\n          normalize: props._normalize,\n          geometryBuffer: buffers.getPolygon,\n          buffers: buffers,\n          getGeometry: props.getPolygon,\n          positionFormat: props.positionFormat,\n          wrapLongitude: props.wrapLongitude,\n          resolution: this.context.viewport.resolution,\n          fp64: this.use64bitPositions(),\n          dataChanged: changeFlags.dataChanged\n        });\n        this.setState({\n          numInstances: polygonTesselator.instanceCount,\n          startIndices: polygonTesselator.vertexStarts\n        });\n\n        if (!changeFlags.dataChanged) {\n          this.getAttributeManager().invalidateAll();\n        }\n      }\n    }\n  }, {\n    key: \"_getModels\",\n    value: function _getModels(gl) {\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          filled = _this$props2.filled,\n          extruded = _this$props2.extruded;\n      var topModel;\n      var sideModel;\n\n      if (filled) {\n        var shaders = this.getShaders('top');\n        shaders.defines.NON_INSTANCED_MODEL = 1;\n        topModel = new Model(gl, _objectSpread(_objectSpread({}, shaders), {}, {\n          id: \"\".concat(id, \"-top\"),\n          drawMode: 4,\n          attributes: {\n            vertexPositions: new Float32Array([0, 1])\n          },\n          uniforms: {\n            isWireframe: false,\n            isSideVertex: false\n          },\n          vertexCount: 0,\n          isIndexed: true\n        }));\n      }\n\n      if (extruded) {\n        sideModel = new Model(gl, _objectSpread(_objectSpread({}, this.getShaders('side')), {}, {\n          id: \"\".concat(id, \"-side\"),\n          geometry: new Geometry({\n            drawMode: 1,\n            vertexCount: 4,\n            attributes: {\n              vertexPositions: {\n                size: 2,\n                value: new Float32Array([1, 0, 0, 0, 0, 1, 1, 1])\n              }\n            }\n          }),\n          instanceCount: 0,\n          isInstanced: 1\n        }));\n        sideModel.userData.excludeAttributes = {\n          indices: true\n        };\n      }\n\n      return {\n        models: [sideModel, topModel].filter(Boolean),\n        topModel: topModel,\n        sideModel: sideModel\n      };\n    }\n  }, {\n    key: \"calculateIndices\",\n    value: function calculateIndices(attribute) {\n      var polygonTesselator = this.state.polygonTesselator;\n      attribute.startIndices = polygonTesselator.indexStarts;\n      attribute.value = polygonTesselator.get('indices');\n    }\n  }, {\n    key: \"calculatePositions\",\n    value: function calculatePositions(attribute) {\n      var polygonTesselator = this.state.polygonTesselator;\n      attribute.startIndices = polygonTesselator.vertexStarts;\n      attribute.value = polygonTesselator.get('positions');\n    }\n  }, {\n    key: \"calculateVertexValid\",\n    value: function calculateVertexValid(attribute) {\n      attribute.value = this.state.polygonTesselator.get('vertexValid');\n    }\n  }]);\n\n  return SolidPolygonLayer;\n}(Layer);\n\nexport { SolidPolygonLayer as default };\nSolidPolygonLayer.layerName = 'SolidPolygonLayer';\nSolidPolygonLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME solid-polygon-layer-fragment-shader\\n\\nprecision highp float;\\n\\nvarying vec4 vColor;\\n\\nvoid main(void) {\\n  gl_FragColor = vColor;\\n\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","import IconLayer from '../icon-layer/icon-layer';\nimport ScatterplotLayer from '../scatterplot-layer/scatterplot-layer';\nimport TextLayer from '../text-layer/text-layer';\nimport PathLayer from '../path-layer/path-layer';\nimport SolidPolygonLayer from '../solid-polygon-layer/solid-polygon-layer';\nexport var POINT_LAYER = {\n  circle: {\n    type: ScatterplotLayer,\n    props: {\n      filled: 'filled',\n      stroked: 'stroked',\n      lineWidthMaxPixels: 'lineWidthMaxPixels',\n      lineWidthMinPixels: 'lineWidthMinPixels',\n      lineWidthScale: 'lineWidthScale',\n      lineWidthUnits: 'lineWidthUnits',\n      pointRadiusMaxPixels: 'radiusMaxPixels',\n      pointRadiusMinPixels: 'radiusMinPixels',\n      pointRadiusScale: 'radiusScale',\n      pointRadiusUnits: 'radiusUnits',\n      pointAntialiasing: 'antialiasing',\n      pointBillboard: 'billboard',\n      getFillColor: 'getFillColor',\n      getLineColor: 'getLineColor',\n      getLineWidth: 'getLineWidth',\n      getPointRadius: 'getRadius'\n    }\n  },\n  icon: {\n    type: IconLayer,\n    props: {\n      iconAtlas: 'iconAtlas',\n      iconMapping: 'iconMapping',\n      iconSizeMaxPixels: 'sizeMaxPixels',\n      iconSizeMinPixels: 'sizeMinPixels',\n      iconSizeScale: 'sizeScale',\n      iconSizeUnits: 'sizeUnits',\n      iconAlphaCutoff: 'alphaCutoff',\n      iconBillboard: 'billboard',\n      getIcon: 'getIcon',\n      getIconAngle: 'getAngle',\n      getIconColor: 'getColor',\n      getIconPixelOffset: 'getPixelOffset',\n      getIconSize: 'getSize'\n    }\n  },\n  text: {\n    type: TextLayer,\n    props: {\n      textSizeMaxPixels: 'sizeMaxPixels',\n      textSizeMinPixels: 'sizeMinPixels',\n      textSizeScale: 'sizeScale',\n      textSizeUnits: 'sizeUnits',\n      textBackground: 'background',\n      textBackgroundPadding: 'backgroundPadding',\n      textFontFamily: 'fontFamily',\n      textFontWeight: 'fontWeight',\n      textLineHeight: 'lineHeight',\n      textMaxWidth: 'maxWidth',\n      textOutlineColor: 'outlineColor',\n      textOutlineWidth: 'outlineWidth',\n      textWordBreak: 'wordBreak',\n      textCharacterSet: 'characterSet',\n      textBillboard: 'billboard',\n      textFontSettings: 'fontSettings',\n      getText: 'getText',\n      getTextAngle: 'getAngle',\n      getTextColor: 'getColor',\n      getTextPixelOffset: 'getPixelOffset',\n      getTextSize: 'getSize',\n      getTextAnchor: 'getTextAnchor',\n      getTextAlignmentBaseline: 'getAlignmentBaseline',\n      getTextBackgroundColor: 'getBackgroundColor',\n      getTextBorderColor: 'getBorderColor',\n      getTextBorderWidth: 'getBorderWidth'\n    }\n  }\n};\nexport var LINE_LAYER = {\n  type: PathLayer,\n  props: {\n    lineWidthUnits: 'widthUnits',\n    lineWidthScale: 'widthScale',\n    lineWidthMinPixels: 'widthMinPixels',\n    lineWidthMaxPixels: 'widthMaxPixels',\n    lineJointRounded: 'jointRounded',\n    lineCapRounded: 'capRounded',\n    lineMiterLimit: 'miterLimit',\n    lineBillboard: 'billboard',\n    getLineColor: 'getColor',\n    getLineWidth: 'getWidth'\n  }\n};\nexport var POLYGON_LAYER = {\n  type: SolidPolygonLayer,\n  props: {\n    extruded: 'extruded',\n    filled: 'filled',\n    wireframe: 'wireframe',\n    elevationScale: 'elevationScale',\n    material: 'material',\n    getElevation: 'getElevation',\n    getFillColor: 'getFillColor',\n    getLineColor: 'getLineColor'\n  }\n};\nexport function getDefaultProps(_ref) {\n  var type = _ref.type,\n      props = _ref.props;\n  var result = {};\n\n  for (var key in props) {\n    result[key] = type.defaultProps[props[key]];\n  }\n\n  return result;\n}\nexport function forwardProps(layer, mapping) {\n  var _layer$props = layer.props,\n      transitions = _layer$props.transitions,\n      updateTriggers = _layer$props.updateTriggers;\n  var result = {\n    updateTriggers: {},\n    transitions: transitions && {\n      getPosition: transitions.geometry\n    }\n  };\n\n  for (var sourceKey in mapping) {\n    var targetKey = mapping[sourceKey];\n    var value = layer.props[sourceKey];\n\n    if (sourceKey.startsWith('get')) {\n      value = layer.getSubLayerAccessor(value);\n      result.updateTriggers[targetKey] = updateTriggers[sourceKey];\n\n      if (transitions) {\n        result.transitions[targetKey] = transitions[sourceKey];\n      }\n    }\n\n    result[targetKey] = value;\n  }\n\n  return result;\n}","import { log } from '@deck.gl/core';\nexport function getGeojsonFeatures(geojson) {\n  if (Array.isArray(geojson)) {\n    return geojson;\n  }\n\n  log.assert(geojson.type, 'GeoJSON does not have type');\n\n  switch (geojson.type) {\n    case 'Feature':\n      return [geojson];\n\n    case 'FeatureCollection':\n      log.assert(Array.isArray(geojson.features), 'GeoJSON does not have features array');\n      return geojson.features;\n\n    default:\n      return [{\n        geometry: geojson\n      }];\n  }\n}\nexport function separateGeojsonFeatures(features, wrapFeature) {\n  var dataRange = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var separated = {\n    pointFeatures: [],\n    lineFeatures: [],\n    polygonFeatures: [],\n    polygonOutlineFeatures: []\n  };\n  var _dataRange$startRow = dataRange.startRow,\n      startRow = _dataRange$startRow === void 0 ? 0 : _dataRange$startRow,\n      _dataRange$endRow = dataRange.endRow,\n      endRow = _dataRange$endRow === void 0 ? features.length : _dataRange$endRow;\n\n  for (var featureIndex = startRow; featureIndex < endRow; featureIndex++) {\n    var feature = features[featureIndex];\n    log.assert(feature && feature.geometry, 'GeoJSON does not have geometry');\n    var geometry = feature.geometry;\n\n    if (geometry.type === 'GeometryCollection') {\n      log.assert(Array.isArray(geometry.geometries), 'GeoJSON does not have geometries array');\n      var geometries = geometry.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        var subGeometry = geometries[i];\n        separateGeometry(subGeometry, separated, wrapFeature, feature, featureIndex);\n      }\n    } else {\n      separateGeometry(geometry, separated, wrapFeature, feature, featureIndex);\n    }\n  }\n\n  return separated;\n}\n\nfunction separateGeometry(geometry, separated, wrapFeature, sourceFeature, sourceFeatureIndex) {\n  var type = geometry.type,\n      coordinates = geometry.coordinates;\n  var pointFeatures = separated.pointFeatures,\n      lineFeatures = separated.lineFeatures,\n      polygonFeatures = separated.polygonFeatures,\n      polygonOutlineFeatures = separated.polygonOutlineFeatures;\n\n  if (!validateGeometry(type, coordinates)) {\n    log.warn(\"\".concat(type, \" coordinates are malformed\"))();\n    return;\n  }\n\n  switch (type) {\n    case 'Point':\n      pointFeatures.push(wrapFeature({\n        geometry: geometry\n      }, sourceFeature, sourceFeatureIndex));\n      break;\n\n    case 'MultiPoint':\n      coordinates.forEach(function (point) {\n        pointFeatures.push(wrapFeature({\n          geometry: {\n            type: 'Point',\n            coordinates: point\n          }\n        }, sourceFeature, sourceFeatureIndex));\n      });\n      break;\n\n    case 'LineString':\n      lineFeatures.push(wrapFeature({\n        geometry: geometry\n      }, sourceFeature, sourceFeatureIndex));\n      break;\n\n    case 'MultiLineString':\n      coordinates.forEach(function (path) {\n        lineFeatures.push(wrapFeature({\n          geometry: {\n            type: 'LineString',\n            coordinates: path\n          }\n        }, sourceFeature, sourceFeatureIndex));\n      });\n      break;\n\n    case 'Polygon':\n      polygonFeatures.push(wrapFeature({\n        geometry: geometry\n      }, sourceFeature, sourceFeatureIndex));\n      coordinates.forEach(function (path) {\n        polygonOutlineFeatures.push(wrapFeature({\n          geometry: {\n            type: 'LineString',\n            coordinates: path\n          }\n        }, sourceFeature, sourceFeatureIndex));\n      });\n      break;\n\n    case 'MultiPolygon':\n      coordinates.forEach(function (polygon) {\n        polygonFeatures.push(wrapFeature({\n          geometry: {\n            type: 'Polygon',\n            coordinates: polygon\n          }\n        }, sourceFeature, sourceFeatureIndex));\n        polygon.forEach(function (path) {\n          polygonOutlineFeatures.push(wrapFeature({\n            geometry: {\n              type: 'LineString',\n              coordinates: path\n            }\n          }, sourceFeature, sourceFeatureIndex));\n        });\n      });\n      break;\n\n    default:\n  }\n}\n\nvar COORDINATE_NEST_LEVEL = {\n  Point: 1,\n  MultiPoint: 2,\n  LineString: 2,\n  MultiLineString: 3,\n  Polygon: 3,\n  MultiPolygon: 4\n};\nexport function validateGeometry(type, coordinates) {\n  var nestLevel = COORDINATE_NEST_LEVEL[type];\n  log.assert(nestLevel, \"Unknown GeoJSON type \".concat(type));\n\n  while (coordinates && --nestLevel > 0) {\n    coordinates = coordinates[0];\n  }\n\n  return coordinates && Number.isFinite(coordinates[0]);\n}","import { calculatePickingColors } from './geojson-binary';\n\nfunction createEmptyLayerProps() {\n  return {\n    points: {},\n    lines: {},\n    polygons: {},\n    polygonsOutline: {}\n  };\n}\n\nfunction getCoordinates(f) {\n  return f.geometry.coordinates;\n}\n\nexport function createLayerPropsFromFeatures(features, featuresDiff) {\n  var layerProps = createEmptyLayerProps();\n  var pointFeatures = features.pointFeatures,\n      lineFeatures = features.lineFeatures,\n      polygonFeatures = features.polygonFeatures,\n      polygonOutlineFeatures = features.polygonOutlineFeatures;\n  layerProps.points.data = pointFeatures;\n\n  layerProps.points._dataDiff = featuresDiff.pointFeatures && function () {\n    return featuresDiff.pointFeatures;\n  };\n\n  layerProps.points.getPosition = getCoordinates;\n  layerProps.lines.data = lineFeatures;\n\n  layerProps.lines._dataDiff = featuresDiff.lineFeatures && function () {\n    return featuresDiff.lineFeatures;\n  };\n\n  layerProps.lines.getPath = getCoordinates;\n  layerProps.polygons.data = polygonFeatures;\n\n  layerProps.polygons._dataDiff = featuresDiff.polygonFeatures && function () {\n    return featuresDiff.polygonFeatures;\n  };\n\n  layerProps.polygons.getPolygon = getCoordinates;\n  layerProps.polygonsOutline.data = polygonOutlineFeatures;\n\n  layerProps.polygonsOutline._dataDiff = featuresDiff.polygonOutlineFeatures && function () {\n    return featuresDiff.polygonOutlineFeatures;\n  };\n\n  layerProps.polygonsOutline.getPath = getCoordinates;\n  return layerProps;\n}\nexport function createLayerPropsFromBinary(geojsonBinary, encodePickingColor) {\n  var layerProps = createEmptyLayerProps();\n  var points = geojsonBinary.points,\n      lines = geojsonBinary.lines,\n      polygons = geojsonBinary.polygons;\n  var customPickingColors = calculatePickingColors(geojsonBinary, encodePickingColor);\n  layerProps.points.data = {\n    length: points.positions.value.length / points.positions.size,\n    attributes: {\n      getPosition: points.positions,\n      instancePickingColors: {\n        size: 3,\n        value: customPickingColors.points\n      }\n    },\n    properties: points.properties,\n    numericProps: points.numericProps,\n    featureIds: points.featureIds\n  };\n  layerProps.lines.data = {\n    length: lines.pathIndices.value.length - 1,\n    startIndices: lines.pathIndices.value,\n    attributes: {\n      getPath: lines.positions,\n      instancePickingColors: {\n        size: 3,\n        value: customPickingColors.lines\n      }\n    },\n    properties: lines.properties,\n    numericProps: lines.numericProps,\n    featureIds: lines.featureIds\n  };\n  layerProps.lines._pathType = 'open';\n  layerProps.polygons.data = {\n    length: polygons.polygonIndices.value.length - 1,\n    startIndices: polygons.polygonIndices.value,\n    attributes: {\n      getPolygon: polygons.positions,\n      pickingColors: {\n        size: 3,\n        value: customPickingColors.polygons\n      }\n    },\n    properties: polygons.properties,\n    numericProps: polygons.numericProps,\n    featureIds: polygons.featureIds\n  };\n  layerProps.polygons._normalize = false;\n\n  if (polygons.triangles) {\n    layerProps.polygons.data.attributes.indices = polygons.triangles.value;\n  }\n\n  layerProps.polygonsOutline.data = {\n    length: polygons.primitivePolygonIndices.value.length - 1,\n    startIndices: polygons.primitivePolygonIndices.value,\n    attributes: {\n      getPath: polygons.positions,\n      instancePickingColors: {\n        size: 3,\n        value: customPickingColors.polygons\n      }\n    },\n    properties: polygons.properties,\n    numericProps: polygons.numericProps,\n    featureIds: polygons.featureIds\n  };\n  layerProps.polygonsOutline._pathType = 'open';\n  return layerProps;\n}","import _classCallCheck from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/borsanrazvan/Documents/Personal/portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { CompositeLayer, log } from '@deck.gl/core';\nimport { replaceInRange } from '../utils';\nimport { binaryToFeatureForAccesor } from './geojson-binary';\nimport { POINT_LAYER, LINE_LAYER, POLYGON_LAYER, getDefaultProps, forwardProps } from './sub-layer-map';\nimport { getGeojsonFeatures, separateGeojsonFeatures } from './geojson';\nimport { createLayerPropsFromFeatures, createLayerPropsFromBinary } from './geojson-layer-props';\n\nvar defaultProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, getDefaultProps(POINT_LAYER.circle)), getDefaultProps(POINT_LAYER.icon)), getDefaultProps(POINT_LAYER.text)), getDefaultProps(LINE_LAYER)), getDefaultProps(POLYGON_LAYER)), {}, {\n  stroked: true,\n  filled: true,\n  extruded: false,\n  wireframe: false,\n  iconAtlas: {\n    type: 'object',\n    value: null\n  },\n  iconMapping: {\n    type: 'object',\n    value: {}\n  },\n  getIcon: {\n    type: 'accessor',\n    value: function value(f) {\n      return f.properties.icon;\n    }\n  },\n  getText: {\n    type: 'accessor',\n    value: function value(f) {\n      return f.properties.text;\n    }\n  },\n  pointType: 'circle',\n  getRadius: {\n    deprecatedFor: 'getPointRadius'\n  }\n});\n\nvar GeoJsonLayer = /*#__PURE__*/function (_CompositeLayer) {\n  _inherits(GeoJsonLayer, _CompositeLayer);\n\n  var _super = _createSuper(GeoJsonLayer);\n\n  function GeoJsonLayer() {\n    _classCallCheck(this, GeoJsonLayer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GeoJsonLayer, [{\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.state = {\n        layerProps: {},\n        features: {}\n      };\n\n      if (this.props.getLineDashArray) {\n        log.removed('getLineDashArray', 'PathStyleExtension')();\n      }\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          changeFlags = _ref.changeFlags;\n\n      if (!changeFlags.dataChanged) {\n        return;\n      }\n\n      var data = this.props.data;\n      var binary = data && 'points' in data && 'polygons' in data && 'lines' in data;\n      this.setState({\n        binary: binary\n      });\n\n      if (binary) {\n        this._updateStateBinary({\n          props: props,\n          changeFlags: changeFlags\n        });\n      } else {\n        this._updateStateJSON({\n          props: props,\n          changeFlags: changeFlags\n        });\n      }\n    }\n  }, {\n    key: \"_updateStateBinary\",\n    value: function _updateStateBinary(_ref2) {\n      var props = _ref2.props,\n          changeFlags = _ref2.changeFlags;\n      var layerProps = createLayerPropsFromBinary(props.data, this.encodePickingColor);\n      this.setState({\n        layerProps: layerProps\n      });\n    }\n  }, {\n    key: \"_updateStateJSON\",\n    value: function _updateStateJSON(_ref3) {\n      var props = _ref3.props,\n          changeFlags = _ref3.changeFlags;\n      var features = getGeojsonFeatures(props.data);\n      var wrapFeature = this.getSubLayerRow.bind(this);\n      var newFeatures = {};\n      var featuresDiff = {};\n\n      if (Array.isArray(changeFlags.dataChanged)) {\n        var oldFeatures = this.state.features;\n\n        for (var key in oldFeatures) {\n          newFeatures[key] = oldFeatures[key].slice();\n          featuresDiff[key] = [];\n        }\n\n        var _iterator = _createForOfIteratorHelper(changeFlags.dataChanged),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var dataRange = _step.value;\n            var partialFeatures = separateGeojsonFeatures(features, wrapFeature, dataRange);\n\n            for (var _key in oldFeatures) {\n              featuresDiff[_key].push(replaceInRange({\n                data: newFeatures[_key],\n                getIndex: function getIndex(f) {\n                  return f.__source.index;\n                },\n                dataRange: dataRange,\n                replace: partialFeatures[_key]\n              }));\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        newFeatures = separateGeojsonFeatures(features, wrapFeature);\n      }\n\n      var layerProps = createLayerPropsFromFeatures(newFeatures, featuresDiff);\n      this.setState({\n        features: newFeatures,\n        featuresDiff: featuresDiff,\n        layerProps: layerProps\n      });\n    }\n  }, {\n    key: \"_updateAutoHighlight\",\n    value: function _updateAutoHighlight(info) {\n      var pointLayerIdPrefix = \"\".concat(this.id, \"-points-\");\n      var sourceIsPoints = info.sourceLayer.id.startsWith(pointLayerIdPrefix);\n\n      var _iterator2 = _createForOfIteratorHelper(this.getSubLayers()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var layer = _step2.value;\n\n          if (layer.id.startsWith(pointLayerIdPrefix) === sourceIsPoints) {\n            layer.updateAutoHighlight(info);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"_renderPolygonLayer\",\n    value: function _renderPolygonLayer() {\n      var _this$props = this.props,\n          extruded = _this$props.extruded,\n          wireframe = _this$props.wireframe;\n      var layerProps = this.state.layerProps;\n      var id = 'polygons-fill';\n      var PolygonFillLayer = this.shouldRenderSubLayer(id, layerProps.polygons.data) && this.getSubLayerClass(id, POLYGON_LAYER.type);\n\n      if (PolygonFillLayer) {\n        var forwardedProps = forwardProps(this, POLYGON_LAYER.props);\n        var useLineColor = extruded && wireframe;\n\n        if (!useLineColor) {\n          delete forwardedProps.getLineColor;\n        }\n\n        forwardedProps.updateTriggers.lineColors = useLineColor;\n        return new PolygonFillLayer(forwardedProps, this.getSubLayerProps({\n          id: id,\n          updateTriggers: forwardedProps.updateTriggers\n        }), layerProps.polygons);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderLineLayers\",\n    value: function _renderLineLayers() {\n      var _this$props2 = this.props,\n          extruded = _this$props2.extruded,\n          stroked = _this$props2.stroked;\n      var layerProps = this.state.layerProps;\n      var polygonStrokeLayerId = 'polygons-stroke';\n      var lineStringsLayerId = 'linestrings';\n      var PolygonStrokeLayer = !extruded && stroked && this.shouldRenderSubLayer(polygonStrokeLayerId, layerProps.polygonsOutline.data) && this.getSubLayerClass(polygonStrokeLayerId, LINE_LAYER.type);\n      var LineStringsLayer = this.shouldRenderSubLayer(lineStringsLayerId, layerProps.lines.data) && this.getSubLayerClass(lineStringsLayerId, LINE_LAYER.type);\n\n      if (PolygonStrokeLayer || LineStringsLayer) {\n        var forwardedProps = forwardProps(this, LINE_LAYER.props);\n        return [PolygonStrokeLayer && new PolygonStrokeLayer(forwardedProps, this.getSubLayerProps({\n          id: polygonStrokeLayerId,\n          updateTriggers: forwardedProps.updateTriggers\n        }), layerProps.polygonsOutline), LineStringsLayer && new LineStringsLayer(forwardedProps, this.getSubLayerProps({\n          id: lineStringsLayerId,\n          updateTriggers: forwardedProps.updateTriggers\n        }), layerProps.lines)];\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderPointLayers\",\n    value: function _renderPointLayers() {\n      var pointType = this.props.pointType;\n      var _this$state = this.state,\n          layerProps = _this$state.layerProps,\n          binary = _this$state.binary;\n      var highlightedObjectIndex = this.props.highlightedObjectIndex;\n\n      if (!binary && Number.isFinite(highlightedObjectIndex)) {\n        highlightedObjectIndex = layerProps.points.data.findIndex(function (d) {\n          return d.__source.index === highlightedObjectIndex;\n        });\n      }\n\n      var types = new Set(pointType.split('+'));\n      var pointLayers = [];\n\n      var _iterator3 = _createForOfIteratorHelper(types),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var type = _step3.value;\n          var id = \"points-\".concat(type);\n          var PointLayerMapping = POINT_LAYER[type];\n          var PointsLayer = PointLayerMapping && this.shouldRenderSubLayer(id, layerProps.points.data) && this.getSubLayerClass(id, PointLayerMapping.type);\n\n          if (PointsLayer) {\n            var forwardedProps = forwardProps(this, PointLayerMapping.props);\n            pointLayers.push(new PointsLayer(forwardedProps, this.getSubLayerProps({\n              id: id,\n              updateTriggers: forwardedProps.updateTriggers,\n              highlightedObjectIndex: highlightedObjectIndex\n            }), layerProps.points));\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return pointLayers;\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers() {\n      var extruded = this.props.extruded;\n\n      var polygonFillLayer = this._renderPolygonLayer();\n\n      var lineLayers = this._renderLineLayers();\n\n      var pointLayers = this._renderPointLayers();\n\n      return [!extruded && polygonFillLayer, lineLayers, pointLayers, extruded && polygonFillLayer];\n    }\n  }, {\n    key: \"getSubLayerAccessor\",\n    value: function getSubLayerAccessor(accessor) {\n      var binary = this.state.binary;\n\n      if (!binary || typeof accessor !== 'function') {\n        return _get(_getPrototypeOf(GeoJsonLayer.prototype), \"getSubLayerAccessor\", this).call(this, accessor);\n      }\n\n      return function (object, info) {\n        var data = info.data,\n            index = info.index;\n        var feature = binaryToFeatureForAccesor(data, index);\n        return accessor(feature, info);\n      };\n    }\n  }]);\n\n  return GeoJsonLayer;\n}(CompositeLayer);\n\nexport { GeoJsonLayer as default };\nGeoJsonLayer.layerName = 'GeoJsonLayer';\nGeoJsonLayer.defaultProps = defaultProps;","import { GeoJsonLayer } from '@deck.gl/layers';\nimport { usaCapitals } from './usaCapitals';\n\n/* eslint-disable import/prefer-default-export */\nexport const usaViewport = {\n  latitude: 39.8283,\n  longitude: -98.5795,\n  zoom: 3.5,\n};\n\nexport const getUSACapitals = () =>\n  new GeoJsonLayer({\n    id: 'geojson-layer',\n    data: usaCapitals,\n    filled: true,\n    pointRadiusMinPixels: 5,\n    pointRadiusMaxPixels: 200,\n    opacity: 1,\n    pointRadiusScale: 0.3,\n    getPointRadius: (f) => Math.pow(10, f.properties.mag),\n    getFillColor: [255, 70, 30, 180],\n    autoHighlight: true,\n    transitions: {\n      getRadius: {\n        type: 'spring',\n        stiffness: 0.1,\n        damping: 0.15,\n        enter: () => [0], // grow from size 0,\n        duration: 10000,\n      },\n    },\n  });\n","import React, { useState, useEffect } from 'react';\nimport DeckGL from 'deck.gl';\nimport StaticMap from 'react-map-gl';\nimport { PathLayer } from '@deck.gl/layers';\nimport { Select, Button } from '@chakra-ui/react';\nimport { Flex } from '@chakra-ui/layout';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faPause,\n  faPlayCircle,\n  faRedoAlt,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  nearestNeighbour,\n  nearestInsertion,\n  randomInsertion,\n  farthestInsertion,\n  cheapestInsertion,\n  twoOpt,\n  convexHull,\n} from 'algorithms';\nimport useInterval from 'hooks/useInterval';\nimport { TSP } from 'algorithms/tsp/constants';\n\nimport { getUSACapitals, usaViewport } from './constants';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { totalPathCost } from '../../algorithms/tsp/helpers';\n\nfunction TspVisualiser() {\n  const [viewport, setViewport] = useState(usaViewport);\n  const [pathLayer, setPathLayer] = useState();\n  const [capitals, setCapitals] = useState();\n  const [delay, setDelay] = useState();\n  const [timestamp, setTimestamp] = useState(0);\n  const [distance, setDistance] = useState(0);\n  const [pathAnimation, setPathAnimation] = useState(nearestNeighbour());\n  const [algo, setAlgo] = useState(TSP.NEAREST_NEIGHBOUR);\n\n  useEffect(() => {\n    setCapitals(getUSACapitals());\n  }, []);\n\n  useInterval(() => {\n    if (!pathAnimation[timestamp]) {\n      setDelay();\n      setTimestamp(0);\n    } else {\n      setPathLayer(\n        new PathLayer({\n          id: 'path-layer',\n          data: [\n            {\n              name: 'random',\n              color: [101, 147, 245],\n              path: pathAnimation[timestamp].reduce(\n                (accumulator, currentValue) => {\n                  accumulator?.push(currentValue.geometry.coordinates);\n                  return accumulator;\n                },\n                [],\n              ),\n            },\n          ],\n          getWidth: (data) => 2,\n          getColor: (data) => data.color,\n          getPath: (data) => data.path,\n          currentTime: 0,\n          widthMinPixels: 4,\n          transitions: {\n            getColor: {\n              duration: 125,\n            },\n          },\n        }),\n      );\n\n      const myDistance = totalPathCost(pathAnimation[timestamp]);\n\n      setTimestamp(timestamp + 1);\n      setDistance(myDistance);\n    }\n  }, delay || null);\n\n  return (\n    <>\n      <DeckGL\n        initialViewState={viewport}\n        width=\"1080px\"\n        height=\"550px\"\n        controller\n        style={{ position: 'relative' }}\n        layers={[pathLayer, capitals]}\n      >\n        <StaticMap mapboxApiAccessToken={process.env.MAPBOX_API_KEY} />\n      </DeckGL>\n\n      <Flex\n        justify=\"center\"\n        align=\"center\"\n        style={{ gap: 10, width: 1080, marginTop: 15 }}\n      >\n        <Select\n          value={algo}\n          onChange={(e) => {\n            setAlgo(e.target.value);\n            switch (e.target.value) {\n              case TSP.NEAREST_NEIGHBOUR:\n                setPathAnimation(nearestNeighbour());\n                break;\n              case TSP.NEAREST_INSERTION:\n                setPathAnimation(nearestInsertion());\n                break;\n              case TSP.CHEAPEST_INSERTION:\n                setPathAnimation(cheapestInsertion());\n                break;\n              case TSP.FARTHEST_INSERTION:\n                setPathAnimation(farthestInsertion());\n                break;\n              case TSP.RANDOM_INSERTION:\n                setPathAnimation(randomInsertion());\n                break;\n              case TSP.CONVEX_HULL:\n                setPathAnimation(convexHull());\n                break;\n              case TSP.TWO_OPT:\n                setPathAnimation(twoOpt());\n                break;\n              default:\n                break;\n            }\n          }}\n        >\n          <option value={TSP.NEAREST_NEIGHBOUR}>Nearest Neighbour</option>\n          <option value={TSP.NEAREST_INSERTION}>Nearest Insertion</option>\n          <option value={TSP.FARTHEST_INSERTION}>Farthest Insertion</option>\n          <option value={TSP.CHEAPEST_INSERTION}>Cheapest Insertion</option>\n          <option value={TSP.RANDOM_INSERTION}>Random Insertion</option>\n          <option value={TSP.CONVEX_HULL}>Convex Hull</option>\n          <option value={TSP.TWO_OPT}>2-Opt Inversion</option>\n        </Select>\n\n        <Button\n          colorScheme=\"teal\"\n          onClick={() => {\n            setDelay(75);\n          }}\n        >\n          <FontAwesomeIcon icon={faPlayCircle} />\n        </Button>\n\n        <Button\n          colorScheme=\"teal\"\n          disabled={!delay}\n          onClick={() => {\n            setDelay();\n          }}\n        >\n          <FontAwesomeIcon icon={faPause} />\n        </Button>\n\n        <Button\n          colorScheme=\"teal\"\n          onClick={() => {\n            setPathLayer();\n            setDelay();\n            setTimestamp(0);\n            setDistance(0);\n\n            switch (algo) {\n              case TSP.NEAREST_NEIGHBOUR:\n                setPathAnimation(nearestNeighbour());\n                break;\n              case TSP.NEAREST_INSERTION:\n                setPathAnimation(nearestInsertion());\n                break;\n              case TSP.CHEAPEST_INSERTION:\n                setPathAnimation(cheapestInsertion());\n                break;\n              case TSP.FARTHEST_INSERTION:\n                setPathAnimation(farthestInsertion());\n                break;\n              case TSP.RANDOM_INSERTION:\n                setPathAnimation(randomInsertion());\n                break;\n              case TSP.CONVEX_HULL:\n                setPathAnimation(convexHull());\n                break;\n              case TSP.TWO_OPT:\n                setPathAnimation(twoOpt());\n                break;\n              default:\n                break;\n            }\n          }}\n        >\n          <FontAwesomeIcon icon={faRedoAlt} />\n        </Button>\n\n        <Flex justify=\"center\" align=\"center\" style={{ width: 400 }}>\n          Distance: {Math.floor(distance)} km\n        </Flex>\n\n        <Flex justify=\"center\" align=\"center\" style={{ width: 650 }}>\n          Start location: {pathAnimation[0][0]?.properties?.name},{' '}\n          {pathAnimation[0][0]?.properties?.state}\n        </Flex>\n      </Flex>\n    </>\n  );\n}\n\nexport default TspVisualiser;\n","import React from 'react';\nimport TspVisualizer from 'components/TspVisualizer';\n\nexport default function Tsp() {\n  return <TspVisualizer />;\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","isArray","arrayLikeToArray","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Function","bind","prototype","arguments","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","obj","value","superPropBase","_get","property","receiver","get","base","desc","getOwnPropertyDescriptor","call","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","fn","toString","indexOf","sham","Proxy","Boolean","valueOf","e","iter","Symbol","iterator","from","_i","_s","_e","_arr","_n","_d","next","done","err","_typeof","assertThisInitialized","self","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","object","hasOwnProperty","iterableToArray","arrayWithoutHoles","nonIterableSpread","minLen","n","slice","name","test","isNativeFunction","_wrapNativeSuper","_cache","Map","undefined","has","set","Wrapper","this","useBoolean","initialState","_useState","useState","_useState2","setValue","on","useCallback","off","toggle","prev","_extends","assign","source","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","_createContext","strict","_createContext2","FormControlProvider","useFormControlContext","FormControl","ref","styles","_useFormControlProvid","idProp","id","isRequired","isInvalid","isDisabled","isReadOnly","htmlProps","uuid","labelId","feedbackId","helpTextId","_React$useState","_React$useState2","hasFeedbackText","setHasFeedbackText","_React$useState3","_React$useState4","hasHelpText","setHasHelpText","_useBoolean","_useBoolean2","isFocused","setFocus","getHelpTextProps","forwardedRef","node","getLabelProps","_props$id","_props$htmlFor","htmlFor","getErrorMessageProps","getRootProps","role","getRequiredIndicatorProps","children","onFocus","onBlur","useFormControlProvider","context","className","cx","contextValue","__css","displayName","FormHelperText","field","helperText","useFormControl","_useFormControlProps","_ref","_ref2","_ref3","disabled","readOnly","required","rest","labelIds","join","useFormControlProps","SelectField","placeholder","ownProps","Select","_omitThemingProps","rootProps","icon","color","height","h","minH","minHeight","iconColor","iconSize","_split","layoutPropNames","_split2","layoutProps","otherProps","rootStyles","width","position","fieldStyles","paddingEnd","_focus","zIndex","SelectIcon","fontSize","DefaultIcon","viewBox","fill","d","IconWrapper","baseStyle","display","alignItems","justifyContent","pointerEvents","top","transform","_props$children","clone","focusable","style","TinySDF","INF","buffer","radius","cutoff","fontFamily","fontWeight","size","gridSize","canvas","document","createElement","ctx","getContext","font","textAlign","fillStyle","gridOuter","Float64Array","gridInner","f","z","v","Uint16Array","useMetrics","measureText","actualBoundingBoxLeft","middle","Math","round","navigator","userAgent","edt","data","x","edt1d","y","grid","offset","stride","q","k","s","r","_draw","char","getMetrics","glyphWidth","glyphHeight","imgTop","imgLeft","baselinePosition","imgData","textMetrics","advance","doubleBuffer","floor","actualBoundingBoxAscent","ceil","min","actualBoundingBoxRight","actualBoundingBoxDescent","textBaseline","clearRect","fillText","getImageData","alphaChannel","Uint8ClampedArray","j","b","max","c","prepareGrids","sqrt","extractAlpha","metrics","sdfWidth","sdfHeight","left","draw","drawWithMetrics","earcut","holeIndices","dim","minX","minY","maxX","maxY","invSize","hasHoles","outerLen","outerNode","linkedList","triangles","list","queue","steiner","getLeftmost","sort","compareX","filterPoints","eliminateHole","eliminateHoles","earcutLinked","start","end","clockwise","last","signedArea","insertNode","equals","removeNode","again","p","area","ear","pass","zOrder","prevZ","nextZ","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","maxZ","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","bridge","m","hx","hy","qx","Infinity","tan","mx","my","tanMin","abs","sectorContainsSector","findHoleBridge","bridgeReverse","filteredBridge","leftmost","ax","ay","bx","by","cy","px","py","intersectsPolygon","inside","middleInside","p1","p2","q1","q2","o1","sign","o2","o3","o4","onSegment","num","a2","Node","b2","an","bp","sum","deviation","polygonArea","trianglesArea","flatten","result","vertices","holes","dimensions","holeIndex","window","exportName","VENDOR_PREFIXES","TEST_ELEMENT","now","Date","setTimeoutContext","timeout","setTimeout","bindFn","invokeArrayArg","arg","each","forEach","deprecate","method","message","deprecationMessage","Error","stack","replace","log","console","warn","output","index","nextKey","extend","dest","src","merge","inherit","child","properties","childP","baseP","_super","boolOrFn","val","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","parent","parentNode","inStr","str","find","trim","split","inArray","findByKey","toArray","uniqueArray","results","values","prefixed","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","options","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","deltaX","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","lastInterval","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","defaults","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","events","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","_interopRequireDefault","isMobile","_globals","orientation","mockUserAgent","_isBrowser","default","_isElectron","navigator_","isMSIE","isTrident","chrome","safari","mozInnerScreenX","global","_typeof2","globals","g","self_","window_","global_","document_","process_","console_","_getBrowser","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","isBrowser","isBrowserMainThread","String","browser","versions","electron","realUserAgent","Promise","aFunction","PromiseCapability","C","resolve","reject","promise","$$resolve","$$reject","anObject","isObject","newPromiseCapability","promiseCapability","SPECIES","wellKnownSymbol","O","defaultConstructor","S","$","$hypot","hypot","stat","forced","NaN","value1","value2","div","aLen","larg","IS_PURE","NativePromise","fails","getBuiltIn","speciesConstructor","promiseResolve","redefine","proto","real","then","onFinally","isFunction","unsafe","_createForOfIteratorHelper","allowArrayLike","it","_arrayLikeToArray","_unsupportedIterableToArray","F","normalCompletion","didErr","step","_e2","return","channelHandles","animationHandles","Timeline","channels","animations","playing","lastEngineTime","_props$delay","delay","_props$duration","duration","Number","POSITIVE_INFINITY","_props$rate","rate","_props$repeat","repeat","handle","channel","_setChannelTime","delete","_step","_iterator","_step$value","animationHandle","detachAnimation","_step2","_iterator2","_step3","_iterator3","animationData","animation","_channel","setTime","getTime","channelHandle","engineTime","offsetTime","LIFECYCLE","PROP_SYMBOLS","COMPONENT","for","ASYNC_DEFAULTS","ASYNC_ORIGINAL","ASYNC_RESOLVED","isElectron","__VERSION__","getStorage","storage","setItem","removeItem","LocalStorage","defaultSettings","config","_loadConfiguration","configuration","updateConfiguration","serialized","JSON","stringify","serializedConfiguration","getItem","parse","formatImage","image","maxWidth","imageUrl","COLOR","BLACK","RED","GREEN","YELLOW","BLUE","MAGENTA","CYAN","WHITE","BRIGHT_BLACK","BRIGHT_RED","BRIGHT_GREEN","BRIGHT_YELLOW","BRIGHT_BLUE","BRIGHT_MAGENTA","BRIGHT_CYAN","BRIGHT_WHITE","getColor","autobind","predefined","propNames","getOwnPropertyNames","_loop","condition","getHiResTimestamp","timestamp","timeParts","originalConsole","debug","info","error","DEFAULT_SETTINGS","enabled","level","noop","ONCE","once","getTableHeader","table","title","Log","_startTs","_deltaTs","LOG_THROTTLE_TIMEOUT","_storage","userData","seal","getLevel","newLevel","setLevel","toPrecision","newPriority","_getLogFunction","oldUsage","newUsage","logLevel","_table","columns","tag","priority","_image","_ref2$message","_ref2$scale","_shouldLog","_ref4","_ref4$message","_ref4$scale","img","Image","onload","_console","nodeName","_console2","_img","_console3","toDataURL","logImageInBrowser","_ref3$scale","asciify","fit","logImageInNode","setting","timeEnd","opts","collapsed","_opts","normalizeArguments","groupCollapsed","group","groupEnd","func","trace","isEnabled","normalizeLogLevel","_method","total","getTotal","delta","getDelta","decorateMessage","resolvedLevel","isFinite","shift","unshift","messageType","string","padLength","leftPad","ms","toFixed","background","loggers","_loggers$eventType","array","flattenArray","fillArray","_ref$start","_ref$count","copied","copyWithin","performance","hrtime","Stat","sampleSize","samples","addCount","subtractCount","_count","_samples","_checkSampling","_time","lastTiming","_startTime","_timerPending","addTime","lastSampleCount","lastSampleTime","Stats","stats","_initializeStats","_getOrCreate","average","getAverageTime","hz","getHz","_this","asyncGeneratorStep","gen","_next","_throw","isBoolean","isPureObject","asyncIterator","Response","arrayBuffer","text","json","Blob","ReadableStream","tee","cancel","getReader","isReadableDOMStream","read","pipe","readable","isReadableNodeStream","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","isLoaderObject","loader","_loader","extensions","normalizeLoader","_loader2","_loader3","parseTextSync","parseText","binary","matches","version","exec","pathPrefix","parseFloat","fileAliases","resolvePath","filename","alias","startsWith","replacement","DATA_URL_PATTERN","MIME_TYPE_PATTERN","parseMIMEType","mimeString","parseMIMETypeFromURL","url","QUERY_STRING_PATTERN","getResourceUrlAndType","resource","stripQueryString","headers","getResourceContentLength","ArrayBuffer","isView","byteLength","_x","_makeResponse","_callee","contentLength","_getResourceUrlAndTyp","initialDataUrl","response","_context","abrupt","getInitialDataUrl","sent","TextEncoder","encode","_x2","_checkResponse","_callee2","_context2","ok","getResponseError","_x3","_getResponseError","_callee3","contentType","_context3","status","statusText","includes","t0","t1","t2","t3","_x4","_getInitialDataUrl","_callee4","INITIAL_DATA_LENGTH","blobSlice","base64","_context4","reader","FileReader","_event$target","readAsDataURL","arrayBufferToBase64","bytes","Uint8Array","fromCharCode","btoa","fetchFile","_fetchFile","fetchOptions","fetch","probeLog","NullLog","ConsoleLog","_this$console$log","_len","_key","_this$console$info","_len2","_key2","_this$console$warn","_len3","_key3","_this$console$error","_len4","_key4","DEFAULT_LOADER_OPTIONS","mimeType","nothrow","CDN","worker","maxConcurrency","maxMobileConcurrency","reuseWorkers","_workerType","limit","_limitMB","batchSize","batchDebounceMs","metadata","transforms","REMOVED_LOADER_OPTIONS","throws","dataType","uri","body","mode","credentials","redirect","referrer","referrerPolicy","integrity","keepalive","signal","loaders","_state","getGlobalLoaderOptions","globalOptions","normalizeOptions","validateOptionsObject","idOptions","loaderOptions","deprecatedOptions","validateOptions","normalizeOptionsInternal","getFetchFunction","defaultOptions","loaderName","isSubOptions","suggestion","findSimilarOption","optionKey","lowerCaseOptionKey","bestSuggestion","lowerCaseKey","mergedOptions","baseUri","addUrlOptions","mergeNestedFields","validateWorkerVersion","coreVersion","workerVersion","workerURLCache","getLoadableWorkerURL","workerURL","getLoadableWorkerURLFromSource","workerUrl","getLoadableWorkerURLFromURL","workerSource","blob","URL","createObjectURL","getTransferList","recursive","transfers","transfersSet","Set","isTransferable","MessagePort","ImageBitmap","OffscreenCanvas","NOOP","WorkerThread","onMessage","onError","_createBrowserWorker","terminate","terminated","transferList","postMessage","lineno","colno","_loadableURL","Worker","onmessage","onerror","_getErrorFromErrorEvent","onmessageerror","WorkerJob","jobName","workerThread","isRunning","_resolve","_reject","payload","_error","WorkerPool","setProps","_startQueuedJob2","_startJob","idleQueue","isDestroyed","onDebug","startPromise","_args","job","onStart","jobQueue","_startQueuedJob","queuedJob","_getAvailableWorker","backlog","returnWorkerToQueue","finish","_getMaxConcurrency","DEFAULT_PROPS","WorkerFarm","workerPools","_getWorkerPoolProps","workerPool","isSupported","_workerFarm","NPM_TAG","getWorkerURL","workerOptions","workerFile","versionTag","canParseWithWorker","parseWithWorker","_x5","_parseWithWorker","parseOnMainThread","workerFarm","getWorkerFarm","getWorkerPool","startJob","_x6","_x7","_x8","_x9","_onMessage","iterable","toArrayBuffer","isBuffer","byteOffset","_toArrayBuffer","concatenateArrayBuffers","sources","sourceArrays","map","source2","reduce","typedArray","sourceArray","concatenateArrayBuffersAsync","_concatenateArrayBuffersAsync","arrayBuffers","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","chunk","_marked","makeStringIterator","chunkSize","textEncoder","chunkLength","makeArrayBufferIterator","_options$chunkSize","chunkByteLength","_AwaitValue","wrapped","_awaitAsyncGenerator","AsyncGenerator","front","back","resume","wrappedAwait","settle","_invoke","request","_wrapAsyncGenerator","_makeBlobIterator","makeStreamIterator","stream","_makeBrowserStreamIterator","makeBrowserStreamIterator","_makeNodeStreamIterator","makeNodeStreamIterator","nextBatchPromise","currentBatchPromise","_yield$_awaitAsyncGen","_streamReadAhead","releaseLock","makeBlobIterator","ERR_DATA","getArrayBufferOrStringFromDataSync","TextDecoder","decode","_arrayBuffer","getArrayBufferOrStringFromData","_getArrayBufferOrStringFromData","isArrayBuffer","getLoaderContext","previousContext","resolvedContext","getLoadersFromContext","candidateLoaders","contextLoaders","getGlobalLoaderRegistry","loaderRegistry","getRegisteredLoaders","EXT_PATTERN","selectLoader","_selectLoader","validHTTPResponse","selectLoaderSync","getNoValidLoaderMessage","_candidateLoaders","ignoreRegisteredLoaders","normalizeLoaders","selectLoaderInternal","testUrl","findLoaderByMIMEType","match","extension","findLoaderByExtension","findLoaderByUrl","_step5","_iterator5","testDataAgainstText","testDataAgainstBinary","findLoaderByInitialBytes","fallbackMimeType","_getResourceUrlAndTyp2","getMagicString","getFirstCharacters","_step4","_iterator4","mimeTypes","testText","tests","some","arrayBuffer1","arrayBuffer2","array1","array2","compareArrayBuffers","testBinary","dataView","DataView","magic","getUint8","_parse","parseWithLoader","_parseWithLoader","parseSync","load","_load","Resource","_loadCount","_subscribers","setData","consumer","isLoaded","_content","getData","forceUpdate","_this2","_data","loadCount","catch","onChange","ResourceManager","gl","protocol","resourceManager","_resources","_consumers","_pruneRequest","resourceId","_ref2$forceUpdate","_ref2$persistent","persistent","res","consumerId","requestId","unsubscribe","prune","_ref4$requestId","resources","_track","_prune","consumers","subscribe","_Object$keys","inUse","TypedArrayManager","_pool","overAlloc","poolSize","maxSize","_ref$size","_ref$padding","padding","_ref$copy","copy","_ref$initialize","initialize","maxCount","Type","Float32Array","newSize","BYTES_PER_ELEMENT","newArray","_allocate","_release","sizeToAllocate","pool","findIndex","_inherits","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","EPSILON","_ref$precision","precision","clamp","lerp","ai","epsilon","oldEpsilon","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","printTypes","printDegrees","printRowMajor","MathArray","_extendableBuiltin2","arrayOrObject","fromObject","ELEMENTS","check","toObject","to","formatString","vector","minVector","maxVector","vectors","_vectors","_i2","_vectors2","_scale","multiply","subtract","addScalar","scalar","validate","valid","cls","ExtendableBuiltin","_extendableBuiltin","validateVector","checkNumber","checkVector","callerName","deprecated","Vector","_MathArray","lengthSquared","mathArray","distanceSquared","dist","product","magnitude","multiplyScalar","ARRAY_TYPE","random","transformMat4","out","w","vec","vec3_transformMat4AsVector","ORIGIN","constants","Vector3","_Vector","az","bz","mag","cosine","dot","acos","radians","_ref$origin","origin","rad","cos","sin","_ref2$origin","_ref3$origin","matrix4","transformAsPoint","matrix3","matrix2","vec3_transformMat2","quaternion","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","ZERO","freeze","scratchArray","scratchVector","getFrustumPlane","L","normal","toDoublePrecisionArray","_ref$startIndex","startIndex","endIndex","sourceIndex","targetIndex","fround","subarray","Matrix","row","RANK","col","columnIndex","firstIndex","columnVector","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b3","fovy","aspect","near","far","nf","eye","up","x0","x1","x2","y0","y1","y2","z0","z1","z2","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","identity","IDENTITY","INDICES","COL0ROW0","COL0ROW1","COL0ROW2","COL0ROW3","COL1ROW0","COL1ROW1","COL1ROW2","COL1ROW3","COL2ROW0","COL2ROW1","COL2ROW2","COL2ROW3","COL3ROW0","COL3ROW1","COL3ROW2","COL3ROW3","Matrix4","_Matrix","m00","m10","m20","m30","m01","m11","m21","m31","m02","m12","m22","m32","m03","m13","m23","m33","xx","yx","yy","zx","zy","zz","wx","wy","wz","right","bottom","_computeInfinitePerspectiveOffCenter","rl","tb","_eye","_ref2$near","_ref2$far","lr","bt","_ref3$fovy","_ref3$aspect","_ref3$focalDistance","focalDistance","_ref3$near","_ref3$far","halfY","ortho","_ref4$fovy","_ref4$fov","fov","_ref4$aspect","_ref4$near","_ref4$far","scaleResult","getScale","inverseScale0","inverseScale1","inverseScale2","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","_ref5","_ref6","rx","ry","rz","rotateX","rotateY","rotateZ","axis","b12","b20","b21","b22","factor","vec2_transformMat4AsVector","translate","transformAsVector","column0Row0","column1Row1","column2Row0","column2Row1","column3Row2","invert","transformVector","matrix","divisor","modulus","log2","LOG2E","a0","a1","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","PI_4","TILE_SIZE","EARTH_CIRCUMFERENCE","zoomToScale","zoom","pow","scaleToZoom","lngLatToWorld","lng","lat","phi2","worldToLngLat","lambda2","atan","exp","latitude","longitude","_ref6$highPrecision","highPrecision","latCosine","unitsPerDegreeX","unitsPerDegreeY","altUnitsPerMeter","worldSize","unitsPerMeter","metersPerUnit","unitsPerDegree","degreesPerUnit","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","unitsPerDegree2","unitsPerMeter2","lngLatZ","xyz","_lngLatZ","_xyz","_getDistanceScales","worldspace","newLngLat","newZ","getViewMatrix","_ref7","pitch","bearing","altitude","_ref7$center","vm","getProjectionParameters","_ref8","_ref8$fovy","altitudeToFovy","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","halfFov","fovyToAltitude","pitchRadians","topHalfSurfaceDistance","getProjectionMatrix","_ref9","_getProjectionParamet","projectionMatrix","worldToPixels","pixelProjectionMatrix","_xyz2","_xyz2$","pixelsToWorld","pixelUnprojectionMatrix","targetZ","_xyz3","coord","coord0","coord1","bounds","_ref$minExtent","minExtent","_ref$maxZoom","maxZoom","_ref$offset","_bounds","_bounds$","west","south","_bounds$2","east","north","viewport","WebMercatorViewport","nw","project","se","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","unproject","topLeft","topRight","unprojectOps","bottomLeft","bottomRight","angleToGround","unprojectOnFarPlane","distanceScales","_ref$latitude","_ref$longitude","_ref$zoom","_ref$pitch","_ref$bearing","_ref$altitude","_ref$fovy","_ref$position","_ref$nearZMultiplier","_ref$farZMultiplier","viewMatrix","meterOffset","_initMatrices","projectPosition","unprojectPosition","vpm","viewProjectionMatrix","mInverse","_ref2$topLeft","worldPosition","_coord","_ref3$topLeft","_ref3$targetZ","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","_lngLatToWorld","_lngLatToWorld2","_worldToLngLat","_worldToLngLat2","lngLat","xy","fromLocation","pos","getMapCenterByLngLatPosition","_fitBounds2","corners","getBoundingRegion","normalizeViewportProps","minZoom","halfHeightPixels","minLatitude","maxLatitude","VIEWPORT_TRANSITION_PROPS","DEFAULT_OPTS","curve","speed","getFlyToTransitionParams","startProps","endProps","rho","startZoom","startCenter","startScale","endZoom","endCenter","startCenterXY","endCenterXY","uDelta","w0","w1","u1","_u1","rho2","r0","r1","COORDINATE_SYSTEM","DEFAULT","LNGLAT","METER_OFFSETS","LNGLAT_OFFSETS","CARTESIAN","PROJECTION_MODE","WEB_MERCATOR","GLOBE","WEB_MERCATOR_AUTO_OFFSET","UNIT","common","meters","pixels","EVENTS","click","panstart","panmove","panend","ZERO_VECTOR","DEFAULT_DISTANCE_SCALES","Viewport","_opts$id","_opts$x","_opts$y","_opts$width","_opts$height","_frustumPlanes","_initViewMatrix","_initProjectionMatrix","_initPixelMatrices","projectFlat","unprojectFlat","isGeospatial","_ref$topLeft","_this$projectFlat","_this$projectFlat2","_this$unprojectFlat","_this$unprojectFlat2","unprojectOption","coordinateOrigin","_ref3$width","_ref3$height","planes","coords","pixel","cameraPosition","cameraDirection","cameraUp","orthographic","fovyRadians","perspective","_opts$viewMatrix","_opts$longitude","_opts$latitude","_opts$zoom","_opts$position","_opts$modelMatrix","modelMatrix","_opts$focalDistance","_opts$distanceScales","getMeterZoom","_getCenterInWorld","viewMatrixUncentered","multiplyRight","negate","commonPosition","_opts$projectionMatri","_opts$orthographic","_opts$fovy","_opts$near","_opts$far","_opts$focalDistance2","_createProjectionMatrix","viewMatrixInverse","viewportMatrix","VERTEX_SHADER","FRAGMENT_SHADER","TYPE_DEFINITIONS","number","propType","parsePropType","propDef","getTypeOf","ShaderModule","vs","fs","_ref$dependencies","dependencies","uniforms","getUniforms","_ref$deprecations","deprecations","_ref$defines","defines","_ref$inject","inject","vertexShader","fragmentShader","getModuleUniforms","_parseDeprecationDefinitions","injections","hook","injection","order","normalizeInjections","propDefs","propTypes","propName","parsePropTypes","moduleSource","_defaultGetUniforms","shaderSource","def","regex","old","new","removed","RegExp","private","resolveModules","modules","getShaderDependencies","instantiateModules","moduleMap","moduleDepth","getDependencyGraph","_module","seen","isOldIE","WEBGL_FEATURES","GLSL_FRAG_DATA","GLSL_FRAG_DEPTH","GLSL_DERIVATIVES","GLSL_TEXTURE_LOD","FEATURES","compiledGlslExtensions","canCompileGLGSExtension","cap","feature","extensionName","behavior","shader","createShader","compileShader","canCompile","getShaderParameter","deleteShader","getFeature","WebGL2RenderingContext","_version","isWebGL2","getExtension","hasFeatures","features","every","_MODULE_INJECTORS","MODULE_INJECTORS","DECLARATION_INJECT_MARKER","REGEX_START_OF_MAIN","REGEX_END_OF_MAIN","fragments","injectShader","injectStandardStubs","isVertex","fragmentData","fragmentString","combineInjects","injects","testVariable","qualifier","_SHADER_TYPE","ES300_REPLACEMENTS","ES300_VERTEX_REPLACEMENTS","ES300_FRAGMENT_REPLACEMENTS","ES100_REPLACEMENTS","ES100_VERTEX_REPLACEMENTS","ES100_FRAGMENT_REPLACEMENTS","ES100_FRAGMENT_OUTPUT_NAME","ES300_FRAGMENT_OUTPUT_REGEX","transpileShader","targetGLSLVersion","convertShader","outputMatch","outputName","_outputName","convertFragmentShaderTo300","convertFragmentShaderTo100","replacements","pattern","INJECT_SHADER_DECLARATIONS","SHADER_TYPE","assembleShaders","assembleShader","assembleGetUniforms","_ref$hookFunctions","hookFunctions","_ref$transpileToGLSL","transpileToGLSL100","_ref$prologue","prologue","sourceLines","glslVersion","versionLine","coreSource","allDefines","getDefines","assembledSource","getShaderName","getShaderType","debugInfo","vendor","getParameter","UNMASKED_VENDOR_WEBGL","renderer","UNMASKED_RENDERER_WEBGL","gpuVendor","identifyGPUVendor","shadingLanguageVersion","getContextInfo","getPlatformShaderDefines","isFragment","versionDefines","getVersionDefines","sourceText","define","getApplicationDefines","hookFunctionMap","_hook$split","_hook$split2","stage","signature","normalizeHookFunctions","hookInjections","declInjections","mainInjections","hash","checkDeprecations","getModuleSource","_match","injectionType","hookName","hookFunction","header","footer","getHookFunctions","moduleUniforms","ERR_CONTEXT","isWebGL","WebGLRenderingContext","assertWebGLContext","glErrorShadow","synthesizeGLError","opt_msg","msg","WebGLVertexArrayObjectOES","ext","isAlive","hasBeenBound","elementArrayBuffer","attribs","maxVertexAttribs","attrib","VertexAttrib","maxAttrib","normalized","cached","recache","_WEBGL_PARAMETERS","OESVertexArrayObject","getError","parseInt","wrapGLError","original","enableVertexAttribArray","disableVertexAttribArray","bindBuffer","getVertexAttrib","vertexAttribPointer","pname","VERTEX_ARRAY_BINDING_OES","currentVertexArrayObject","defaultVertexArrayObject","vao","currentArrayBuffer","indx","instrumentExtension","reset_","vertexArrayObjects","ii","bindVertexArrayOES","createVertexArrayOES","arrayObject","deleteVertexArrayOES","isVertexArrayOES","oldVAO","newVAO","currentBinding","oldAttrib","bufferChanged","_WEBGL2_CONTEXT_POLYF","OES_element_index","WEBGL_draw_buffers","WEBGL_debug_renderer_info","getWebGL2ValueOrZero","WEBGL_PARAMETERS","GPU_DISJOINT_EXT","luma","MAX_TEXTURE_MAX_ANISOTROPY_EXT","MAX_COLOR_ATTACHMENTS_WEBGL","MAX_DRAW_BUFFERS_WEBGL","ANGLE_instanced_arrays","_GL_PARAMETER_DEFAULT","_GL_PARAMETER_SETTERS","_GL_PARAMETER_GETTERS","WEBGL2_CONTEXT_POLYFILLS","meta","suffix","createVertexArray","deleteVertexArray","bindVertexArray","isVertexArray","vertexAttribDivisor","location","drawElementsInstanced","drawArraysInstanced","drawBuffers","createQuery","deleteQuery","beginQuery","endQuery","getQuery","getQueryObject","getQueryParameter","WEBGL2_CONTEXT_OVERRIDES","readBuffer","originalFunc","attachment","_getExtensionData","webgl2","getExtensionData","getProgramParameter","program","getInternalformatParameter","format","Int32Array","getTexParameter","TEXTURE_MAX_ANISOTROPY_EXT","originalGetParameter","hint","polyfillExtension","target2","_defaults$meta","_meta$suffix","extKey","polyfill","polyfillContext","polyfilled","original_getSupportedExtensions","getSupportedExtensions","original_getExtension","__OESVertexArrayObject","polyfillVertexArrayObject","initializeExtensions","polyfills","installPolyfills","installOverrides","GL_PARAMETER_DEFAULTS","disable","pixelStorei","GL_PARAMETER_SETTERS","blendColor","clearColor","colorMask","cullFace","clearDepth","depthFunc","depthRange","depthMask","bindFramebuffer","frontFace","lineWidth","scissor","clearStencil","stencilMaskSeparate","_framebuffer","blendEquationSeparate","blendFuncSeparate","polygonOffset","sampleCoverage","_value","_value2","mask","backMask","_args2","backFunc","backRef","stencilFuncSeparate","_args3","_args4","sfail","dpfail","dppass","backSfail","backDpfail","backDppass","stencilOpSeparate","getValue","glEnum","GL_COMPOSITE_PARAMETER_SETTERS","blendEquation","blendFunc","stencilFuncFront","stencilFuncBack","stencilOpFront","stencilOpBack","GL_HOOKED_SETTERS","capability","_hint","framebuffer","_update5","_update9","modeRGB","modeAlpha","_update10","dst","_update11","srcRGB","dstRGB","srcAlpha","dstAlpha","_update12","depth","zNear","zFar","face","units","_update23","_update24","stencilMask","_update26","stencilFunc","_update28","_update29","stencilOp","fail","zfail","zpass","_update30","_update31","GL_PARAMETER_GETTERS","isObjectEmpty","deepArrayEqual","isArrayX","isArrayY","installGetterOverride","functionName","originalGetterFunc","installSetterSpy","setter","originalSetterFunc","params","_setter","_updateCache","valueChanged","oldValue","installProgramSpy","originalUseProgram","useProgram","GLState","_ref$copyState","copyState","_ref$log","stateStack","getParameters","oldValues","setParameters","pop","trackContextState","_options$enable","popContextState","compositeSetters","glConstant","compositeSetter","parameters","getter","_getter","_parameters$nocatch","nocatch","pushContextState","cssToDeviceRatio","clientWidth","canvasSizeInfo","drawingBufferWidth","cssToDevicePixels","cssPixel","yInvert","ratio","drawingBufferHeight","scalePixels","getDevicePixelRatio","useDevicePixels","windowRatio","devicePixelRatio","yHigh","xHigh","isPage","CONTEXT_DEFAULTS","webgl1","throwOnError","manageState","createGLContext","_options","_options2","targetCanvas","getCanvas","createBrowserContext","logInfo","instrumentGLContext","_instrumented","getVersion","_options3","errorMessage","onCreateError","statusMessage","_options$webgl","_options$webgl2","onContextLost","onContextRestored","_ref$width","_ref$height","readyState","getElementById","insertBefore","firstChild","webGL","vendorMasked","rendererMasked","getContextDebugInfo","driver","setDevicePixelRatio","clientHeight","cachedSize","clampedPixelRatio","canvasWidth","canvasHeight","lumaStats","StatsManager","nodeIO","getKeyValue","isNaN","getKey","uidCounters","uid","isPowerOfTwo","isEmpty","methodNames","upgradeMessage","methodName","ERR_RESOURCE_METHOD_UNDEFINED","_opts$userData","gl2","_bound","_handle","_createHandle","_addStats","_ref$deleteChildren","deleteChildren","_deleteHandle","_removeStats","funcOrHandle","_bindHandle","PARAMETERS","parameter","isWebgl2","parameterAvailable","webgl1Default","webgl2Default","defaultValue","_getParameter","parameterKeys","_setParameter","setParameter","incrementCount","decrementCount","getGLTypeFromTypedArray","arrayOrType","Uint32Array","Int8Array","Int16Array","getTypedArrayFromGLType","glType","_ref$clamped","clamped","flipRows","_ref2$bytesPerPixel","bytesPerPixel","temp","bytesPerRow","topOffset","bottomOffset","newWidth","newHeight","newData","checkProps","propChecks","_propChecks$removedPr","removedProps","_propChecks$deprecate","deprecatedProps","_propChecks$replacedP","replacedProps","_propName","_replacementProp","newProps","_propName2","_replacementProp2","DEFAULT_ACCESSOR_VALUES","integer","PROP_CHECKS","instanced","isInstanced","Accessor","accessors","accessor","_assign","getBytesPerElement","getBytesPerVertex","_TEXTURE_FORMATS","_DATA_FORMAT_CHANNELS","_TYPE_SIZES","DEPRECATED_PROPS","PROP_CHECKS_INITIALIZE","PROP_CHECKS_SET_PROPS","_Resource","Buffer","stubRemovedMethods","usage","debugData","setAccessor","_setData","_setByteLength","bytesUsed","_props","_props$offset","_props$srcOffset","srcOffset","bufferSubData","_inferType","sourceBuffer","_ref$readOffset","readOffset","_ref$writeOffset","writeOffset","copyBufferSubData","_ref2$dstData","dstData","_ref2$srcByteOffset","srcByteOffset","_ref2$dstOffset","dstOffset","_ref2$length","dstAvailableElementCount","dstElementCount","ArrayType","sourceAvailableElementCount","_getAvailableElementCount","dstElementOffset","copyElementCount","getBufferSubData","_ref3$target","_ref3$index","_ref3$offset","bindBufferRange","bindBufferBase","_ref4$target","_ref4$index","isIndexedBuffer","_trackDeallocatedMemory","_getTarget","bufferData","_trackAllocatedMemory","sourceElementOffset","getElementCount","createBuffer","deleteBuffer","getBufferParameter","reallocate","TEXTURE_FORMATS","dataFormat","DATA_FORMAT_CHANNELS","TYPE_SIZES","isFormatSupported","gl1","isLinearFilteringSupported","NPOT_MIN_FILTERS","WebGLBuffer","Texture","textureUnit","loaded","border","mipmaps","resolvedImageData","isVideo","HTMLVideoElement","HAVE_METADATA","_video","_props$pixels","_props$format","_props$border","_props$recreate","recreate","_props$parameters","_props$pixelStore","pixelStore","_props$textureUnit","_props$compressed","compressed","_props$mipmaps","_props$depth","_this$_deduceParamete","_deduceParameters","activeTexture","bindTexture","_isNPOT","_updateForNPOT","setImageData","generateMipmap","video","lastTime","HAVE_CURRENT_DATA","currentTime","_this$_video","setSubImageData","_ref$mipmaps","_this3","_options$target","_options$pixels","_options$level","_options$format","_options$border","_options$offset","_options$parameters","_options$data","_options$type","_options$width","_options$height","_options$dataFormat","_options$compressed","_this$_deduceParamete2","_this$_getDataType","_getDataType","texImage2D","entries","levelIndex","levelData","compressedTexImage2D","channelSize","_this4","_ref2$target","_ref2$pixels","_ref2$data","_ref2$x","_ref2$y","_ref2$width","_ref2$height","_ref2$level","_ref2$format","_ref2$type","_ref2$dataFormat","_ref2$compressed","_ref2$offset","_ref2$border","_ref2$parameters","_this$_deduceParamete3","ndarray","shape","compressedTexSubImage2D","texSubImage2D","_ref3$compressed","textureFormat","_this$_deduceImageSiz","_deduceImageSize","ImageData","HTMLImageElement","naturalWidth","naturalHeight","HTMLCanvasElement","videoWidth","videoHeight","createTexture","deleteTexture","param","_getNPOTParam","texParameterf","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","linearFiltering","supported","loadImage","crossOrigin","_$33190$36012$","Texture2D","_Texture","EXT_FLOAT_WEBGL2","bpp","formats","Renderbuffer","_ref$samples","bindRenderbuffer","renderbufferStorageMultisample","renderbufferStorage","createRenderbuffer","deleteRenderbuffer","getRenderbufferParameter","GL_COLOR","GL_DEPTH","GL_STENCIL","GL_DEPTH_STENCIL","ERR_ARGUMENTS","_ref$framebuffer","_ref$color","_ref$depth","_ref$stencil","stencil","clearFlags","clear","clearBuffer","_ref2$framebuffer","_ref2$buffer","_ref2$drawBuffer","drawBuffer","_ref2$value","clearBufferiv","clearBufferuiv","clearBufferfv","clearBufferfi","FACES","TextureCube","_setCubeMapImageData","setCubeMapImageData","_ref$x","_ref$y","_ref$mipmapLevel","mipmapLevel","_subImage","imageDataMap","resolvedFaces","facePixels","lodLevel","unbind","imageData","setImageDataForFace","_FEATURES$WEBGL2$FEAT","Texture3D","unpackFlipY","_ref$level","_ref$dataFormat","_ref$border","_ref$type","_ref$parameters","texImage3D","cloneTextureFrom","refTexture","overrides","TextureType","readPixelsToArray","_options$sourceX","sourceX","_options$sourceY","sourceY","_options$sourceFormat","sourceFormat","_options$sourceAttach","sourceAttachment","sourceWidth","sourceHeight","sourceType","_getFramebuffer","getFramebuffer","deleteFramebuffer","attachments","getPixelArray","prevHandle","readPixels","copyToDataUrl","_ref2$sourceAttachmen","_ref2$targetMaxHeight","targetMaxHeight","MAX_SAFE_INTEGER","_scalePixels","createImageData","putImageData","Framebuffer","texture","pixelArray","components","testTexture","testFb","getStatus","isFeatureSupported","caps","featureDefinition","queryFeature","ERR_MULTIPLE_RENDERTARGETS","ownResources","MAX_COLOR_ATTACHMENTS","MAX_DRAW_BUFFERS","_ref$attachments","_ref$check","_ref$readBuffer","_ref$drawBuffers","resize","_createDefaultAttachments","clearAttachments","checkStatus","_ref2$attachments","_ref2$clearAttachment","_ref2$resizeAttachmen","resizeAttachments","attach","_setReadBuffer","_setDrawBuffers","attachmentPoint","_ref3$clearAttachment","_ref3$resizeAttachmen","newAttachments","_attachRenderbuffer","renderbuffer","_descriptor","_descriptor$","layer","_descriptor$2","_attachTexture","_unattach","_getFrameBufferStatus","checkFramebufferStatus","_options$drawBuffers","_ref4$attachments","_ref4$x","_ref4$y","invalidateFramebuffer","_getAttachmentParameterFallback","getFramebufferAttachmentParameter","ATTACHMENT_PARAMETERS","getAttachmentParameter","_attachments","attachmentName","getAttachmentParameters","open","_ref5$target","_ref6$target","_parameters","defaultAttachments","oldAttachment","framebufferRenderbuffer","framebufferTexture2D","_ref7$attachment","_ref8$attachment","framebufferTextureLayer","mapIndexToCubeMapFace","drawBuffersWEBGL","getFeatures","WEBGL2","EXT_sRGB","createFramebuffer","colorBufferFloat","colorBufferHalfFloat","defaultFramebuffer","STATUS","_UNIFORM_SETTERS","UNIFORM_SETTERS","getArraySetter","toFloatArray","setVectorUniform","toIntArray","setMatrixUniform","getSamplerSetter","toUIntArray","FLOAT_ARRAY","INT_ARRAY","UINT_ARRAY","toTypedArray","uniformLength","getUniformSetter","parseUniformName","checkUniformValues","uniformMap","uniformName","checkUniformValue","checkLength","checkUniformArray","copyUniform","uniform1i","uniformSetter","cacheLength","arrayValue","defaultName","SHADER_NAME_REGEXP","parseGLSLCompilerError","errLog","shaderType","shaderName","errorStrings","errors","warnings","shaderDescription","getShaderTypeName","errorString","segments","line","lines","delim","maxDigits","lineNumber","digits","padLeft","addLineNumbers","formatErrors","column","substring","_COMPOSITE_GL_TYPES","Shader","getTypeName","_compile","getShaderSource","getTranslatedShaderSource","compileStatus","infoLog","getShaderInfoLog","_parseGLSLCompilerErr","getSource","VertexShader","_Shader","_super2","FragmentShader","_Shader2","_super3","GL_FLOAT","GL_INT","GL_UNSIGNED_INT","COMPOSITE_GL_TYPES","getPrimitiveDrawMode","drawMode","decomposeCompositeGLType","compositeGLType","typeAndSize","_typeAndSize","getCompositeGLType","_COMPOSITE_GL_TYPES$g","compType","compComponents","ProgramConfiguration","attributeInfos","attributeInfosByName","attributeInfosByLocation","varyingInfos","varyingInfosByName","_readAttributesFromProgram","_readVaryingsFromProgram","locationOrName","attributeInfo","getAttributeInfo","varying","getVaryingInfo","_gl$getActiveAttrib","getActiveAttrib","getAttribLocation","_addAttribute","_gl$getTransformFeedb","getTransformFeedbackVarying","_addVarying","compositeType","_decomposeCompositeGL","_inferProperties","_decomposeCompositeGL2","V6_DEPRECATED_METHODS","Program","_isCached","_setId","varyings","_props$bufferMode","bufferMode","_textureUniforms","transformFeedbackVaryings","_compileAndLink","_readUniformLocationsFromLinkedProgram","setUniforms","logPriority","_ref$drawMode","vertexCount","_ref$isIndexed","isIndexed","_ref$indexType","indexType","_ref$instanceCount","instanceCount","_ref$isInstanced","_ref$vertexArray","vertexArray","transformFeedback","samplers","fb","_areTexturesRenderable","bindForDraw","primitiveMode","begin","_bindTextures","drawRangeElements","drawElements","drawArrays","_uniformSetters","uniform","textureUpdate","textureIndex","_textureIndexCounter","texturesRenderable","createProgram","deleteProgram","getAttachedShaders","shaderHandle","programName","_getName","getName","attachShader","linkProgram","getProgramInfoLog","validateProgram","_uniformCount","getActiveUniform","getUniformLocation","l","uniformIndices","getActiveUniforms","blockName","getUniformBlockIndex","blockIndex","getActiveUniformBlockParameter","blockBinding","uniformBlockBinding","ProgramManager","_programCache","_getUniforms","_registeredModules","_hookFunctions","_defaultModules","_hashes","_hashCounter","stateHash","_useCounts","moduleName","_props$vs","_props$fs","_props$defines","_props$inject","_props$varyings","_props$transpileToGLS","_getModuleList","vsHash","_getHash","fsHash","moduleHashes","varyingHashes","defineKeys","injectKeys","defineHashes","injectHashes","assembled","appModules","_name","defaultProgramManager","fp32","COORDINATE_SYSTEM_GLSL_CONSTANTS","PROJECTION_MODE_GLSL_CONSTANTS","UNIT_GLSL_CONSTANTS","isEqual","memoize","cachedResult","cachedArgs","VECTOR_TO_POINT_MATRIX","IDENTITY_MATRIX","DEFAULT_PIXELS_PER_UNIT2","DEFAULT_COORDINATE_ORIGIN","getMemoizedViewportUniforms","coordinateSystem","_calculateMatrixAndOf","projectionCenter","originCommon","cameraPosCommon","_getOffsetOrigin","getOffsetOrigin","geospatialOrigin","shaderCoordinateOrigin","offsetMode","calculateMatrixAndOffset","getDistanceScales","viewportSize","project_uCoordinateSystem","project_uProjectionMode","projectionMode","project_uCoordinateOrigin","project_uCommonOrigin","project_uCenter","project_uPseudoMeters","_pseudoMeters","project_uViewportSize","project_uDevicePixelRatio","project_uFocalDistance","project_uCommonUnitsPerMeter","project_uCommonUnitsPerWorldUnit","project_uCommonUnitsPerWorldUnit2","project_uScale","project_uViewProjectionMatrix","project_uCameraPosition","distanceScalesAtOrigin","getUniformsFromViewport","_ref$devicePixelRatio","_ref$modelMatrix","_ref$coordinateSystem","_ref$autoWrapLongitud","autoWrapLongitude","project_uWrapLongitude","project_uModelMatrix","INITIAL_MODULE_OPTIONS","geometry","DEFAULT_MODULES","SHADER_HOOKS","createProgramManager","programManager","getDefaultProgramManager","shaderModule","addDefaultModule","shaderHook","addShaderHook","INITIAL_CONTEXT","layerManager","deck","shaderCache","pickingFBO","mousePosition","LayerManager","timeline","lastRenderedLayers","layers","_nextLayers","_needsRedraw","_needsUpdate","_debug","activateViewport","finalize","_finalizeLayer","clearRedrawFlags","redraw","layerNeedsRedraw","getNeedsRedraw","reason","_ref2$layerIds","layerIds","layerId","newLayers","_updateLayers","needsUpdate","setNeedsRedraw","setLayers","raiseError","oldLayers","oldLayerMap","oldLayer","generatedLayers","_updateSublayersRecursively","_finalizeOldLayers","_generatedLayers","hasUniformTransition","newLayer","sublayers","validateProps","_transferLayerState","_updateLayer","_initializeLayer","isComposite","getSubLayers","_handleError","_initialize","lifecycle","_transferState","_update","_finalize","aValue","bValue","ViewManager","views","viewState","controllers","_viewports","_viewportMap","_isUpdating","_eventManager","eventManager","_eventCallbacks","onViewStateChange","onInteractionStateChange","viewId","controller","updateTransition","rect","containsPixel","viewMap","view","viewOrViewId","getView","getViewStateId","filterViewState","viewports","getViewports","_setViews","_setViewState","_setSize","_rebuildViewports","setNeedsUpdate","_diffViews","Controller","_onViewStateChange","onStateChange","makeViewport","_getViewport","controllerProps","_createController","oldControllers","invalidateControllers","getViewState","oldController","_updateController","_buildViewportMap","newViews","oldViews","_","PERCENT_OR_PIXELS_REGEX","parsePosition","relative","getPosition","extent","View","_props$x","_props$y","_props$width","_props$height","viewportInstance","_props$type","_parseDimensions","viewportDimensions","getDimensions","newViewState","_y","_width","_height","defaultOpts","ViewportType","_Viewport","_opts$pitch","_opts$bearing","_opts$nearZMultiplier","_opts$farZMultiplier","_opts$repeat","_opts$worldOffset","worldOffset","_opts$legacyMeterSize","legacyMeterSizes","_opts$altitude","projectionParameters","viewOffset","multiplyLeft","_subViewports","getBounds","minOffset","maxOffset","offsetViewport","newCenter","_this$unprojectFlat3","_this$unprojectFlat4","onUpdate","onInterrupt","onEnd","Transition","_inProgress","settings","removeChannel","addChannel","_onUpdate","isFinished","TRANSITION_EVENTS","transitionEasing","transitionInterruption","onTransitionStart","onTransitionInterrupt","onTransitionEnd","TransitionManager","ControllerState","propsInTransition","transition","_onTransitionUpdate","nextProps","transitionTriggered","currentProps","_shouldIgnoreViewportChange","_isTransitionEnabled","_this$transition$sett","interruption","_triggerTransition","transitionDuration","transitionInterpolator","inProgress","interpolator","arePropsEqual","_isUpdateDueToCurrentTransition","startViewstate","endViewStateProps","shortestPathFrom","getDuration","initialProps","initializeProps","easing","_onTransitionEnd","inTransition","isZooming","isPanning","isRotating","_transition$settings","interpolateProps","getViewportProps","oldViewState","TransitionInterpolator","compare","extract","_propsToCompare","_propsToExtract","_requiredProps","startViewStateProps","_checkRequiredProps","DEFAULT_REQUIRED_PROPS","LinearInterpolator","_TransitionInterpolat","transitionProps","_this$opts","around","startViewport","endViewport","aroundPosition","panByPosition","NO_TRANSITION_PROPS","LINEAR_TRANSITION_PROPS","INERTIA_EASING","EVENT_TYPES","controllerState","controllerStateProps","transitionManager","_onTransition","_setInteractionState","linearTransitionProps","_transition","_events","_interactionState","isDragging","_customEvents","handleEvent","customEvents","toggleEvents","eventName","eventStartBlocked","_eventStartBlocked","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onTriplePanStart","_onTriplePan","_onTriplePanEnd","_onDoubleTap","_onWheel","_onKeyDown","_this$controllerState","_this$controllerState2","handled","stopPropagation","metaKey","altKey","ctrlKey","shiftKey","timer","dragMode","_getTransitionProps","processViewStateChange","inertia","_props$scrollZoom","scrollZoom","_props$dragPan","dragPan","_props$dragRotate","dragRotate","_props$doubleClickZoo","doubleClickZoom","_props$touchZoom","touchZoom","_props$touchRotate","touchRotate","_props$keyboard","keyboard","isInteractive","eventNames","newControllerState","extraProps","interactionState","getState","newStates","isPointInBounds","alternateMode","isFunctionKeyPressed","rightButton","invertPan","_panMove","updateViewport","_onPanMove","_onPanRotate","_onPanMoveEnd","_onPanRotateEnd","pan","endPos","panEnd","_newControllerState","rotate","rotateEnd","_newControllerState2","_this$scrollZoom","_this$scrollZoom$spee","_this$scrollZoom$smoo","smooth","rotateStart","blockEvents","_newControllerState3","zoomStart","_startPinchRotation","_lastPinchEvent","deltaAngleX","velocityZ","endScale","zoomEnd","_newControllerState4","isZoomOut","funcKey","_this$keyboard","zoomSpeed","moveSpeed","rotateSpeedX","rotateSpeedY","code","zoomOut","zoomIn","rotateLeft","moveLeft","rotateRight","moveRight","rotateUp","moveUp","rotateDown","moveDown","DEFAULT_STATE","MapState","_ViewState","_ref$minZoom","_ref$maxPitch","maxPitch","_ref$minPitch","minPitch","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","normalize","_getUpdatedState","_unproject","startPos","_viewportProps","newRotation","_ref5$deltaAngleX","_ref5$deltaAngleY","deltaAngleY","_this$_state","_calculateNewPitchAndBearing","_getRotationParams","_this$_state2","_calculateNewZoom","zoomedViewport","_zoomFromCenter","_panFromCenter","fromProps","_this$_viewportProps","_this$_viewportProps2","_props$normalize","_this$_viewportProps3","deltaScaleX","deltaScaleY","_this$_viewportProps4","centerY","startY","_this$_viewportProps5","ViewState","_applyConstraints","MapController","_Controller","oldProps","MapView","_View","_getControllerProps","DEFAULT_LIGHT_COLOR","idCount","AmbientLight","_props$color","_props$intensity","intensity","DEFAULT_LIGHT_DIRECTION","DirectionalLight","_props$direction","_props$_shadow","_shadow","shadow","Effect","Pass","LayersPass","_Pass","_drawLayers","onViewportActive","_props$clearCanvas","clearCanvas","clearGLCanvas","renderStats","viewportOrDescriptor","drawLayerParams","_getDrawLayerParams","subViewports","subViewport","_drawLayersInViewport","layerFilter","effects","moduleParameters","indexResolver","layerIndexResolver","drawContext","isPicking","renderPass","layerFilterCache","layerIndex","shouldDrawLayer","_shouldDrawLayer","layerParam","layerRenderIndex","_getModuleParameters","layerParameters","getLayerParameters","glViewport","pixelRatio","getGLViewport","clearOpts","scissorTest","renderStatus","totalCount","visibleCount","compositeCount","pickableCount","_drawLayerParams$laye","pickable","drawLayer","visible","filterSubLayer","rootLayerId","wrapLongitude","pickingActive","effect","getModuleParameters","layerIndices","resolvers","resolveLayerIndex","isDrawn","indexOverride","_offset","parentId","resolver","ShadowPass","_LayersPass","shadowMap","depthBuffer","fbo","depthTest","blend","shadowEnabled","drawToShadowMap","getMemoizedViewportCenterPosition","getMemoizedViewProjectionMatrices","shadowMatrices","projectionMatrices","farZ","screenToCommonSpace","shadowMatrix","positions","corner","DEFAULT_SHADOW_COLOR","createShadowUniforms","shadow_uDrawShadowMap","shadow_uUseShadowMap","shadowMaps","shadow_uColor","shadowColor","shadow_uLightId","shadowLightId","shadow_uLightCount","projectCenters","viewProjectionMatrices","viewProjectionMatrixCentered","dummyShadowMap","_opts$shadowEnabled","DEFAULT_AMBIENT_LIGHT_PROPS","DEFAULT_DIRECTIONAL_LIGHT_PROPS","LightingEffect","_Effect","ambientLight","directionalLights","pointLights","shadowPasses","lightSource","_applyDefaultLights","light","_createLightMatrix","_createShadowPasses","render","lightSources","directionalLight","getProjectedLight","pointLight","removeDefaultModule","lightMatrices","lookAt","shadowPass","DEFAULT_LIGHTING_EFFECT","EffectManager","_internalEffects","setEffects","cleanup","_createInternalEffects","DrawLayersPass","PICKING_PARAMETERS","PickLayersPass","_drawPickingBuffer","_ref$deviceRect","deviceRect","_ref$pass","redrawReason","pickZ","encodedColors","byLayer","byAlpha","_colors","decodePickingColor","decodeColor","pickingAttribute","pickParameters","encoded","entry","_entry","encodeColor","pickedColor","pickedLayer","pickedViewports","pickedObjectIndex","DeckRenderer","drawPickingColors","drawLayersPass","pickLayersPass","renderCount","renderBuffers","lastPostProcessEffect","layerPass","getDefaultFramebuffer","_preRender","outputBuffer","_postRender","preRender","postRender","_resizeRenderBuffers","inputBuffer","swapBuffer","NO_PICKED_OBJECT","getClosestObject","pickedColors","deviceX","deviceY","deviceRadius","minSquareDistanceToCenter","closestPixelIndex","dy2","d2","pickedObject","_dy","_dx","pickedX","pickedY","getEmptyPickingInfo","pickInfo","pickedViewport","getViewportFromCoordinates","coordinate","picked","devicePixel","processPickInfo","lastPickedInfo","affectedLayers","lastPickedObjectIndex","lastPickedLayerId","pickedLayerId","lastPickedLayer","baseInfo","infos","getLayerPickingInfo","updateAutoHighlight","sourceLayer","getPickingInfo","DeckPicker","_pickable","depthFBO","_pickClosestObject","_pickVisibleObjects","lastPickedViewportId","pickableLayers","isPickable","_ref2$radius","_ref2$depth","_ref2$mode","unproject3D","_getPickable","emptyInfo","_resizeBuffer","devicePixelRange","_this$pickingFBO","_getPickingRect","deviceWidth","deviceHeight","_drawAndSample","disablePickingIndex","restorePickingColors","_ref3$mode","_ref3$maxObjects","maxObjects","leftTop","deviceLeft","deviceTop","rightBottom","deviceRight","deviceBottom","pickInfos","uniqueColors","colorKey","getUniqueObjects","uniqueInfos","isMaxObjects","defaultStyle","backgroundColor","Tooltip","canvasParent","parentElement","el","appendChild","isVisible","displayInfo","innerText","innerHTML","html","_parseImageNode","IMAGE_SUPPORTED","IMAGE_BITMAP_SUPPORTED","NODE_IMAGE_SUPPORTED","DATA_SUPPORTED","getImageType","getImageTypeOrNull","drawImage","SVG_DATA_URL_PATTERN","SVG_URL_PATTERN","isSVG","getBlobOrSVGDataUrl","xmlText","unescape","encodeURIComponent","getBlob","parseToImage","_parseToImage","blobOrDataUrl","objectUrl","webkitURL","loadToImage","revokeObjectURL","_loadToImage","EMPTY_OBJECT","imagebitmapOptionsSupported","parseToImageBitmap","_parseToImageBitmap","imagebitmapOptions","imagebitmap","safeCreateImageBitmap","_safeCreateImageBitmap","isEmptyObject","createImageBitmap","BIG_ENDIAN","LITTLE_ENDIAN","getBinaryImageMetadata","binaryData","toDataView","getUint32","getPngMetadata","getUint16","_getJpegMarkers","tableMarkers","sofMarkers","getJpegMarkers","marker","getJpegMetadata","getGifMetadata","getBmpMetadata","parseToNodeImage","_parseImage","imageOptions","imageType","loadType","getLoadableImageType","getDefaultImageType","isImageTypeSupported","ImageLoader","firstChar","lastChar","existingVersion","_registerLoggers","normalizedLoader","registeredLoader","registerLoaders","premultiplyAlpha","Query","_queryPending","_pollingPromise","_ref$conservative","conservative","resultAvailable","getResult","counter","requestAnimationFrame","poll","isResultAvailable","hasTimerQuery","oldHandler","statIdCounter","AnimationLoop","_props$onCreateContex","onCreateContext","_props$onAddHTML","onAddHTML","_props$onInitialize","onInitialize","_props$onRender","onRender","_props$onFinalize","onFinalize","_props$gl","_props$glOptions","glOptions","_props$debug","_props$createFramebuf","_props$autoResizeView","autoResizeViewport","_props$autoResizeDraw","autoResizeDrawingBuffer","_props$stats","_props$useDevicePixel","useDevicePixelRatio","needsRedraw","cpuTime","gpuTime","frameRate","_initialized","_running","_animationFrameId","_nextFramePromise","_resolveNextFrame","_cpuStartTime","_pageLoadPromise","_onMousemove","_onMouseleave","_toDataURL","_setDisplay","_getPageLoadPromise","_createWebGLContext","_createFramebuffer","_startEventHandling","_initializeCallbackData","_updateCallbackData","_resizeCanvasDrawingBuffer","_resizeViewport","_gpuTimeQuery","animationProps","appContext","_addCallbackData","_startLoop","isContextLost","_beginTimers","_setupFrame","_renderFrame","_clearNeedsRedraw","offScreen","commit","_endTimers","_finalizeCallbackData","_cancelAnimationFrame","waitForRender","_this$props","_this$props2","_this$props3","_this$props4","_requestAnimationFrame","renderFrame","animationLoop","animationFrameId","cancelAnimationFrame","timerId","renderFrameCallback","_this$display","_resizeFramebuffer","startTime","tick","tock","_timeline","_animationLoop","_mousePosition","_this$_getSizeAndAspe","_getSizeAndAspect","_offScreen","_createInfoDiv","wrapperDiv","resizeGLContext","timeStart","isTimerDisjoint","getTimerMilliseconds","beginTimeElapsedQuery","predict","RECOGNIZERS","RECOGNIZER_COMPATIBLE_MAP","tripan","pinch","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","INPUT_EVENT_TYPES","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panup","pandown","panleft","panright","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","anyclick","dblclick","mouseover","mouseout","mouseleave","passiveSupported","passive","firefox","WHEEL_EVENTS","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WheelInput","deltaMode","wheelPosition","MOUSE_EVENTS","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","LEAVE_EVENT_TYPE","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","KEY_EVENTS","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","enableDownEvent","enableUpEvent","tabIndex","outline","targetElement","srcElement","tagName","ContextmenuInput","DEFAULT_OPTIONS","EventRegistrar","handlersByElement","_active","insertPosition","mjolnirEvent","_normalizeEvent","rootElement","_emit","immediatePropagationStopped","stopImmediatePropagation","entriesToRemove","_entries$i","_entriesToRemove$_i","_type","_handler","_event$srcEvent","buttons","leftButton","middleButton","whichButtons","getBoundingClientRect","offsetWidth","offsetHeight","clientLeft","clientTop","getOffsetPosition","recognizerOptions","EventManager","_onBasicInput","_onOtherEvent","setElement","ManagerClass","recognizerName","otherName","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","_removeEventHandler","fallbackRecognizers","enableEventType","isRecognizerUsed","eh","defaultProps","pickingRadius","eventRecognizerOptions","_animate","_typedArrayManagerProps","onWebGLInitialized","onResize","onBeforeRender","onAfterRender","onLoad","_onMetrics","getCursor","Deck","viewManager","effectManager","deckRenderer","deckPicker","_pickRequest","_lastPointerDownInfo","interactiveState","isHovering","_onEvent","_onPointerDown","_onPointerMove","initialViewState","_createCanvas","_createAnimationLoop","fps","setPropsTime","updateAttributesTime","framesRedrawn","pickTime","pickCount","gpuTimePerFrame","cpuTimePerFrame","bufferMemory","textureMemory","renderbufferMemory","gpuMemory","_metricsCounter","tooltip","removeChild","_setCanvasSize","resolvedProps","_getViews","_getViewState","viewManagerNeedsRedraw","layerManagerNeedsRedraw","effectManagerNeedsRedraw","deckRendererNeedsRedraw","_customRender","_pick","resourceIds","statKey","getLayers","getViews","_checkForCanvasSizeChange","_onContextLost","_setGLContext","_onRenderFrame","_this$_pick","pickedInfo","onHover","getTooltip","setTooltip","container","cursor","polygonOffsetFill","play","attachTimeline","pointerleave","_onInteractionStateChange","_updateCanvasSize","renderOptions","renderLayers","getEffects","_getFrameStats","_getMetrics","_updateCursor","updateLayers","_pickAndCallback","updateViewStates","eventOptions","getLastPickedObject","layerHandler","rootHandler","animationLoopStats","memoryStats","getPropTypes","PropTypes","oneOfType","arrayOf","instanceOf","bool","useLayoutEffect","useEffect","inheritsFrom","ParentType","ShaderAttribute","dataColumn","getBuffer","getAccessor","constantValue","elementOffset","getStride","bytesPerElement","resolveShaderAttribute","baseAccessor","shaderAttributeOptions","vertexOffset","DataColumn","logicalType","doublePrecision","bufferType","hasFeature","defaultType","glArrayFromType","shaderAttributes","fp64","externalBuffer","bufferAccessor","allocatedValue","constant","_buffer","_this$settings","isBuffer64Bit","doubleShaderAttributeDefs","high","resolvedOptions","low","shaderAttributeDef","_normalizeValue","_normalizeConstant","_areValuesEqual","_checkExternalBuffer","requiredBufferSize","subData","_opts$startOffset","startOffset","endOffset","numInstances","_ref3$copy","illegalArrayType","_this$settings2","EMPTY_ARRAY","placeholderArray","createIterable","startRow","endRow","objectInfo","getAccessorFromBuffer","startIndices","nested","elementStride","_sourceIndex","_j","_sourceIndex2","_j2","EMPTY","FULL","rangeList","range","newRangeList","range0","padArrayChunk","sourceLength","targetLength","datum","DEFAULT_TRANSITION_SETTINGS","interpolation","spring","stiffness","damping","normalizeTransitionSettings","userSettings","layerSettings","getSourceBufferAttribute","attribute","getAttributeTypeFromSize","cycleBuffers","buffers","getAttributeBufferLength","multiplier","noAlloc","padBuffer","fromLength","fromStartIndices","_ref$getData","precisionMultiplier","toStartIndices","hasStartIndices","toLength","isConstant","toData","getMissingData","sourceStartIndices","targetStartIndices","getChunkData","nextSourceIndex","nextTargetIndex","padArray","Attribute","_DataColumn","_opts$transition","_opts$noAlloc","_opts$update","_opts$accessor","_opts$transform","_opts$startIndices","_autoUpdater","lastExternalBuffer","binaryValue","binaryAccessor","updateRanges","_validateAttributeUpdaters","layout","_ref$clearChangedFlag","clearChangedFlags","supportsTransition","dataRange","_dataRange$startRow","_dataRange$endRow","updated","_startRow","_endRow","_step2$value","getVertexOffset","_checkAttributeArray","clearNeedsUpdate","needsNormalize","shaderAttributeDefs","shaderAttributeName","accessorFunc","_createIterable","objectValue","numVertices","FS100","FS_GLES","FS300","getQualifierDetails","qualifiers","words","_words","definition","getPassthroughFS","_options$version","inputType","outputValue","convertToVec4","typeToChannelCount","variable","TransformFeedback","unused","bindOnUse","_unbindBuffers","setBuffers","bufferName","setBuffer","bufferOrParams","_getVaryingIndex","_this$_getBufferParam","_getBufferParams","byteSize","_bindBuffer","bindTransformFeedback","_bindBuffers","beginTransformFeedback","endTransformFeedback","bufferIndex","_this$_getBufferParam2","createTransformFeedback","deleteTransformFeedback","BufferTransform","currentIndex","feedbackMap","bindings","binding","_setupTransformFeedback","sourceBuffers","attributes","_getNextIndex","_setupBuffers","varyingName","feedbackBuffers","_props$sourceBuffers","sourceName","feedbackName","bufferOrRef","_createNewBuffer","_props$sourceBuffers2","_getFeedbackBuffers","_updateBindings","model","_updateBinding","_this$_swapBuffers","_swapBuffers","nextIndex","srcName","dstName","getShaderVersion","_SRC_TEX_PARAMETER_OV","SAMPLER_UNIFORM_PREFIX","SIZE_UNIFORM_PREFIX","VS_POS_VARIABLE","updateForTextures","sourceTextureMap","targetTextureVarying","targetTexture","sourceCount","targetTextureType","samplerTextureMap","updatedVs","finalInject","vsLines","updateVsLines","textureMap","attributeData","getAttributeDefinition","updatedLine","_getSamplerDecleratio","textureName","samplerName","sizeName","uniformDeclerations","getSamplerDeclerations","typeToChannelSuffix","sampleInstruction","processAttributeDefinition","qualaiferDetails","getVaryingType","uniformDeclaration","posInstructions","getSizeUniforms","_sourceTextureMap$tex","SRC_TEX_PARAMETER_OVERRIDES","FS_OUTPUT_VARIABLE","TextureTransform","_swapTexture","updatedModelProps","_processVertexShader","_this$bindings$this$c","sourceTextures","discard","hasSourceTextures","hasTargetTexture","sampler","transform_elementID","elementIDBuffer","_setSourceTextureParameters","sizeUniforms","_setupTextures","_ref$packed","packed","channelCount","packedPixels","packCount","ownTexture","_targetTextureVarying","textureOrReference","_targetRefTexName","_createNewTexture","_props$_sourceTexture","_sourceTextures","_targetTexture","_createTargetTexture","_updateElementIDBuffer","elementCount","elementIds","_this$_swapTextures","_swapTextures","_this$bindings$this$c2","_updateForTextures","combinedInject","_fs","getScratchArray","getBrowser","ERR_ELEMENTS","VertexArrayObject","bufferValue","isDefaultArray","getMaxAttributes","elementBuffer","setElementBuffer","vertexAttribIPointer","_enable","disablingAttributeZero","constantAttributeZero","_normalizeConstantArrayValue","updateNeeded","_compareConstantArrayValues","v1","v2","elements","getVertexAttribOffset","defaultVertexArray","MAX_ATTRIBUTES","_setConstantFloatArray","_setConstantIntArray","_setConstantUintArray","vertexAttrib1fv","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttribI1iv","vertexAttribI2iv","vertexAttribI3iv","vertexAttribI4iv","vertexAttribI1uiv","vertexAttribI2uiv","vertexAttribI3uiv","vertexAttribI4uiv","MULTI_LOCATION_ATTRIBUTE_REGEXP","DEPRECATIONS_V6","VertexArray","elementsAccessor","drawParams","vertexArrayObject","setAttributes","_updateDrawParams","_setAttribute","clearDrawParams","appAccessor","_this$_resolveLocatio","_resolveLocationAndAccessor","_this$_resolveLocatio2","_setConstantAttributes","valueAccessor","_this5","INVALID_RESULT","_this$_getAttributeIn","_getAttributeIndex","accessInfo","_getAttributeInfo","currentAccessor","attributeName","multiLocation","locationOffset","getAttributeLocation","setConstant","_accessor","_setConstantAttributeZero","_setConstantAttribute","getConstantBuffer","indexCount","_updateDrawParamsForLocation","indexOffset","getVertexCount","_opts$maxElts","maxElts","_opts$size","terminator","_opts$isInteger","isInteger","decimal","getDebugTableRow","verts","_buffer$getDebugData","getDebugData","getGLSLDeclaration","typeAndName","getDebugTableForUniforms","_ref$header","_ref$undefinedOnly","undefinedOnly","PROJECT_MODULE_UNIFORM_REGEXP","uniformLocations","uniformNames","_uniformName","addUniformToTable","_uniformName2","_uniformName3","unusedCount","unusedTable","_table$uniformName","isDefined","isUniformDefined","_attributeInfo$access","GLTF_TO_LUMA_ATTRIBUTE_MAP","POSITION","NORMAL","COLOR_0","TEXCOORD_0","TEXCOORD_1","TEXCOORD_2","mapAttributeName","_ref$attributeMap","attributeMap","inferAttributeAccessor","category","DRAW_PARAMS","Model","lastLogTime","animated","_programManagerState","_managedProgram","_props$program","programProps","_programDirty","_attributes","_checkProgram","moduleSettings","geometryBuffers","_setModelProps","release","_deleteGeometryBuffers","indices","remappedName","getBuffersFromGeometry","normalizedAttributes","_opts$moduleSettings","_opts$uniforms","_opts$attributes","_opts$transformFeedba","_opts$parameters","_opts$vertexArray","updateModuleSettings","_logDrawCallStart","getDrawParams","_this$props$isIndexed","_this$props$indexType","_this$props$indexOffs","_this$props$vertexArr","vertexArrayInstanced","_this$props2$onBefore","_this$props2$onAfterR","didDraw","getDrawMode","_logDrawCallEnd","_opts$discard","_opts$unbindModels","unbindModels","_setFeedbackBuffers","unbindBuffers","bindBuffers","setGeometry","_feedbackBuffers","_this$programProps","logDrawTimeout","attributeTable","ELEMENT_ARRAY_BUFFER","attributeLocation","rowHeader","getDebugTableForVertexArray","_getDebugTableForUnif","uniformTable","_getDebugTableForUnif2","missingTable","configTable","glslDeclaration","varyingInfo","_glslDeclaration","getDebugTableForProgramConfiguration","Transform","bufferTransform","textureTransform","_opts$clearRenderTarg","clearRenderTarget","updatedOpts","_updateDrawOptions","swapped","resourceTransform","swap","resourceTransforms","setVertexCount","_buildResourceTransforms","_updateModelProps","setupResources","updatedProps","updateModelProps","canCreateBufferTransform","canCreateTextureTransform","getDrawOptions","GPUInterpolationTransition","attributeInTransition","currentStartIndices","currentLength","attributeType","ATTRIBUTE_TYPE","getTransform","bufferOpts","transitionSettings","padBufferOpts","enter","aFrom","aTo","vCurrent","_this$transition","run","GPUSpringTransition","getTexture","aPrev","aCur","vNext","TRANSITION_TYPES","AttributeTransitionManager","transitions","_removeTransition","getTransitionSetting","_updateAttribute","_attributeName","_attribute","animatedAttributes","isNew","TransitionType","TRACE_INVALIDATE","TRACE_UPDATE_START","TRACE_UPDATE_END","AttributeManager","_ref$id","updateTriggers","attributeTransitionManager","updaters","_add","attributeNameArray","triggerName","invalidatedAttributes","_invalidateTrigger","_ref2$startIndices","_ref2$props","_ref2$buffers","_ref2$context","accessorName","setExternalBuffer","setBinaryValue","setConstantValue","transitionUpdated","changedAttributes","getAttributes","hasAttribute","excludeAttributes","getShaderAttributes","_createAttribute","_mapUpdateTriggersToAttributes","triggers","getUpdateTriggers","allocate","updateBuffer","CPUInterpolationTransition","_Transition","fromValue","toValue","updateSpringElement","cur","distanceSquare","CPUSpringTransition","_currValue","_this$_prevValue","_prevValue","_this$_currValue","nextValue","updateSpring","UniformTransitionManager","_transition$value","propsChangedReason","compareProps","ignoreProps","dataChangedReason","dataChanged","dataComparator","_dataDiff","diffDataProps","updateTriggersChangedReason","diffUpdateTrigger","triggerChanged","diffUpdateTriggers","propsChanged","updateTriggersChanged","extensionsChanged","diffExtensions","transitionsChanged","diffTransitions","comparePropValues","_ref$ignoreProps","_ref$propTypes","_ref$triggerName","_Object$keys2","_changed","newProp","oldProp","equal","oldExtensions","newTriggers","oldTriggers","LayerType","_propTypes","isPlainObject","mergeShaders","mergedInjection","_DEFAULT_TEXTURE_PARA","lngLatZToWorldPosition","_lngLatZ$","normalizeParameters","normalizedParams","fromCoordinateSystem","fromCoordinateOrigin","getWorldPosition","_position","_position$","_vec4$transformMat","_vec4$transformMat2","DEFAULT_TEXTURE_PARAMETERS","internalTextures","boolean","optional","arrayEqual","valueType","function","component","dataTransform","specialTextureParameters","textureParameters","normalizePropDefinition","createProps","propsPrototype","getPropsPrototype","propsInstance","componentClass","getOwnProperty","parentClass","parentDefaultProps","componentPropDefs","_Object$entries","_Object$entries$_i","deprecatedFor","parentProps","componentName","getComponentName","createPropsPrototype","defaultValues","descriptors","async","getDescriptorForAsyncProp","addAsyncPropsToPropPrototype","_deprecatedProps","newValue","nameStr","newPropName","addDeprecatedPropsToPropPrototype","_mergedDefaultProps","createPropsPrototypeAndTypes","internalState","hasAsyncProp","getAsyncProp","EMPTY_PROPS","ComponentState","asyncProps","onAsyncPropUpdated","oldAsyncProps","_resolveAsyncIterable2","asyncProp","resolvedValue","pendingLoadCount","resolvedLoadCount","isAsyncPropLoading","_watchPromise","resolvedValues","originalValues","_createAsyncPropData","_updateAsyncProp","_didAsyncInputValueChange","_this$layer","_resolveAsyncIterable","_setPropValue","lastValue","freezeAsyncOldProps","_postProcessValue","_this$layer2","_setAsyncPropValue","onDataLoad","_this$layer3","_this$layer4","Component","LayerState","_ComponentState","attributeManager","subLayers","usesPickingColorCache","MAX_PICKING_COLOR_CACHE_SIZE","areViewportsEqual","oldViewport","pickingColorCache","__diff","_loadOptions","loadOptions","getLoadOptions","inResourceManager","contains","reloadAsyncProp","opacity","onClick","onDragStart","onDrag","onDragEnd","positionFormat","colorFormat","getPolygonOffset","highlightedObjectIndex","autoHighlight","highlightColor","Layer","_Component","layerName","_this$props$onError","_this$context","_this$context$onError","updateObject","setChangeFlags","stateChanged","_getNeedsRedraw","shouldUpdateState","_getUpdateParams","uniformTransitions","active","models","_worldToPixels","_worldToPixels2","_normalizeParameters","positionCommonSpace","pickingEvent","_color","shaders","getShaders","changeFlags","propsOrDataChanged","getAttributeManager","invalidateAll","neededPickingBuffer","needPickingBuffer","_attributeManager$att","pickingColors","instancePickingColors","pickingColorsAttribute","invalidate","getModels","viewportChanged","_setModelAttributes","getNumInstances","getStartIndices","ignoreUnknownAttributes","getChangedAttributes","updateAttributes","cacheSize","newCacheSize","pickingColor","encodePickingColor","objectIndex","_disablePickingIndex","_this$getAttributeMan","colors","_this$getAttributeMan2","updateSubBuffer","_initState","initializeState","_step6","_iterator6","_updateState","stateNeedsUpdate","currentViewport","_updateUniformTransition","updateParams","oldModels","updateState","_step7","_iterator7","modelChanged","_updateModules","_renderLayers","_updateAttributes","setInstanceCount","clearChangeFlags","resetOldProps","finalizeState","_step8","_iterator8","_ref8$moduleParameter","_ref8$uniforms","_ref8$parameters","_updateAttributeTransition","setModuleParameters","offsets","_step9","_iterator9","flags","flagChanged","somethingChanged","invalidateAttribute","_step10","_iterator10","_updateAutoHighlight","pickingModuleParameters","pickingSelectedColor","pickingHighlightColor","getOldProps","attributeManagerNeedsRedraw","_getAttributeManager","addInstanced","calculateInstancePickingColors","_onAsyncPropUpdated","setAsyncProps","diffProps","wrapInView","MAP_STYLE","evaluateChildren","childProps","componentProps","mapStyle","cloneElement","deckGLViewProps","needsDeckGLViewProps","CANVAS_ONLY_STYLES","mixBlendMode","redrawDeck","thisRef","DeckGL","forwardRef","useRef","current","setVersion","containerRef","canvasRef","jsxProps","useMemo","reactChildren","jsxLayers","jsxViews","reactElement","ElementType","reactProps","createLayer","extractJSXLayers","inRender","handleViewStateChange","viewStateUpdateRequested","handleInteractionStateChange","interactionStateUpdateRequested","deckProps","forwardProps","lastRenderedViewports","createDeckInstance","useImperativeHandle","handles","pickObject","pickMultipleObjects","pickObjects","getRefHandles","currentViewports","ContextProvider","_useMemo","containerStyle","canvasStyle","extractStyles","childrenUnderViews","defaultViewId","viewChildren","getViewport","_views$viewId","viewElement","offsetParent","positionChildrenUnderViews","control","MapShim","getIndex","class_1","__entries__","_a","global$1","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","getBordersSize","getHTMLElementContentRect","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","ResizeObserver","refProps","normalizeStyle","toJS","layerRef","normalizedLayer","interactive","mapboxApiAccessToken","mapboxApiUrl","attributionControl","preserveDrawingBuffer","reuseMaps","transformRequest","mapOptions","preventStyleDiffing","asyncRender","accessToken","search","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","getAccessToken","checkPropTypes","Mapbox","_map","mapboxgl","initialized","_checkStyleSheet","_destroy","_frame","_render","savedMap","oldContainer","getContainer","newContainer","classList","childNodes","_container","setStyle","diff","isStyleLoaded","_fireLoadEvent","_reuse","trackResize","baseApiUrl","_create","_updateMapViewport","_updateMapSize","sizeChanged","_updateMapStyle","jumpTo","_viewStateToMapboxProps","mapboxVersion","testElement","isCssLoaded","link","setAttribute","MAPBOX_LIMITS","_getUpdatedMapState","_this$_calculateNewLn","_calculateNewLngLat","_this$_calculateNewLn2","_zoomedViewport$getMa","_zoomedViewport$getMa2","_ref10","decapitalize","createContext","onViewportChange","MapContextProvider","Provider","setMap","useContext","getTerrainElevation","queryTerrainElevation","NO_TOKEN_WARNING","viewportProps","CONTAINER_STYLE","overflow","disableTokenWarning","visibilityConstraints","NoTokenWarning","href","StaticMap","accessTokenValid","setTokenState","_useState3","_useState4","setSize","mapboxRef","mapDivRef","overlayRef","mapbox","evt","getMap","resizeObserver","_entries$0$contentRec","queryRenderedFeatures","preventScroll","scrollTo","overlays","onScroll","mapContainerStyle","constraints","constraintName","checkVisibilityConstraints","visibility","WRAPPED_ANGULAR_PROPS","getEndValueByShortestPath","startValue","endValue","isWrappedAngularProp","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","ViewportFlyToInterpolator","startViewportProps","endViewportProps","_startValue","_endValue","_getFlyToTransitionPa","cosh","u","tanh","sinh","newZoom","newCenterWorld","flyToViewport","screenSpeed","maxDuration","_getFlyToTransitionPa2","getFlyToDuration","aroundLngLat","_WebMercatorViewport$","_WebMercatorViewport$2","_animationFrame","_onTransitionFrame","_updateViewport","_isTransitionInProgress","cropEasingFunction","_endTransition","_this$state","shouldEnd","mapState","newState","newViewport","_transitionManager","getMapState","_event$offsetCenter","newMapState","viewStateChanged","mapStateProps","_options$eventManager","_options$isInteractiv","_options$scrollZoom","_options$dragPan","_options$dragRotate","_options$doubleClickZ","_options$touchZoom","_options$touchRotate","_options$keyboard","prevOptions","dimensionChanged","processViewportChange","_panRotate","panStart","_this$dragPan$inertia","_this$dragRotate$iner","_this$touchZoom$inert","_newMapState","startPinchRotation","_this$touchRotate$ine","_newMapState2","_this$keyboard$zoomSp","_this$keyboard$moveSp","_this$keyboard$rotate","_this$keyboard$rotate2","keyCode","onDblClick","onContextMenu","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","onMouseOut","onWheel","clickRadius","interactiveLayerIds","onNativeClick","normalizeEvent","point","queryParams","_unused","onEvent","callbackName","onPointerDown","onPointerUp","onPointerMove","isEntering","isExiting","setState","onPointerClick","callbacks","isDoubleClickEnabled","cb","InteractiveMap","parentContext","eventCanvasRef","staticMapRef","viewportUpdateRequested","stateUpdateRequested","handleViewportChange","_thisRef$props","_interactionState$isD","updateControllerOpts","setOptions","wheel","contextmenu","eventCanvasStyle","_child","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","aKeys","bKeys","_aKeys","beforeId","updateLayer","prevProps","_props$layout","_props$paint","paint","minzoom","maxzoom","moveLayer","prevLayout","setLayoutProperty","prevPaint","setPaintProperty","setFilter","setLayerZoomRange","setLayerProperty","diffLayerStyles","layerCounter","propsRef","setStyleLoaded","_loaded","removeLayer","getLayer","addLayer","mapControlDefaultProps","captureScroll","captureDrag","captureClick","captureDoubleClick","capturePointerMove","mapControlPropTypes","onMount","onDoubleClick","watch","useMapControl","_thisRef","Control","_useMapControl","_containerRef","BaseControl","_PureComponent","createRef","_onScroll","_onDragStart","_onDblClick","_onClick","PureComponent","draggable","offsetLeft","offsetTop","draggableControlDefaultProps","getDragEventPosition","getDragLngLat","dragPos","dragOffset","_event$center","getDragEventOffset","setDragPos","setDragOffset","callbackEvent","registerEvents","crispPixel","crispPercentage","percentage","dimension","origSize","Marker","useDraggableControl","_getPosition","_viewport$project","_viewport$project2","_getPosition2","ANCHOR_POSITION","ANCHOR_TYPES","tipSize","anchor","dynamicPosition","sortByDepth","closeButton","closeOnClick","onClose","selfWidth","selfHeight","_ANCHOR_POSITION$anch","anchorX","anchorY","cutoffY","bestAnchorY","minCutoff","xStep","cutoffX","bestAnchorX","_minCutoff","positionType","anchorPosition","getDynamicPosition","Popup","contentRef","setLoaded","clickCallback","xPercentage","yPercentage","getContainerStyle","onClickCloseButton","borderWidth","toggleLabel","AttributionControl","innerContainerRef","showCompact","setShowCompact","attributionContainer","_innerContainer","_updateAttributions","_updateEditLink","_updateData","setupAttributioncontrol","customAttribution","removeAttributionControl","compact","toggleAttribution","label","FullscreenControl","isFullscreen","setIsFullscreen","showButton","setShowButton","_useState5","_useState6","mapboxFullscreenControl","createMapboxFullscreenControl","_checkFullscreenSupport","onFullscreenChange","nextState","_fullscreen","_fullscreenchange","_onClickFullscreen","disabledLabel","auto","positionOptions","enableHighAccuracy","fitBoundsOptions","trackUserLocation","showUserLocation","showAccuracyCircle","onGeolocate","updateCamera","accuracy","toBounds","_ne","_sw","_context$viewport$fit","fitBounds","GeolocateControl","geolocateButtonRef","mapboxGeolocateControl","createMapboxGeolocateControl","supportsGeolocation","setSupportsGeolocation","permissions","query","geolocation","geolocateButton","_getUIString","_setupUI","_geolocateButton","_watchState","setupMapboxGeolocateControl","_updateCamera","_clearWatch","triggerGeolocate","trigger","_onZoom","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","getUIVersion","version1","version2","part1","part2","compareVersions","renderButton","NavigationControl","uiVersion","renderCompass","unit","ScaleControl","mapboxScaleControl","createMapboxScaleControl","_onMove","CanvasOverlay","setDrawingContext","save","restore","HTMLOverlay","SVGOverlay","DEFAULT_MODULE_OPTIONS","picking","selectedColor","picking_uSelectedColorValid","picking_uSelectedColor","picking_uHighlightColor","picking_uActive","picking_uAttribute","DRAW_MODE","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","Geometry","_props$drawMode","_props$attributes","_props$indices","_props$vertexCount","_setAttributes","_calculateVertexCount","_print","Tesselator","typedArrayManager","indexStarts","vertexStarts","_attributeDefs","updateGeometry","_this$opts$buffers","getGeometry","geometryBuffer","_this$opts$normalize","positionSize","getGeometryFromBuffer","_rebuildGeometry","visitor","_ref2$startRow","_ref2$endRow","normalizedData","_forEachGeometry","dataIndex","normalizeGeometry","getGeometrySize","byteStride","vertexStart","indexStart","vertexEnd","geometrySize","geometryIndex","updateGeometryAttributes","WINDING","points","windingDirection","getPolygonWindingDirection","reversePolygon","_options$start","_options$end","_options$start3","_options$end3","_options$size2","numPoints","numSwaps","tmp","intersect","edge","snap","bitCode","isDuplicate","startI","cutPolylineByGrid","codeB","_options$size","_options$broken","broken","_options$gridResoluti","gridResolution","_options$gridOffset","gridOffset","_options$startIndex","_options$endIndex","part","cell","getGridCell","scratchPoint","codeAlt","moveToNeighborCell","concatInPlace","arr1","cutPolygonByGrid","_options$gridResoluti2","_options$gridOffset2","_options$edgeTypes","edgeTypes","_queue$shift","getBoundingBox","parts","bisectPolygon","polygonLow","polygonHigh","polygon","side","resultLow","resultHigh","typesLow","typesHigh","prevSide","prevType","lowPointCount","highPointCount","DEFAULT_MAX_LATITUDE","findSplitIndex","maxLat","pointIndex","insertPoleVertices","firstLng","lastLng","wrapLongitudesForShortestPath","prevLng","shiftLongitudesIntoRange","refLng","pointCount","normalizePath","path","flatPath","_options$normalize","newPositions","cutPolylineByMercatorBounds","PathTesselator","_Tesselator","segmentTypes","resolution","subPath","getPathLength","isClosed","_updateSegmentTypes","_updatePositions","isPathClosed","ptIndex","getPointOnPath","loop","lastPointIndex","DEFAULT_COLOR","widthUnits","widthScale","widthMinPixels","widthMaxPixels","jointRounded","capRounded","miterLimit","billboard","_pathType","getPath","getWidth","rounded","ATTRIBUTE_TRANSITION","PathLayer","_Layer","project32","use64bitPositions","calculatePositions","instanceLeftPositions","instanceStartPositions","instanceEndPositions","instanceRightPositions","instanceTypes","calculateSegmentTypes","instanceStrokeWidths","instanceColors","__source","pathTesselator","getDashArray","_this$state$model","_getModel","jointType","capType","savedCallback","setInterval","clearInterval","TSP","CompositeLayer","DefaultLayerClass","overridingProps","_subLayerProps","sourceObject","sourceObjectIndex","sublayerProps","overridingSublayerProps","overridingSublayerTriggers","sublayerId","subLayerPropTypes","getSubLayerAccessor","passThroughProps","getSubLayerProps","shouldUpdate","replaceInRange","replaceStart","replaceEnd","dataLengthChanged","endChunk","binaryToFeatureForAccesor","featureIndex","featureIds","propertiesIndex","numericPropsIndex","numericProps","getPropertiesForIndex","getIconId","resizeTexture","oldWidth","oldHeight","newTexture","_options$sourceX2","_options$sourceY2","_options$targetMipmap","targetMipmaplevel","_options$targetIntern","targetInternalFormat","targetX","targetY","_getFramebuffer3","isSubCopy","copyTexSubImage2D","copyTexSubImage3D","copyTexImage2D","copyToTexture","buildRowMapping","mapping","yOffset","_columns$i","xOffset","IconManager","_ref2$onUpdate","_ref2$onError","_getIcon","_texture","_externalTexture","_mapping","_pendingCount","_autoPacking","_xOffset","_yOffset","_rowHeight","_canvasWidth","_canvasHeight","_canvas","_this$_texture","autoPacking","iconAtlas","iconMapping","getIcon","_updateIconAtlas","_updateAutoPacking","_this$_texture2","icons","cachedIcons","getDiffIcons","_buildMapping","_ref$mapping","_ref$xOffset","_ref$yOffset","_ref$rowHeight","rowHeight","buildMapping","_loadIcons","_this$_mapping$id","resizeImage","finally","sizeScale","sizeUnits","sizeMinPixels","sizeMaxPixels","alphaCutoff","getSize","getPixelOffset","onIconError","IconLayer","iconManager","_onError","instancePositions","instanceSizes","instanceOffsets","getInstanceOffset","instanceIconFrames","getInstanceIconFrame","instanceColorModes","getInstanceColorMode","instanceAngles","instancePixelOffset","iconMappingChanged","iconsTexture","iconsTextureDim","getCurrentLayer","getIconMapping","radiusUnits","radiusScale","radiusMinPixels","radiusMaxPixels","lineWidthUnits","lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","stroked","filled","antialiasing","getRadius","getFillColor","getLineColor","getLineWidth","strokeWidth","ScatterplotLayer","instanceRadius","instanceFillColors","instanceLineColors","instanceLineWidths","MultiIconLayer","_IconLayer","outlineColor","sdf","outlineWidth","smoothing","outlineBuffer","gamma","getIconOffsets","SINGLE_LINE","getTextWidth","character","frameWidth","frame","breakAll","rowStartCharIndex","rowOffsetLeft","textWidth","breakWord","groupStartCharIndex","groupEndCharIndex","groupWidth","autoWrapping","wordBreak","transformRow","leftOffsets","rowSize","codePointAt","transformParagraph","paragraph","lineHeight","numCharacters","rowWidth","autoWrappingEnabled","rowOffsetTop","lineStartIndex","lineEndIndex","rows","rowIndex","rowStart","rowEnd","LRUCache","_order","_deleteOrder","_appendOrder","_deleteCache","DEFAULT_CHAR_SET","charSet","getDefaultCharacterSet","DEFAULT_FONT_FAMILY","DEFAULT_FONT_WEIGHT","VALID_PROPS","getNewChars","characterSet","cachedFontAtlas","newChars","cachedMapping","cachedCharSet","populateAlphaChannel","setTextStyle","FontAtlasManager","_atlas","oldKey","_getKey","fontAtlas","_generateFontAtlas","getFontWidth","fontHeight","maxCanvasWidth","tinySDF","_imageData","_char","getBoundingRect","TextBackgroundLayer","instanceRects","instancePixelOffsets","DEFAULT_FONT_SETTINGS","TEXT_ANCHOR","ALIGNMENT_BASELINE","FONT_SETTINGS_PROPS","getBackgroundColor","getBorderColor","getBorderWidth","backgroundPadding","fontSettings","getText","getTextAnchor","getAlignmentBaseline","TextLayer","_CompositeLayer","styleVersion","fontAtlasManager","textChanged","oldCharacterSet","_updateText","fontChanged","_fontChanged","_updateFontAtlas","oldFontSettings","textBuffer","autoCharacterSet","_getTextFromBuffer","characterCount","texts","codes","codesAtIndex","fromCodePoint","charCode","getTextFromBuffer","_transformParagraph","_transformParagraph$s","_transformParagraph2","_transformParagraph2$","rowOffset","_this$state2","_this$state2$fontAtla","CharactersLayerClass","getSubLayerClass","BackgroundLayerClass","convertColor","_ref$intensity","getLightSourceUniforms","_ref2$pointLights","_ref2$directionalLigh","lightSourceUniforms","attenuation","lighting_uPointLightCount","lighting_uDirectionalLightCount","lights","hasLights","lighting_uEnabled","MAX_LIGHTS","getMaterialUniforms","material","_material$ambient","ambient","_material$diffuse","diffuse","_material$shininess","shininess","_material$specularCol","specularColor","lighting_uAmbient","lighting_uDiffuse","lighting_uShininess","lighting_uSpecularColor","gouraudLighting","LIGHTING_VERTEX","OUTER_POLYGON_WINDING","HOLE_POLYGON_WINDING","windingOptions","isFlatRingClosed","copyNestedRing","targetStartIndex","simplePolygon","p0","isNestedRingClosed","copyFlatRing","srcStartIndex","srcEndIndex","srcLength","_polygon","srcPositions","srcHoleIndices","isSimple","_targetIndex","polygonIndex","PolygonTesselator","_opts$IndexType","IndexType","vertexValid","externalIndices","_options$normalize2","newHoleIndices","ringIndex","splitIndex","cutPolygonByMercatorBounds","subPolygon","_updateIndices","_updateVertexValid","normalizedPolygon","preproject","positionIndex","polygonPositions","extruded","wireframe","_normalize","_windingOrder","elevationScale","getPolygon","getElevation","SolidPolygonLayer","RING_WINDING_ORDER_CW","polygonTesselator","calculateIndices","nextPositions","calculateVertexValid","elevations","instanceElevations","fillColors","lineColors","topModel","sideModel","renderUniforms","setDrawMode","isWireframe","_this$state$models","_getModels","NON_INSTANCED_MODEL","vertexPositions","isSideVertex","POINT_LAYER","circle","pointRadiusMaxPixels","pointRadiusMinPixels","pointRadiusScale","pointRadiusUnits","pointAntialiasing","pointBillboard","getPointRadius","iconSizeMaxPixels","iconSizeMinPixels","iconSizeScale","iconSizeUnits","iconAlphaCutoff","iconBillboard","getIconAngle","getIconColor","getIconPixelOffset","getIconSize","textSizeMaxPixels","textSizeMinPixels","textSizeScale","textSizeUnits","textBackground","textBackgroundPadding","textFontFamily","textFontWeight","textLineHeight","textMaxWidth","textOutlineColor","textOutlineWidth","textWordBreak","textCharacterSet","textBillboard","textFontSettings","getTextAngle","getTextColor","getTextPixelOffset","getTextSize","getTextAlignmentBaseline","getTextBackgroundColor","getTextBorderColor","getTextBorderWidth","LINE_LAYER","lineJointRounded","lineCapRounded","lineMiterLimit","lineBillboard","POLYGON_LAYER","getDefaultProps","_layer$props","sourceKey","targetKey","separateGeojsonFeatures","wrapFeature","separated","pointFeatures","lineFeatures","polygonFeatures","polygonOutlineFeatures","geometries","subGeometry","separateGeometry","sourceFeature","sourceFeatureIndex","coordinates","nestLevel","COORDINATE_NEST_LEVEL","validateGeometry","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","getCoordinates","createLayerPropsFromBinary","geojsonBinary","layerProps","polygons","polygonsOutline","customPickingColors","globalFeatureIds","calculatePickingColors","pathIndices","polygonIndices","primitivePolygonIndices","pointType","GeoJsonLayer","getLineDashArray","_updateStateBinary","_updateStateJSON","geojson","getGeojsonFeatures","getSubLayerRow","newFeatures","featuresDiff","oldFeatures","partialFeatures","createLayerPropsFromFeatures","pointLayerIdPrefix","sourceIsPoints","PolygonFillLayer","shouldRenderSubLayer","forwardedProps","useLineColor","polygonStrokeLayerId","lineStringsLayerId","PolygonStrokeLayer","LineStringsLayer","pointLayers","PointLayerMapping","PointsLayer","polygonFillLayer","_renderPolygonLayer","_renderLineLayers","_renderPointLayers","usaViewport","pathLayer","setPathLayer","capitals","setCapitals","setDelay","setTimestamp","setDistance","nearestNeighbour","pathAnimation","setPathAnimation","algo","setAlgo","usaCapitals","useInterval","accumulator","currentValue","myDistance","totalPathCost","justify","align","gap","marginTop","nearestInsertion","cheapestInsertion","farthestInsertion","randomInsertion","convexHull","twoOpt","colorScheme","faPlayCircle","faPause","faRedoAlt","Tsp","TspVisualizer","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","isGeneratorFunction","genFun","ctor","mark","awrap","reverse","skipTempReset","charAt","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis"],"sourceRoot":""}